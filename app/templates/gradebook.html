{% extends 'layout.html' %}
{% block content %}
{% raw %}

<div ng-app="gradebook" ng-controller="GradesCtrl as grades">

    <div class="col-md-2">
        <h4>Subjects</h4>
        <ul class="nav nav-pills nav-stacked">
            <li role="presentation" ng-repeat="sub in subjects" ng-class="{'active':csub === sub.id}">
                <a href ng-click="$parent.csub = sub.id; getassms(sub.id); $parent.cassm = 0">{{ sub.name }}</a>
            </li>
        </ul>
    </div>

    <div class="col-md-5">
        <h4 ng-hide="csub === 0">Assignments</h4>
        <table class="table table-hover" ng-hide="csub === 0">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tr ng-repeat="assm in cassms" ng-class="{'info':cassm === assm.id}" ng-click="$parent.cassm = assm.id; getscores(assm.id)">
                <td class="text-center">
                    {{ assm.name }}
                </td>
                <td class="text-center">
                    {{ assm.date | date:'MMMM d'}}
                </td>
            </tr>
        </table>
    </div>

    <div class="col-md-5">
        <h4 ng-hide="cassm === 0">Scores</h4>
        <table class="table table-hover" ng-hide="cassm === 0">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tr ng-repeat="score in scores">
                <td class="text-center">{{ score.studref.first_name }}</td>
                <td class="text-center">
                    <a editable-text="score.value" e-style="width:50px;" buttons="no" onbeforesave="updateScore($data, score.id)">{{ score.value }}</a>
                </td>
            </tr>
        </table>
    </div>
</div>
{% endraw %}
{% endblock %}
