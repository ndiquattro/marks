define("app",["exports","aurelia-framework","shared/services/currentService","aurelia-auth"],function(e,t,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var o,s;e.App=(o=(0,t.inject)(n.CurrentService,i.AuthService))(s=function(){function e(t,n){r(this,e),this.current=t,this.auth=n}return e.prototype.configureRouter=function(e,t){e.title="Marks",e.addPipelineStep("authorize",i.AuthorizeStep),e.map([{route:"/",moduleId:"./home/index",nav:0,title:"Welcome",auth:!1},{route:"gradebook",moduleId:"./gradebook/index",nav:1,title:"Gradebook",name:"gradebook",auth:!0},{route:"reports",moduleId:"./reports/index",nav:2,title:"Reports",auth:!0},{route:"settings",moduleId:"./admin/settings",title:"Settings",name:"settings",auth:!0},{route:"password/:token",moduleId:"./admin/components/password",title:"Reset Password"},{route:"payment",moduleId:"./home/signup/payment",title:"Setup Payment",name:"payment",auth:!0},{route:"first_time",moduleId:"./home/signup/firstTime",title:"Gradebook Setup",name:"firsttime",auth:!0},{route:"gradebook/addsubject",moduleId:"./gradebook/addSubject",title:"Add Subject",name:"addsubject",auth:!0},{route:"gradebook/addstudent",moduleId:"./gradebook/addStudent",title:"Add Student",name:"addstudent",auth:!0},{route:"gradebook/addyear",moduleId:"./gradebook/addYear",title:"Add Year",name:"addyear",auth:!0}]),this.router=t},e.prototype.activate=function(){this.reviveUser()},e.prototype.reviveUser=function(){if(this.auth.isAuthenticated()){var e=this.auth.getTokenPayload();this.current.reviveUser(e.identity)}},e}())||s}),define("authConfig",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={baseUrl:"http://localhost:5000/",loginRedirect:"#/gradebook"},n={},i=void 0;i="localhost"===window.location.hostname?t:n,e.default=i}),define("environment",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1}}),define("main",["exports","./environment","./authConfig"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.use.standardConfiguration().feature("validation").plugin("aurelia-auth",function(e){e.configure(s.default)}),o.default.debug&&e.use.developmentLogging(),o.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=r;var o=i(t),s=i(n)}),define("admin/settings",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Settings=function e(){t(this,e)}}),define("gradebook/addStudent",["exports","aurelia-framework","aurelia-validation","shared/services/currentService","shared/services/apiService","gradebook/models/student"],function(e,t,n,i,r,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AddStudent=void 0;var a,l;e.AddStudent=(a=(0,t.inject)(i.CurrentService,r.ApiService,n.ValidationControllerFactory))(l=function(){function e(t,n,i){s(this,e),this.newStudent=new o.Student,this.current=t,this.api=n,this.controller=i.createForCurrentScope()}return e.prototype.created=function(){this.title="Add Student",this.bttn="Add Student",this.students=[],this.setStudentList(),this.formStart=!0},e.prototype.reset=function(){this.controller.reset(),this.newStudent=new o.Student,this.title="Add Student",this.bttn="Add Student"},e.prototype.setStudentList=function(){var e=this,t={filters:[{name:"year_id",op:"eq",val:this.current.year.id}],order_by:[{field:"first_name",direction:"asc"}]};this.api.find("students",t).then(function(t){return e.students=t})},e.prototype.edit=function(e){this.newStudent=e,this.controller.reset(),this.title="Edit Student",this.bttn="Save Changes"},e.prototype.delete=function(e){var t=this;confirm("Are you sure you want to delete "+e.fullName+"?")&&this.api.delete(e).then(function(e){return t.setStudentList()})},e.prototype.submit=function(){var e=this;this.controller.validate().then(function(t){t.valid&&(e.formStart=!0,e.newStudent.year_id||(e.newStudent.year_id=e.current.year.id),e.api.save(e.newStudent).then(function(t){e.setStudentList(),e.reset()}))})},e}())||l}),define("gradebook/addSubject",["exports","aurelia-framework","aurelia-validation","shared/services/currentService","shared/services/apiService","gradebook/models/subject"],function(e,t,n,i,r,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AddSubject=void 0;var a,l;e.AddSubject=(a=(0,t.inject)(i.CurrentService,r.ApiService,n.ValidationControllerFactory))(l=function(){function e(t,n,i){s(this,e),this.newSubject=new o.Subject,this.current=t,this.api=n,this.controller=i.createForCurrentScope()}return e.prototype.created=function(){this.title="Add Subject",this.bttn="Add Subject",this.current.setSubjectList(),this.formStart=!0},e.prototype.reset=function(){this.title="Add Subject",this.bttn="Add Subject",this.formStart=!0,this.newSubject=new o.Subject,this.controller.reset()},e.prototype.edit=function(e){this.controller.reset(),this.newSubject=e,this.formStart=!0,this.title="Edit Subject",this.bttn="Save Changes"},e.prototype.delete=function(e){var t=this;confirm("Are you sure you want to delete "+e.name+"?")&&this.api.delete(e).then(function(e){return t.current.setSubjectList()})},e.prototype.submit=function(){var e=this;this.controller.validate().then(function(t){t.valid&&(e.newSubject.year_id||(e.newSubject.year_id=e.current.year.id),e.api.save(e.newSubject).then(function(t){e.current.setSubjectList(),e.reset()}))})},e}())||l}),define("gradebook/addYear",["exports","aurelia-framework","aurelia-validation","shared/services/currentService","shared/services/apiService","gradebook/models/year"],function(e,t,n,i,r,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AddYear=void 0;var a,l;e.AddYear=(a=(0,t.inject)(i.CurrentService,r.ApiService,n.ValidationControllerFactory))(l=function(){function e(t,n,i){s(this,e),this.newYear=new o.Year,this.current=t,this.api=n,this.controller=i.createForCurrentScope()}return e.prototype.created=function(){this.title="Add Year",this.bttn="Add Year",this.setYearList(),this.formStart=!0},e.prototype.reset=function(){this.controller.reset(),this.newYear=new o.Year,this.formStart=!0,this.title="Add Year",this.bttn="Add Year"},e.prototype.setYearList=function(){var e=this,t={order_by:[{field:"first_day",direction:"desc"}]};this.api.find("years",t).then(function(t){return e.years=t}).catch(function(e){return console.log(e)})},e.prototype.edit=function(e){this.newYear=e,this.title="Edit Year",this.bttn="Save Changes"},e.prototype.delete=function(e){var t=this;confirm("Are you sure you want to delete "+e.school+" ("+e.first_day+")?")&&this.api.delete(e).then(function(e){return t.setYearList()}).catch(function(e){return console.log(e)})},e.prototype.submit=function(){var e=this;this.controller.validate().then(function(t){t.valid&&e.api.save(e.newYear).then(function(t){e.current.year&&e.newYear.id!==e.current.year.id||e.current.setYear(t),e.setYearList(),e.reset()}).catch(function(e){return console.log(e)})})},e}())||l}),define("gradebook/index",["exports","aurelia-framework","aurelia-event-aggregator","shared/services/currentService","shared/services/apiService"],function(e,t,n,i,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.GradeBook=void 0;var s,a;e.GradeBook=(s=(0,t.inject)(i.CurrentService,r.ApiService,n.EventAggregator))(a=function(){function e(t,n,i){o(this,e),this.current=t,this.api=n,this.ea=i,this.quickEntry=!1,this.editMode=!1}return e.prototype.created=function(){this.current.year&&this.current.setSubjectList()},e.prototype.addAssignment=function(){this.current.clearAssignment(),this.editMode="add"},e.prototype.editAssignment=function(){this.editMode="edit"},e.prototype.deleteAssignment=function(){var e=this;confirm("Are you sure you want to delete "+this.current.assignment.name+"?")&&(this.api.delete(this.current.assignment).then(function(t){return e.ea.publish("reloadAssignments")}),this.current.clearAssignment())},e.prototype.toggleQuick=function(){this.quickEntry=!this.quickEntry},e}())||a}),define("home/index",["exports","aurelia-framework","aurelia-router","aurelia-auth","aurelia-validation","shared/services/currentService","shared/models/user"],function(e,t,n,i,r,o,s){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Home=void 0;var l,c;e.Home=(l=(0,t.inject)(n.Router,i.AuthService,o.CurrentService,r.ValidationControllerFactory))(c=function(){function e(t,n,i,r){a(this,e),this.newUser=new s.User,this.router=t,this.auth=n,this.current=i,this.controller=r.createForCurrentScope()}return e.prototype.submitSignUp=function(){var e=this;this.controller.validate().then(function(t){t.valid&&e.auth.signup(e.newUser).then(function(t){e.current.setUser(new s.User(t.user)),e.router.navigateToRoute("payment"),location.reload()})})},e}())||c}),define("reports/index",["exports","aurelia-framework","../shared/services/currentService","../shared/services/apiService"],function(e,t,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Reports=void 0;var o,s;e.Reports=(o=(0,t.inject)(n.CurrentService,i.ApiService))(s=function(){function e(t,n){r(this,e),this.current=t,this.api=n}return e.prototype.attached=function(){this.reports=["Student"]},e.prototype.setReport=function(e){this.selectedReport=e},e}())||s}),define("validation/bootstrap-form-renderer",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.BootstrapFormRenderer=void 0;e.BootstrapFormRenderer=function(){function e(){n(this,e)}return e.prototype.render=function(e){for(var t=e.unrender,n=Array.isArray(t),i=0,t=n?t:t[Symbol.iterator]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if(i=t.next(),i.done)break;r=i.value}for(var o=r,s=o.result,a=o.elements,l=a,c=Array.isArray(l),d=0,l=c?l:l[Symbol.iterator]();;){var u;if(c){if(d>=l.length)break;u=l[d++]}else{if(d=l.next(),d.done)break;u=d.value}var p=u;this.remove(p,s)}}for(var f=e.render,h=Array.isArray(f),m=0,f=h?f:f[Symbol.iterator]();;){var v;if(h){if(m>=f.length)break;v=f[m++]}else{if(m=f.next(),m.done)break;v=m.value}for(var b=v,s=b.result,a=b.elements,g=a,y=Array.isArray(g),x=0,g=y?g:g[Symbol.iterator]();;){var w;if(y){if(x>=g.length)break;w=g[x++]}else{if(x=g.next(),x.done)break;w=x.value}var S=w;this.add(S,s)}}},e.prototype.add=function(e,t){if(!t.valid){var n=e.closest(".form-group");if(n){n.classList.add("has-error");var i=document.createElement("span");i.className="help-block validation-message",i.textContent=t.message,i.id="validation-message-"+t.id,n.appendChild(i)}}},e.prototype.remove=function(e,t){if(!t.valid){var n=e.closest(".form-group");if(n){var i=n.querySelector("#validation-message-"+t.id);i&&(n.removeChild(i),0===n.querySelectorAll(".help-block.validation-message").length&&n.classList.remove("has-error"))}}},e}()}),define("validation/index",["exports","./bootstrap-form-renderer","./rules"],function(e,t){"use strict";function n(e){e.plugin("aurelia-validation"),e.container.registerHandler("bootstrap-form",function(e){return e.get(t.BootstrapFormRenderer)})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=n}),define("validation/rules",["aurelia-validation"],function(e){"use strict";e.ValidationRules.customRule("date",function(e,t){return null===e||void 0===e||""===e||!isNaN(Date.parse(e))},"${$displayName} must be a valid date.")}),define("admin/components/password",["exports","aurelia-framework","shared/services/httpService"],function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Password=void 0;var r,o;e.Password=(r=(0,t.inject)(n.HttpService))(o=function(){function e(t){i(this,e),this.http=t}return e.prototype.activate=function(e){void 0!==e.token?(this.token=e.token,this.reset=!0):this.reset=!1},e.prototype.attached=function(){this.password={}},e.prototype.resetPassword=function(){var e=this;this.password.token=this.token,this.http.send("auth/reset_password",this.password).then(function(t){t.error?e.feedback="Error: "+t.error:e.feedback="Password Changed!"})},e.prototype.changePassword=function(){var e=this;this.http.send("auth/change_password",this.password,!0).then(function(t){return e.feedback=t.message})},e}())||o}),define("admin/components/profile",["exports","aurelia-framework","aurelia-validation","shared/services/apiService","shared/services/currentService"],function(e,t,n,i,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Profile=void 0;var s,a;e.Profile=(s=(0,t.inject)(r.CurrentService,i.ApiService,n.ValidationControllerFactory))(a=function(){function e(t,n,i){o(this,e),this.current=t,this.api=n,this.controller=i.createForCurrentScope()}return e.prototype.attached=function(){this.profile=this.current.user},e.prototype.submit=function(){var e=this;this.controller.validate().then(function(t){t.valid&&(e.isSaving=!0,e.api.save(e.profile).then(function(t){e.isSaving=!1,e.saved=!0}))})},e}())||a}),define("gradebook/components/addAssignment",["exports","aurelia-framework","aurelia-validation","aurelia-event-aggregator","shared/services/currentService","shared/services/apiService","gradebook/models/assignment","moment"],function(e,t,n,i,r,o,s,a){"use strict";function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AddAssignment=void 0;var d,u,p,f,h=function(e){return e&&e.__esModule?e:{default:e}}(a);e.AddAssignment=(d=(0,t.inject)(o.ApiService,r.CurrentService,i.EventAggregator,n.ValidationControllerFactory))((p=function(){function e(t,n,i,r){c(this,e),l(this,"mode",f,this),this.newAssignment=new s.Assignment({date:(0,h.default)().format("YYYY-MM-DD")}),this.api=t,this.current=n,this.ea=i,this.controller=r.createForCurrentScope()}return e.prototype.attached=function(){"edit"===this.mode?(this.newAssignment=this.current.assignment,this.title="Edit Assignment",this.btn="Save Changes"):(this.title="Add Assignment",this.btn=this.title)},e.prototype.detached=function(){this.newAssignment=new s.Assignment({date:(0,h.default)().format("YYYY-MM-DD")})},e.prototype.submit=function(){var e=this;this.controller.validate().then(function(t){t.valid&&(e.newAssignment.subject_id||(e.newAssignment.subject_id=e.current.subject.id),e.api.save(e.newAssignment).then(function(t){e.ea.publish("reloadAssignments"),e.current.setAssignment(t),e.mode=!1}))})},e.prototype.cancel=function(){this.mode=!1},e}(),f=function(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(p.prototype,"mode",[t.bindable],{enumerable:!0,initializer:null}),u=p))||u}),define("gradebook/components/assignmentlist",["exports","aurelia-framework","aurelia-event-aggregator","shared/services/currentService"],function(e,t,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AssignmentList=void 0;var o,s;e.AssignmentList=(o=(0,t.inject)(i.CurrentService,n.EventAggregator))(s=function(){function e(t,n){r(this,e),this.current=t,this.ea=n}return e.prototype.attached=function(){var e=this;this.current.setAssignmentList(),this.subsub=this.ea.subscribe("subjectSet",function(t){return e.current.setAssignmentList()}),this.reload=this.ea.subscribe("reloadAssignments",function(t){return e.current.setAssignmentList()})},e.prototype.detached=function(){this.subsub.dispose(),this.reload.dispose()},e}())||s}),define("gradebook/components/quickEntry",["exports","aurelia-framework","aurelia-event-aggregator","../../shared/services/currentService","../../shared/services/apiService"],function(e,t,n,i,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.QuickEntry=void 0;var s,a;e.QuickEntry=(s=(0,t.inject)(r.ApiService,i.CurrentService,n.EventAggregator))(a=function(){function e(t,n,i){var r=this;o(this,e),this.suggestionService={suggest:function(e){if(""===e)return Promise.resolve([]);e=e.toLowerCase();var t=r.notEntered.filter(function(t){return 0===t.student.first_name.toLowerCase().indexOf(e)}).sort();return Promise.resolve(t)},getName:function(e){return e.student.first_name}},this.api=t,this.current=n,this.ea=i}return e.prototype.attached=function(){this.entered=[],this.notEntered=this.current.scores,this.nameFocus=!0,this.scoreFocus=!1},e.prototype.detached=function(){this.entered=[],this.notEntered=[]},e.prototype.pushScore=function(e){this.entered.push(e),this.notEntered=this.notEntered.filter(function(t){return t.id!==e.id}),this.score=null,this.quickPoints=null,this.scoreFocus=!1,this.nameFocus=!0},e.prototype.parseKey=function(e){if(13!==e)return!0;this.current.assignment.isPoints||13!==e||(this.score.value=1,this.updateScore(this.score),this.pushScore(this.score)),this.quickPoints&&(this.score.value=this.quickPoints,this.updateScore(this.score),this.pushScore(this.score))},e.prototype.updateScore=function(e){this.api.save(e),this.ea.publish("scoreUpdate")},e}())||a}),define("gradebook/components/reportAssignment",["exports","aurelia-framework","aurelia-event-aggregator","shared/services/currentService","d3"],function(e,t,n,i,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAssignment=void 0;var s,a,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);e.ReportAssignment=(s=(0,t.inject)(i.CurrentService,n.EventAggregator))(a=function(){function e(t,n){o(this,e),this.current=t,this.ea=n}return e.prototype.attached=function(){var e=this;this.makePlot(),this.subscriber=this.ea.subscribe("scoreUpdate",function(t){return e.makePlot()})},e.prototype.detached=function(){this.subscriber.dispose()},e.prototype.makePlot=function(){l.select("svg").remove(),this.current.assignment.isPoints?this.renderHistogram(this.current.scores,"#content"):this.renderDonut(this.current.scores,"#content")},e.prototype.renderHistogram=function(e,t){var n=this,i=l.format(",.0f"),r={top:20,right:20,bottom:30,left:50},o=500-r.left-r.right,s=300-r.top-r.bottom,a=l.select(t).append("svg").attr("width",o+r.left+r.right).attr("height",s+r.top+r.bottom),c=a.append("g").attr("transform","translate("+r.left+","+r.top+")"),d=l.scaleLinear().range([0,o]);0!==this.current.assignment.max?d.domain([0,this.current.assignment.max]):d.domain([0,l.max(e,function(e){return e.value})]);var u=l.histogram().value(function(e){return e.value}).domain(d.domain())(e),p=l.scaleLinear().domain([0,l.max(u,function(e){return e.length})]).range([s,0]),f=l.select("body").append("div").attr("class","tooltip").style("opacity",0),h=c.selectAll(".bar").data(u).enter().append("g").attr("class","bar").attr("transform",function(e){return"translate("+d(e.x0)+","+p(e.length)+")"}).on("mouseover",function(e){f.transition().duration(200).style("opacity",.9),f.html(e.map(function(e){return e.student.first_name+": "+e.value+"<br>"}).join("")).style("left",l.event.pageX+"px").style("top",l.event.pageY-28+"px")}).on("mouseout",function(e){f.transition().duration(500).style("opacity",0)});h.append("rect").attr("x",1).attr("width",d(u[0].x1)-d(u[0].x0)-1).attr("height",function(e){return s-p(e.length)}),h.append("text").attr("dy",".75em").attr("y",6).attr("x",(d(u[0].x1)-d(u[0].x0))/2).attr("text-anchor","middle").text(function(e){return i(e.length)}),0!==this.current.assignment.max?c.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+s+")").call(l.axisBottom(d).tickFormat(function(e){return Math.round(e/n.current.assignment.max*100)+"%"})):c.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+s+")").call(l.axisBottom(d))},e.prototype.renderDonut=function(e,t){var n=l.nest().key(function(e){return e.value}).sortKeys(l.descending).rollup(function(e){return{count:e.length,names:e.map(function(e){return e.student.first_name})}}).entries(e).map(function(e){return{group:"1"===e.key?"Checked":"Missing",count:e.value.count,names:e.value.names}}),i=Math.min(500,300)/2,r=l.select(t).append("div").attr("class","tooltip2");r.append("div").attr("class","label"),r.append("div").attr("class","count"),r.append("div").attr("class","students"),r.append("div").attr("class","percent");var o=l.scaleOrdinal(l.schemeCategory10.slice(2,4));1===n.length&&"Missing"===n[0].group&&(o=l.scaleOrdinal(l.schemeCategory10.slice(3,4)));var s=l.select(t).append("svg").attr("width",500).attr("height",300).append("g").attr("transform","translate(250,150)"),a=l.arc().innerRadius(i-50).outerRadius(i),c=l.pie().value(function(e){return e.count}).sort(function(e,t){return e-t}),d=s.selectAll("path").data(c(n)).enter().append("path").attr("d",a).attr("fill",function(e,t){return o(e.data.group)});d.on("mouseover",function(t){var n=Math.round(1e3*t.data.count/e.length)/10;r.select(".label").html(t.data.group),r.select(".count").html(t.data.count),r.select(".students").html(t.data.names.map(function(e){return e+"<br>"}).join("")),r.select(".percent").html(n+"%"),r.style("display","block")}),d.on("mouseout",function(){r.style("display","none")});var u=s.selectAll(".legend").data(o.domain()).enter().append("g").attr("class","legend").attr("transform",function(e,t){return"translate(-36,"+(22*t-22*o.domain().length/2)+")"});u.append("rect").attr("width",18).attr("height",18).style("fill",o).style("stroke",o),u.append("text").attr("x",22).attr("y",14).text(function(e,t){return e})},e}())||a}),define("gradebook/components/scoresList",["exports","aurelia-framework","aurelia-validation","aurelia-event-aggregator","../../shared/services/currentService","../../shared/services/apiService"],function(e,t,n,i,r,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ScoresList=void 0;var a,l;e.ScoresList=(a=(0,t.inject)(o.ApiService,r.CurrentService,i.EventAggregator,n.ValidationControllerFactory))(l=function(){function e(t,n,i,r){s(this,e),this.api=t,this.ea=i,this.current=n,this.controller=r.createForCurrentScope(),this.editScoreId=null}return e.prototype.editScore=function(e){this.current.assignment.isPoints?(this.editScoreId=e.id,this.editFocus=!0):(e.value=1-e.value,this.updateScore(e))},e.prototype.deFocus=function(e){if(13!==e)return!0;this.editFocus=!1},e.prototype.updateScore=function(e){var t=this;this.controller.validate().then(function(n){n.valid&&t.api.save(e).then(function(e){t.ea.publish("scoreUpdate"),t.editScoreId=null})})},e}())||l}),define("gradebook/lib/autocomplete",["exports","aurelia-binding","aurelia-templating","aurelia-dependency-injection","aurelia-pal"],function(e,t,n,i,r){"use strict";function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.Autocomplete=void 0;var l,c,d,u,p,f,h,m,v,b,g,y,x,w,S,k=0;e.Autocomplete=(l=(0,i.inject)(Element),c=(0,n.bindable)({defaultBindingMode:t.bindingMode.twoWay}),d=(0,n.bindable)({defaultBindingMode:t.bindingMode.twoWay}),u=(0,n.bindable)({defaultBindingMode:t.bindingMode.twoWay}),l((f=function(){function e(t){s(this,e),o(this,"service",h,this),o(this,"value",m,this),o(this,"placeholder",v,this),o(this,"delay",b,this),o(this,"nameFocus",g,this),o(this,"scoreFocus",y,this),o(this,"isPoints",x,this),o(this,"checks",w,this),this.id=k++,this.expanded=!1,o(this,"inputValue",S,this),this.updatingInput=!1,this.suggestions=[],this.index=-1,this.suggestionsUL=null,this.userInput="",this.element=t}return e.prototype.display=function(e){this.updatingInput=!0,this.inputValue=e,this.updatingInput=!1},e.prototype.getName=function(e){return null==e?"":this.service.getName(e)},e.prototype.collapse=function(){this.expanded=!1,this.index=-1},e.prototype.select=function(e,t){this.value=e;var n=this.getName(this.value);if(this.userInput=n,this.display(n),this.collapse(),t){var i=r.DOM.createCustomEvent("change",{bubbles:!0});i.value=e,i.autocomplete=this,this.element.dispatchEvent(i)}},e.prototype.valueChanged=function(){this.select(this.value,!1)},e.prototype.inputValueChanged=function(e){var t=this;if(!this.updatingInput){if(this.userInput=e,""===e)return this.value=null,void this.collapse();this.service.suggest(e).then(function(e){var n;t.index=-1,(n=t.suggestions).splice.apply(n,[0,t.suggestions.length].concat(e)),1===e.length&&e[0].student.first_name!==t.value?t.select(e[0],!0):0===e.length?t.collapse():t.expanded=!0})}},e.prototype.scroll=function(){var e=this.suggestionsUL,t=e.children.item(-1===this.index?0:this.index);t.offsetTop+t.offsetHeight>e.offsetHeight?e.scrollTop+=t.offsetHeight:t.offsetTop<e.scrollTop&&(e.scrollTop=t.offsetTop)},e.prototype.keydown=function(e){return this.expanded?40===e?(this.index<this.suggestions.length-1?(this.index++,this.display(this.getName(this.suggestions[this.index]))):(this.index=-1,this.display(this.userInput)),void this.scroll()):38===e?(-1===this.index?(this.index=this.suggestions.length-1,this.display(this.getName(this.suggestions[this.index]))):this.index>0?(this.index--,this.display(this.getName(this.suggestions[this.index]))):(this.index=-1,this.display(this.userInput)),void this.scroll()):27===e?(this.display(this.userInput),void this.collapse()):13!==e||(this.index>=0&&this.select(this.suggestions[this.index],!0),this.quickNameFocus=!1,void(this.quickScoreFocus=!0)):(13===e&&(this.isPoints?(this.nameFocus=!1,this.scoreFocus=!0):this.checks({key:e})),!0)},e.prototype.blur=function(){this.select(this.value,!1),this.element.dispatchEvent(r.DOM.createCustomEvent("blur"))},e.prototype.suggestionClicked=function(e){this.select(e,!0)},e.prototype.focus=function(){this.element.firstElementChild.focus()},e}(),h=a(f.prototype,"service",[n.bindable],{enumerable:!0,initializer:null}),m=a(f.prototype,"value",[c],{enumerable:!0,initializer:null}),v=a(f.prototype,"placeholder",[n.bindable],{enumerable:!0,initializer:function(){return""}}),b=a(f.prototype,"delay",[n.bindable],{enumerable:!0,initializer:function(){return 300}}),g=a(f.prototype,"nameFocus",[d],{enumerable:!0,initializer:null}),y=a(f.prototype,"scoreFocus",[u],{enumerable:!0,initializer:null}),x=a(f.prototype,"isPoints",[n.bindable],{enumerable:!0,initializer:null}),w=a(f.prototype,"checks",[n.bindable],{enumerable:!0,initializer:null}),S=a(f.prototype,"inputValue",[t.observable],{enumerable:!0,initializer:function(){return""}}),p=f))||p)}),define("gradebook/models/assignment",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Assignment=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e.Assignment=function(){function e(t){n(this,e),Object.assign(this,t)}return i(e,[{key:"source",get:function(){return"assignments"}},{key:"isPoints",get:function(){return"Points"===this.type}}]),e}();t.ValidationRules.ensure("name").displayName("Name").required().maxLength(255).ensure("date").displayName("Date").required().satisfiesRule("date").ensure("type").displayName("Type").required().ensure("max").displayName("Max Score").required().on(r)}),define("gradebook/models/score",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Score=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e.Score=function(){function e(t){n(this,e),Object.assign(this,t)}return i(e,[{key:"source",get:function(){return"scores"}}]),e}();t.ValidationRules.ensure("value").displayName("Score").required().on(r)}),define("gradebook/models/student",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Student=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e.Student=function(){function e(t){n(this,e),Object.assign(this,t)}return i(e,[{key:"source",get:function(){return"students"}},{key:"fullName",get:function(){return this.first_name+" "+this.last_name}}]),e}();t.ValidationRules.ensure("first_name").displayName("First Name").required().maxLength(255).ensure("last_name").displayName("Last Name").required().maxLength(255).on(r)}),define("gradebook/models/subject",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Subject=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e.Subject=function(){function e(t){n(this,e),Object.assign(this,t)}return i(e,[{key:"source",get:function(){return"subjects"}}]),e}()
;t.ValidationRules.ensure("name").displayName("Name").required().maxLength(255).on(r)}),define("gradebook/models/year",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Year=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e.Year=function(){function e(t){n(this,e),Object.assign(this,t)}return i(e,[{key:"source",get:function(){return"years"}}]),e}();t.ValidationRules.ensure("school").displayName("School Name").required().maxLength(255).ensure("first_day").displayName("First Day").required().satisfiesRule("date").ensure("last_day").displayName("Last Day").required().satisfiesRule("date").on(r)}),define("home/signup/firstTime",["exports","aurelia-framework","aurelia-router"],function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FirstTime=void 0;var r,o;e.FirstTime=(r=(0,t.inject)(n.Router))(o=function(){function e(t){i(this,e),this.router=t}return e.prototype.created=function(){this.completed=[],this.todo=["Introduction","Profile","Years","Students","Subjects"],this.activeStep="Introduction"},e.prototype.nextStep=function(e){var t=this;e===this.activeStep&&(this.completed.push(this.todo.shift()),this.activeStep=this.todo[0],0===this.todo.length&&setTimeout(function(){t.router.navigate("gradebook")},800))},e}())||o}),define("home/signup/payment",["exports","aurelia-framework","shared/services/apiService"],function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.PaymentSetup=void 0;var r,o;e.PaymentSetup=(r=(0,t.inject)(n.ApiService))(o=function e(t){i(this,e),this.api=t})||o}),define("reports/attributes/timePlot",["exports","aurelia-framework","d3"],function(e,t,n){"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.TimePlotCustomAttribute=void 0;var s,a,l,c,d,u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n);e.TimePlotCustomAttribute=(s=(0,t.inject)(Element))((l=function(){function e(t){r(this,e),i(this,"scores",c,this),i(this,"type",d,this),this.element=t}return e.prototype.bind=function(){this.timePlot(this.scores,this.type)},e.prototype.timePlot=function(e,t){var n={top:20,right:20,bottom:50,left:50},i=320-n.left-n.right,r=200-n.top-n.bottom,o=u.timeParse("%Y-%m-%d"),s=u.scaleTime().range([0,i]),a=u.scaleLinear().range([r,0]),l=u.line().x(function(e){return s(e.assignment.date)});if("Points"===t)l=l.y(function(e){return a(Math.round(e.value/e.assignment.max*100))});else if("Checks"===t){var c=0;l=l.y(function(e,t){return c+=e.value,a(c/(t+1))})}var d=u.select(this.element).append("svg").attr("width",i+n.left+n.right).attr("height",r+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");e=e.filter(function(e){return e.assignment.type===t}),e.forEach(function(e){return e.assignment.date=o(e.assignment.date)}),s.domain(u.extent(e,function(e){return e.assignment.date})),"Points"===t?a.domain([0,100]):a.domain([0,1]),d.append("path").data([e]).attr("class","line").attr("d",l),d.append("g").attr("transform","translate(0,"+r+")").call(u.axisBottom(s).tickFormat(u.timeFormat("%m/%d")).ticks(e.length)),d.append("g").call(u.axisLeft(a))},e}(),c=o(l.prototype,"scores",[t.bindable],{enumerable:!0,initializer:null}),d=o(l.prototype,"type",[t.bindable],{enumerable:!0,initializer:null}),a=l))||a}),define("reports/components/studentReport",["exports","aurelia-framework","../../shared/services/currentService","../../shared/services/apiService","moment"],function(e,t,n,i,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.StudentReport=void 0;var s,a,l=function(e){return e&&e.__esModule?e:{default:e}}(r);e.StudentReport=(s=(0,t.inject)(n.CurrentService,i.ApiService))(a=function(){function e(t,n){o(this,e),this.current=t,this.api=n}return e.prototype.attached=function(){this.setStudentList(),this.selected={start:this.current.year.first_day,end:(0,l.default)().format("YYYY-MM-DD")},this.reportGenerated=!1},e.prototype.setStudentList=function(){var e=this,t={filters:[{name:"year_id",op:"eq",val:this.current.year.id}],order_by:[{field:"first_name",direction:"asc"}]};this.api.find("students",t).then(function(t){return e.students=t.objects})},e.prototype.generate=function(){var e=this;this.reportGenerated=!1;var t={filters:[{name:"student_id",op:"eq",val:this.selected.student.id},{name:"assignment",op:"has",val:{name:"date",op:"ge",val:this.selected.start}},{name:"assignment",op:"has",val:{name:"date",op:"le",val:this.selected.end}}],order_by:[{field:"assignment__date",direction:"asc"}]};this.api.find("scores",t).then(function(t){e.scores=t.objects,e.reportGenerated=!0})},e}())||a}),define("reports/converters/scoreFilter",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.scoreFilterValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e,t){return e.filter(function(e){return e.assignment.subject_id===t})},e}()}),define("shared/components/navbar",["exports","aurelia-framework","aurelia-router","aurelia-validation","aurelia-auth","shared/services/currentService","shared/services/httpService","shared/models/user"],function(e,t,n,i,r,o,s,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.NavBar=void 0;var c,d;e.NavBar=(c=(0,t.inject)(o.CurrentService,r.AuthService,n.Router,s.HttpService,i.ValidationControllerFactory))(d=function(){function e(t,n,i,r,o){l(this,e),this.user=new a.User,this.current=t,this.auth=n,this.router=i,this.http=r,this.controller=o.createForCurrentScope()}return e.prototype.attached=function(){this.showReset=!1},e.prototype.login=function(){this.auth.login(this.user).then(function(e){return location.reload()})},e.prototype.logout=function(){this.auth.logout().then(location.reload())},e.prototype.toggleReset=function(){this.showReset=!0},e.prototype.sendReset=function(){this.http.send("auth/forgot_password",{email:this.loginData.email})},e}())||d}),define("shared/converters/dateFormat",["exports","moment"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DateFormatValueConverter=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(t);e.DateFormatValueConverter=function(){function e(){n(this,e)}return e.prototype.toView=function(e,t){return(0,i.default)(e).format(t)},e}()}),define("shared/converters/scoreFormat",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.ScoreFormatValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e,t){return"Checks"===t.type?this.checks(e):"Points"===t.type&0!==t.max?this.percent(e,t):e},e.prototype.checks=function(e){return 1===e?'<i class="fa fa-check-circle-o fa-2x" aria-hidden="true"></i>':'<i class="fa fa-circle-o fa-2x" aria-hidden="true"></i>'},e.prototype.percent=function(e,t){return Math.round(e/t.max*100)+"%"},e}()}),define("shared/models/user",["exports","aurelia-validation"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.User=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e.User=function(){function e(t){n(this,e),Object.assign(this,t)}return i(e,[{key:"source",get:function(){return"users"}},{key:"teacherName",get:function(){if(this.title&&this.last_name)return this.title+" "+this.last_name}}]),e}();t.ValidationRules.ensure("email").required().email().ensure("password").required().minLength(8).maxLength(50).ensure("first_name").displayName("First Name").maxLength(255).ensure("last_name").displayName("Last Name").required().maxLength(255).ensure("title").required().on(r)}),define("shared/services/apiService",["exports","aurelia-http-client","aurelia-framework","aurelia-auth","shared/models/user","gradebook/models/year","gradebook/models/student","gradebook/models/subject","gradebook/models/assignment","gradebook/models/score"],function(e,t,n,i,r,o,s,a,l,c){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ApiService=void 0;var u,p,f=(e.ApiService=(u=(0,n.inject)(t.HttpClient,i.AuthService))(p=function(){function e(t,n){d(this,e),t.configure(function(e){e.withBaseUrl("http://localhost:5000/api/").withHeader("Authorization","Bearer "+n.auth.getToken()).withInterceptor({response:function(e){if(204===e.statusCode)return e;var t=JSON.parse(e.response),n=e.requestMessage.url.split("/")[0];return t.objects?(t.objects=t.objects.map(function(e){return new f[n](e)}),t):new f[n](t)}})}),this.http=t}return e.prototype.find=function(e,t){return this.http.createRequest(e).asGet().withParams({q:JSON.stringify(t)}).send()},e.prototype.findOne=function(e,t){return this.http.createRequest(e+"/"+t).asGet().send()},e.prototype.save=function(e){return e.id?this.http.createRequest(e.source+"/"+e.id).asPut().withContent(e).send():this.http.createRequest(e.source).asPost().withContent(e).send()},e.prototype.delete=function(e){return this.http.createRequest(e.source+"/"+e.id).asDelete().send()},e}())||p,{users:r.User,years:o.Year,students:s.Student,subjects:a.Subject,assignments:l.Assignment,scores:c.Score})}),define("shared/services/currentService",["exports","aurelia-event-aggregator","./apiService","aurelia-framework"],function(e,t,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentService=void 0;var o,s;e.CurrentService=(o=(0,i.inject)(n.ApiService,t.EventAggregator))(s=function(){function e(t,n){r(this,e),this.api=t,this.ea=n,this.subjectList=[]}return e.prototype.setUser=function(e){this.user=e},e.prototype.reviveUser=function(e){var t=this;this.api.findOne("users",e).then(function(e){t.user=e,t.user.active_year&&t.reviveYear(t.user.active_year)})},e.prototype.setSubjectList=function(){var e=this,t={filters:[{name:"year_id",op:"eq",val:this.year.id}]};this.api.find("subjects",t).then(function(t){return e.subjectList=t.objects})},e.prototype.setSubject=function(e){this.subject=e,this.clearAssignment(),this.ea.publish("subjectSet")},e.prototype.setAssignmentList=function(){var e=this,t={filters:[{name:"subject_id",op:"eq",val:this.subject.id}],order_by:[{field:"date",direction:"desc"}]};this.api.find("assignments",t).then(function(t){return e.assignmentList=t.objects})},e.prototype.setAssignment=function(e){this.assignment=e,this.setScores(e.id)},e.prototype.clearAssignment=function(){this.assignment=!1,this.scores=!1},e.prototype.setScores=function(e){var t=this,n={filters:[{name:"assignment_id",op:"eq",val:e}],order_by:[{field:"student__first_name",direction:"asc"}]};this.api.find("scores",n).then(function(e){t.scores=e.objects,t.ea.publish("scoreUpdate")})},e.prototype.setYear=function(e){this.year=e,this.user.active_year=e.id,this.api.save(this.user),this.clearAssignment(),this.subjectList=[],this.assignmentList=[]},e.prototype.reviveYear=function(e){var t=this;this.api.findOne("years",e).then(function(e){return t.year=e})},e}())||s}),define("shared/services/httpService",["exports","aurelia-framework","aurelia-http-client","aurelia-auth"],function(e,t,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.HttpService=void 0;var o,s;e.HttpService=(o=(0,t.inject)(i.AuthService))(s=function(){function e(t){r(this,e),this.http=new n.HttpClient,this.auth=t,this.http.configure(function(e){e.withBaseUrl("http://localhost:5000/").withInterceptor({response:function(e){return JSON.parse(e.response)}})})}return e.prototype.send=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.http.createRequest(e).asPost().withContent(t);return n&&(i=i.withHeader("Authorization","Bearer "+this.auth.auth.getToken())),i.send()},e}())||s}),define("text!app.html",["module"],function(e){e.exports='<template>\n  <require from="bootstrap/css/bootstrap.css"></require>\n  <require from="shared/components/navbar"></require>\n\n  \x3c!-- Navigation --\x3e\n  <nav-bar></nav-bar>\n\n  \x3c!-- Viewport --\x3e\n  <div class="container">\n    <div class="row">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n'}),define("text!admin/settings.html",["module"],function(e){e.exports='<template>\n  <require from="admin/components/profile"></require>\n  <require from="admin/components/password"></require>\n\n  <div class="col-md-7 col-md-offset-3">\n    <h1>Settings</h1>\n    <hr>\n    <profile></profile>\n    <hr>\n    <password></password>\n  </div>\n</template>\n'}),define("text!gradebook/lib/autocomplete.css",["module"],function(e){e.exports="autocomplete {\n  display: inline-block;\n}\n\nautocomplete .suggestions {\n  list-style-type: none;\n  cursor: default;\n  padding: 0;\n  margin: 0;\n  border: 1px solid #ccc;\n  background: #fff;\n  box-shadow: -1px 1px 3px rgba(0,0,0,.1);\n\n  position: absolute;\n  z-index: 9999;\n  max-height: 15rem;\n  overflow: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\nautocomplete .suggestion {\n  padding: 0 .3rem;\n  line-height: 1.5rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #333;\n}\n\nautocomplete .suggestion:hover,\nautocomplete .suggestion.selected {\n  background: #f0f0f0;\n}\n"}),define("text!gradebook/addStudent.html",["module"],function(e){e.exports='<template>\n  <div class="col-md-6">\n    <h3>${ title }</h3>\n    <form submit.delegate="submit()" class="form-horizontal" validation-renderer="bootstrap-form">\n\n      <div class="form-group">\n        <label class="col-md-4 control-label">First Name:</label>\n        <div class="col-md-6">\n          <input type="text" class="form-control" value.bind="newStudent.first_name & validate" focus.bind="formStart">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="col-md-4 control-label">Last Name:</label>\n        <div class="col-md-6">\n          <input type="text" class="form-control" value.bind="newStudent.last_name & validate">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-md-offset-4 col-md-6 text-center">\n          <button type="submit" class="btn btn-primary">\n            ${ bttn }\n          </button>\n          <button click.delegate="reset()" class="btn btn-danger">\n            Cancel\n          </button>\n        </div>\n      </div>\n\n    </form>\n  </div>\n\n  <div class="col-md-6">\n    <h3>Saved</h3>\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <th>Name\n          <small>(Total: ${ students.objects.length })</small>\n        </th>\n        <th></th>\n      </tr>\n      </thead>\n      <tr repeat.for="student of students.objects">\n        <td>${ student.fullName & oneTime}</td>\n        <td>\n          <div class="btn-group btn-group-xs" role="group">\n            <button type="button" class="btn btn-default ${ newStudent.id === student.id ? \'active\' : \'\' }"\n                    click.delegate="edit(student)">\n              <i class="fa fa-pencil"></i> Edit\n            </button>\n            <button type="button" class="btn btn-default"\n                    click.delegate="delete(student)">\n              <i class="fa fa-eraser"></i> Delete\n            </button>\n          </div>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n'}),define("text!gradebook/addSubject.html",["module"],function(e){e.exports='<template>\n  <div class="col-md-6">\n    <h3>${ title }</h3>\n    <form submit.delegate="submit()" class="form-horizontal" validation-renderer="bootstrap-form">\n\n      <div class="form-group">\n        <label class="col-md-4 control-label">Subject Name:</label>\n        <div class="col-md-6">\n          <input type="text" class="form-control" focus.bind="formStart" value.bind="newSubject.name & validate">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-md-offset-4 col-md-6 text-center">\n          <button type="submit" class="btn btn-primary">\n            ${ bttn }\n          </button>\n          <button click.delegate="reset()" class="btn btn-danger">\n            Cancel\n          </button>\n        </div>\n      </div>\n\n    </form>\n  </div>\n  <div class="col-md-6">\n    <h3>Saved</h3>\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <th>Name</th>\n        <th></th>\n      </tr>\n      </thead>\n      <tr repeat.for="subject of current.subjectList">\n        <td>${ subject.name & oneTime}</td>\n        <td>\n          <div class="btn-group btn-group-xs" role="group">\n            <button type="button" class="btn btn-default ${ subject.id === newSubject.id ? \'active\' : \'\'}" click.delegate="edit(subject)">\n              <i class="fa fa-pencil"></i> Edit\n            </button>\n            <button type="button" class="btn btn-default" click.delegate="delete(subject)">\n              <i class="fa fa-eraser"></i> Delete\n            </button>\n          </div>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n'}),define("text!gradebook/addYear.html",["module"],function(e){e.exports='<template>\n  <require from="shared/converters/dateFormat"></require>\n\n  <div class="col-md-6">\n    <h3>${ title }</h3>\n    <form class="form-horizontal" submit.delegate="submit()" validation-renderer="bootstrap-form">\n\n      \x3c!-- Name Form --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">School Name:</label>\n        <div class="col-md-6">\n          <input type="text" class="form-control" value.bind="newYear.school & validate" focus.bind="formStart">\n        </div>\n      </div>\n\n      \x3c!-- Start Date --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">First day of School:</label>\n        <div class="col-md-6">\n          <input type="date" value.bind="newYear.first_day & validate" class="form-control">\n        </div>\n      </div>\n\n      \x3c!-- End Date --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">Last day of School:</label>\n        <div class="col-md-6">\n          <input type="date" value.bind="newYear.last_day & validate" class="form-control">\n        </div>\n      </div>\n\n      \x3c!-- Submit Button --\x3e\n      <div class="form-group">\n        <div class="col-md-offset-4 col-md-6 text-center">\n          <button type="submit" class="btn btn-primary">\n            ${ bttn }\n          </button>\n          <button click.delegate="reset()" class="btn btn-danger">\n            Cancel\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  \x3c!-- Added Years --\x3e\n  <div class="col-md-6">\n    <h3>Saved</h3>\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <th>Year</th>\n        <th>School</th>\n        <th></th>\n      </tr>\n      </thead>\n      <tr repeat.for="year of years.objects">\n        <td>${ year.first_day | dateFormat: \'YYYY\' & oneTime}</td>\n        <td>${ year.school & oneTime }</td>\n        <td>\n          <div class="btn-group btn-group-xs" role="group">\n            <button type="button" class="btn btn-default ${ year.id === current.year.id ? \'active\' : \'\'}"\n                    click.delegate="current.setYear(year)">\n              <i class="fa fa-bolt"></i> Activate\n            </button>\n            <button type="button" class="btn btn-default ${ year.id === newYear.id ? \'active\' : \'\'}"\n                    click.delegate="edit(year)">\n              <i class="fa fa-pencil"></i> Edit\n            </button>\n            <button type="button" class="btn btn-default"\n                    click.delegate="delete(year)">\n              <i class="fa fa-eraser"></i> Delete\n            </button>\n          </div>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n'}),define("text!gradebook/index.html",["module"],function(e){e.exports='<template>\n  <require from="./components/assignmentlist"></require>\n  <require from="./components/scoresList"></require>\n  <require from="./components/quickEntry"></require>\n  <require from="./components/addAssignment"></require>\n  <require from="./components/reportAssignment"></require>\n\n  \x3c!-- Subjects Menu --\x3e\n  <ul class="nav nav-tabs">\n    <li>\n      <h4>Subjects</h4>\n    </li>\n    <li repeat.for="sub of current.subjectList" role="presentation"\n        class="${sub.id === current.subject.id ? \'active\' : \'\'}">\n      <a href="" click.delegate="current.setSubject(sub)">${ sub.name }</a>\n    </li>\n  </ul>\n\n  \x3c!-- Subject Menu Bar --\x3e\n  <div class="row" show.bind="current.subject">\n    <ul class="nav nav-pills">\n      <li role="presentation" class="${editMode === \'add\' ? \'active\' : \'\'}">\n        <a href="#" click.delegate="addAssignment()"><i class="fa fa-plus fa-lg"></i> Add Assignment</a>\n      </li>\n      <li role="presentation" show.bind="current.scores" class="${quickEntry ? \'active\' : \'\'}">\n        <a href="#" click.delegate="toggleQuick()"><i class="fa fa-fast-forward"></i> Quick Entry</a>\n      </li>\n      <li role="presentation" show.bind="current.scores || editMode === \'edit\'" class="${editMode === \'edit\' ? \'active\' : \'\'}">\n        <a href="#" click.delegate="editAssignment()"><i class="fa fa-pencil"></i> Edit Assignment</a>\n      </li>\n      <li role="presentation" show.bind="current.scores">\n        <a href="#" click.delegate="deleteAssignment()"><i class="fa fa-eraser"></i> Delete Assignment</a>\n      </li>\n    </ul>\n  </div>\n\n  \x3c!-- Assignment List --\x3e\n  <div class="row">\n    <div class="col-md-2" if.bind="current.subject">\n      <h5>Assignments</h5>\n      <assignment-list></assignment-list>\n    </div>\n\n    \x3c!-- Scores List --\x3e\n    <div class="col-md-4" if.bind="current.scores && !editMode">\n      <h5>Scores</h5>\n      <scores-list if.bind="!quickEntry"></scores-list>\n      <quick-entry if.bind="quickEntry"></quick-entry>\n    </div>\n\n    \x3c!-- Reports --\x3e\n    <div class="col-md-6" if.bind="current.scores && !editMode">\n      <h5>Assesment</h5>\n      <report-assignment></report-assignment>\n    </div>\n\n    \x3c!-- Add Assignment --\x3e\n    <div class="col-md-5" if.bind="editMode">\n      <add-assignment mode.two-way="editMode"></add-assignment>\n    </div>\n  </div>\n</template>\n'}),define("text!home/index.html",["module"],function(e){e.exports='<template>\n  <div class="col-md-6">\n    <h1>Welcome to Marks!</h1>\n    <p>\n      The primary goal of marks was to create a tool that enables data-driven teaching in primary schools. Primary education provides a unique opportunity for data-driven methods as there typically is one person in charge of a classroom for a long duration. This means many opportunities to track a student\'s progress and make interventions based on data, given the proper tool.\n    </p>\n    <p>\n      However, in order for a data-driven method to be successful, you need data (duh) and ability to quickly draw insights from that data (less duh). The largest impediments to these requirements are data entry and useful reporting. Marks attempts to remove these obstacles by focusing on easy data entry and reporting that reduces teacher workload. Essentially, it tries to make the teacher want to use the application to make their life easier, while providing a data infrastructure as a bonus. To incentivize teacher adoption, each feature is designed to reduce teacher workload in some aspect. For example, the quick entry mode in Marks allows for an unsorted stack of papers to have their grades entered and calculated quickly. This lowers the barrier for gathering data while making the essential act of keeping grades less onerous. To close the loop, being able to generate easily interpretable reports on the assignment, subject, and student level provides a useful resource for student/parent conferences, individual student plans, and report card generation. Together, making data entry and data interpretation as painless as possible provides a foundation for a data-driven classroom to be built upon.\n    </p>\n  </div>\n  <div class="col-md-6">\n    <h2>Sign up</h2>\n    <form class="form-horizontal" submit.delegate="submitSignUp()" validation-renderer="bootstrap-form">\n\n      \x3c!-- E-mail --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">E-mail:</label>\n        <div class="col-md-6">\n          <input type="email" class="form-control" value.bind="newUser.email & validate">\n        </div>\n      </div>\n\n      \x3c!-- Password --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">Password</label>\n        <div class="col-md-6">\n          <input type="password" value.bind="newUser.password & validate" class="form-control">\n        </div>\n      </div>\n\n      \x3c!-- Submit Button --\x3e\n      <div class="form-group">\n        <div class="col-md-offset-4 col-md-6 text-center">\n          <button type="submit" class="btn btn-primary">\n            Sign Up\n          </button>\n          <button class="btn btn-danger">\n            Sign in with Google\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n'}),define("text!reports/index.html",["module"],function(e){e.exports='<template>\n  <require from="./components/studentReport"></require>\n\n  \x3c!-- Reports Menu --\x3e\n  <ul class="nav nav-tabs">\n    <li>\n      <h4>Reports</h4>\n    </li>\n    <li repeat.for="report of reports" role="presentation"\n        class="${report === selectedReport ? \'active\' : \'\'}">\n      <a href="" click.delegate="setReport(report)">${ report }</a>\n    </li>\n  </ul>\n\n  <student-report if.bind="selectedReport === \'Student\'"></student-report>\n</template>\n'}),define("text!admin/components/password.html",["module"],function(e){e.exports='<template>\n  \x3c!-- Reset Form --\x3e\n  <div if.bind="reset">\n    <h2>Reset Password</h2>\n    <form class="form-horizontal" submit.delegate="resetPassword()">\n\n      \x3c!-- New Password --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">New Password:</label>\n        <div class="col-md-6">\n          <input type="password" class="form-control"\n                 value.bind="password.new" required>\n        </div>\n      </div>\n\n      \x3c!-- Confirm New Password --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">Confirm New Password:</label>\n        <div class="col-md-6">\n          <input type="password" value.bind="password.confirm" class="form-control"\n                 required>\n        </div>\n      </div>\n\n      \x3c!-- Submit Button --\x3e\n      <div class="form-group">\n        <div class="col-md-offset-4 col-md-6 text-center">\n          <button type="submit" class="btn btn-primary">\n            Change Password\n          </button>\n          ${ feedback }\n        </div>\n      </div>\n    </form>\n  </div>\n\n  \x3c!-- Change Password Form --\x3e\n  <div if.bind="!reset">\n    <h2>Change Password</h2>\n    <form class="form-horizontal" submit.delegate="changePassword()">\n\n      \x3c!-- Current Password --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">Current Password:</label>\n        <div class="col-md-6">\n          <input type="password" class="form-control"\n                 value.bind="password.current" required>\n        </div>\n      </div>\n\n      \x3c!-- New Password --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">New Password:</label>\n        <div class="col-md-6">\n          <input type="password" class="form-control"\n                 value.bind="password.new" required>\n        </div>\n      </div>\n\n      \x3c!-- Confirm New Password --\x3e\n      <div class="form-group">\n        <label class="col-md-4 control-label">Confirm New Password:</label>\n        <div class="col-md-6">\n          <input type="password" value.bind="password.confirm" class="form-control"\n                 required>\n        </div>\n      </div>\n\n      \x3c!-- Submit Button --\x3e\n      <div class="form-group">\n        <div class="col-md-offset-4 col-md-6 text-center">\n          <button type="submit" class="btn btn-primary">\n            Change Password\n          </button>\n          ${ feedback }\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n'}),define("text!admin/components/profile.html",["module"],function(e){
e.exports='<template>\n  <h3>Profile</h3>\n  <form submit.delegate="submit()" class="form-horizontal" validation-renderer="bootstrap-form">\n    \x3c!-- Title --\x3e\n    <div class="form-group">\n      <label class="col-md-4 control-label">Title:</label>\n      <div class="col-md-6">\n        <select class="form-control" value.bind="profile.title & validate">\n          <option value="">Select</option>\n          <option value="Ms.">Ms.</option>\n          <option value="Mrs.">Mrs.</option>\n          <option value="Mr.">Mr.</option>\n          <option value="Dr.">Dr.</option>\n        </select>\n      </div>\n    </div>\n    \x3c!-- First Name --\x3e\n    <div class="form-group">\n      <label class="col-md-4 control-label" for="firstname">First Name:</label>\n      <div class="col-md-6">\n        <input type="text" class="form-control" id="firstname" placeholder="First Name"\n               value.bind="profile.first_name & validate">\n      </div>\n    </div>\n\n    \x3c!-- Last Name --\x3e\n    <div class="form-group">\n      <label class="col-md-4 control-label" for="lastname">Last Name:</label>\n      <div class="col-md-6">\n        <input type="text" class="form-control" id="lastname" placeholder="Last Name"\n               value.bind="profile.last_name & validate">\n      </div>\n    </div>\n\n    \x3c!-- Submit Button --\x3e\n    <div class="form-group">\n      <div class="col-md-offset-4 col-md-6 text-center">\n        <button type="submit" class="btn btn-primary">Save Changes</button>\n        <i if.bind="isSaving" class="fa fa-circle-o-notch fa-spin fa-2x" aria-hidden="true"></i>\n        <i if.bind="saved" class="fa fa-check text-success fa-2x" aria-hidden="true"></i>\n      </div>\n    </div>\n  </form>\n</template>\n'}),define("text!gradebook/components/addAssignment.html",["module"],function(e){e.exports='<template>\n  <h5>${ title }</h5>\n  <form class="form-horizontal" submit.delegate="submit()" validation-renderer="bootstrap-form">\n\n    \x3c!-- Assignment Name --\x3e\n    <div class="form-group">\n      <label class="col-md-4 control-label">Name:</label>\n      <div class="col-md-6">\n        <input type="text" class="form-control" value.bind="newAssignment.name & validate">\n      </div>\n    </div>\n\n    \x3c!-- Date of Assignment --\x3e\n    <div class="form-group">\n      <label class="col-md-4 control-label">Date Assigned:</label>\n      <div class="col-md-6">\n        <input type="date" name="date" class="form-control"\n               value.bind="newAssignment.date & validate">\n      </div>\n    </div>\n\n    \x3c!-- Assignment Type --\x3e\n    <div class="form-group" show.bind="mode !== \'edit\'">\n      <label class="col-md-4 control-label">Type:</label>\n      <div class="col-md-6">\n        <select class="form-control" name="type" value.bind="newAssignment.type & validate">\n          <option value="">Select Type</option>\n          <option value="Points">Points</option>\n          <option value="Checks">Checks</option>\n        </select>\n      </div>\n    </div>\n\n    \x3c!-- Max Points --\x3e\n    <div class="form-group" if.bind="newAssignment.type === \'Points\'">\n      <label class="col-md-4 control-label">Max Points:</label>\n      <div class="col-md-6">\n        <input type="number" name="max" class="form-control" value.bind="newAssignment.max & validate">\n      </div>\n    </div>\n\n    \x3c!-- Submit Button --\x3e\n    <div class="form-group">\n      <div class="col-md-6 col-md-offset-5">\n        <button type="submit" class="btn btn-primary">\n          ${ btn }\n        </button>\n        <button click.delegate="cancel()" class="btn btn-danger">\n          Cancel\n        </button>\n      </div>\n    </div>\n\n  </form>\n</template>\n'}),define("text!gradebook/components/assignmentlist.html",["module"],function(e){e.exports='<template>\n  <ul class="nav nav-pills nav-stacked">\n    <li repeat.for="assignment of current.assignmentList"\n        role="presentation"\n        class="${assignment.id === current.assignment.id ? \'active\' : \'\'}">\n      <a href="" click.delegate="current.setAssignment(assignment)">${ assignment.name & oneTime }</a>\n    </li>\n  </ul>\n</template>\n'}),define("text!gradebook/components/quickEntry.html",["module"],function(e){e.exports='<template>\n  <require from="../lib/autocomplete"></require>\n  <require from="../../shared/converters/scoreFormat"></require>\n\n  <table class="table table-hover">\n    <thead>\n      <tr>\n        <th></th>\n        <th class="text-center">${ current.assignment.type }\n          <small show.bind="isPoints">\n            (max: ${ current.assignment.max })</small></th>\n      </tr>\n    </thead>\n    <tr repeat.for="score of entered">\n      <td class="text-center">${ score.student.first_name }</td>\n      <td class="text-center" innerhtml.bind="score.value | scoreFormat: score.assignment"></td>\n    </tr>\n\n    \x3c!-- Input Row --\x3e\n    <tr>\n      <td class="text-center">\n        \x3c!-- Name Input --\x3e\n          <div class="form-group">\n            <autocomplete service.bind="suggestionService"\n                          value.bind="score"\n                          placeholder="Name"\n                          name-focus.bind="nameFocus"\n                          score-focus.bind="scoreFocus"\n                          is-points.bind="current.assignment.isPoints"\n                          checks.call="parseKey(key)">\n            <template replace-part="suggestion">\n              <span style="font-style: italic">${suggestion}</span>\n            </template>\n</autocomplete>\n</div>\n</td>\n\n\x3c!-- Value Input --\x3e\n<td class="text-center">\n  <div class="form-group">\n    <div if.bind="current.assignment.isPoints" class="form-group">\n      <input value.bind="quickPoints"\n             type="number"\n             class="form-control"\n             style="width: 5.5em;"\n             placeholder="Score"\n             focus.bind="scoreFocus"\n             keypress.delegate="parseKey($event.which)" />\n    </div>\n    <div if.bind="!current.assignment.isPoints">\n      <i class="fa fa-check-circle-o fa-2x" aria-hidden="true"></i>\n    </div>\n  </div>\n</td>\n</tr>\n</table>\n</template>\n'}),define("text!gradebook/components/reportAssignment.html",["module"],function(e){e.exports='<template>\n<style>\n\n.bar rect {\nfill: steelblue;\n}\n\n.bar text {\nfill: #fff;\nfont: 10px sans-serif;\n}\n\ndiv.tooltip {\n    position: absolute;\n    text-align: center;\n    width: auto;\n    height: auto;\n    padding: 2px;\n    font: 16px sans-serif;\n    background: lightsteelblue;\n    border: 0px;\n    border-radius: 8px;\n    pointer-events: none;\n\n}\n\n.arc text {\n  font: 10px sans-serif;\n  text-anchor: middle;\n}\n\n.arc path {\n  stroke: #fff;\n}\n\n.legend {\n    font-size: 13px;\n  }\n  h1 {\n  font-size: 15px;\n  text-align: center;\n\t}\n  rect {\n    stroke-width: 2;\n  }\n\n  .tooltip2 {\n  box-shadow: 0 0 5px #999999;\n  display: none;\n  font-size: 12px;\n  left: 130px;\n  padding: 10px;\n  position: absolute;\n  text-align: center;\n  top: 95px;\n  width: 80px;\n  z-index: 10;\n  line-height: 140%; /*Interlineado*/\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 2px;\n\t}\n\n  .label {\n   font-weight: 600;\n  }\n\n</style>\n  <div id="content"></div>\n</template>\n'}),define("text!gradebook/components/scoresList.html",["module"],function(e){e.exports='<template>\n  <require from="../../shared/converters/scoreFormat"></require>\n\n  <table class="table table-hover">\n    <thead>\n    <tr>\n      <th></th>\n      <th class="text-center">${ current.assignment.type }\n        <small show.bind="current.assignment.isPoints && current.assignment.max !== 0">\n          (max: ${current.assignment.max})</small></th>\n    </tr>\n    </thead>\n      <tr repeat.for="score of current.scores">\n        <td class="text-center">${ score.student.first_name }</td>\n        <td class="text-center" click.delegate="editScore(score)">\n          \x3c!-- View Mode --\x3e\n          <div if.bind="score.id !== editScoreId" innerhtml.bind="score.value | scoreFormat: score.assignment"></div>\n\n          \x3c!-- Edit Mode --\x3e\n          <div if.bind="score.id === editScoreId">\n              <input keypress.delegate="deFocus($event.which)"\n                     focus.bind="editFocus"\n                     blur.trigger="updateScore(score, $index)"\n                     value.bind="score.value & validate"\n                     type="number"\n                     style="width: 3.5em">\n          </div>\n        </td>\n      </tr>\n  </table>\n\n</template>\n'}),define("text!home/signup/firstTime.html",["module"],function(e){e.exports='<template>\n  <require from="gradebook/addYear"></require>\n  <require from="gradebook/addStudent"></require>\n  <require from="gradebook/addSubject"></require>\n  <require from="admin/components/profile"></require>\n\n  <div class="col-md-2">\n    <h3>Setup</h3>\n    <ul class="nav nav-stacked">\n      <li role="presentation"\n          repeat.for="step of completed">\n        <a class="text-success"><i class="fa fa-check-circle-o text-success" aria-hidden="true"></i> ${ step }</a>\n      </li>\n      <li role="presentation"\n          repeat.for="step of todo"\n          class="${ step === activeStep ? \'active\' : \'disabled\'}">\n        <a href click.delegate="nextStep(step)"><i class="fa fa-circle-o" aria-hidden="true"></i> ${ step }</a>\n      </li>\n    </ul>\n\n  </div>\n\n  <div class="col-md-10">\n    <div class="row">\n      <div if.bind="activeStep === \'Introduction\'">\n        <h3>Checklist</h3>\n        <p class="col-md-6">\n          Welcome to Marks! This guided setup will get you up and running fast.\n          After entering all the information for each step mark it done by click on the circle to the left!\n          You\'re done with the introduction so go ahead and "marks" it done!\n        </p>\n      </div>\n      <profile if.bind="activeStep === \'Profile\'"></profile>\n      <add-year if.bind="activeStep === \'Years\'"></add-year>\n      <add-student if.bind="activeStep === \'Students\'"></add-student>\n      <add-subject if.bind="activeStep === \'Subjects\'"></add-subject>\n      <div if.bind="todo.length === 0">\n        <h3>All done! Sending you to your gradebook!</h3>\n      </div>\n    </div>\n  </div>\n</template>\n'}),define("text!home/signup/payment.html",["module"],function(e){e.exports='<template>\n  <h1>Enter Payment Information</h1>\n  <a href="/#/first_time" class="btn">Setup Gradebook</a>\n<template>\n'}),define("text!reports/components/studentReport.html",["module"],function(e){e.exports='<template>\n  <require from="../converters/scoreFilter"></require>\n  <require from="../attributes/timePlot"></require>\n  <require from="shared/converters/dateFormat"></require>\n  <require from="shared/converters/scoreFormat"></require>\n\n  <style> /* set the CSS */\n.line {\n  fill: none;\n  stroke: steelblue;\n  stroke-width: 2px;\n}\n</style>\n\n  \x3c!-- Selection Menu --\x3e\n  <div class="row">\n    <form class="form-inline" submit.delegate="generate()">\n      <div class="form-group">\n        <label>Select Student:</label>\n        <select class="form-control" value.bind="selected.student" placeholder="Select Student">\n          <option repeat.for="student of students" model.bind="student">\n            ${ student.first_name } ${ student.last_name }\n          </option>\n        </select>\n      </div>\n      <div class="form-group">\n        <label>Start Date:</label>\n          <input type="date" class="form-control" value.bind="selected.start">\n      </div>\n\n      <div class="form-group">\n        <label>End Date:</label>\n          <input type="date" class="form-control" value.bind="selected.end">\n      </div>\n\n      <button type="submit" class="btn btn-default">Generate Report</button>\n      <ul>\n    </form>\n  </div>\n\n  \x3c!-- Report Header --\x3e\n  <div if.bind="reportGenerated">\n  <div class="row">\n    <h1>${ selected.student.first_name & oneTime} ${ selected.student.last_name & oneTime}</h1>\n  </div>\n\n  \x3c!-- Subject Rows --\x3e\n  <div class="row" repeat.for="subject of current.subjectList">\n    <div class="col-md-4">\n      <h2>${ subject.name & oneTime}</h2>\n      <table class="table">\n        <div if.bind="$first">\n          <thead>\n            <th></th>\n            <th>Date</th>\n            <th>Max Score</th>\n            <th>Score</th>\n          </thead>\n        </div>\n        <tbody>\n          <tr repeat.for="score of scores | scoreFilter: subject.id">\n            <td>${ score.assref.name & oneTime}</td>\n            <td>${ score.assref.date | dateFormat: \'MMMM Do\' & oneTime}</td>\n            <td>${ score.assref.max & oneTime}</td>\n            <td innerhtml.bind="score.value | scoreFormat: score.assignment & oneTime"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    \x3c!-- Plots --\x3e\n    <div class="col-md-6">\n      <div class="col-md-6">\n        <h2>Points</h2>\n        <div time-plot="scores.bind: scores | scoreFilter: subject.id; type.bind: \'Points\'"></div>\n      </div>\n      <div class="col-md-6">\n        <h2>Checks</h2>\n        <div time-plot="scores.bind: scores | scoreFilter: subject.id; type.bind: \'Checks\'"></div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n'}),define("text!shared/components/navbar.html",["module"],function(e){e.exports='<template>\n<require from="shared/converters/dateFormat"></require>\n\n  <style>\n  #login-dp{\n    min-width: 250px;\n    padding: 14px 14px 0;\n    overflow:hidden;\n    background-color:rgba(255,255,255,.8);\n  }\n  #login-dp .help-block{\n    font-size:12px\n  }\n  #login-dp .bottom{\n    background-color:rgba(255,255,255,.8);\n    border-top:1px solid #ddd;\n    clear:both;\n    padding:14px;\n  }\n  #login-dp .social-buttons{\n    margin:12px 0\n  }\n  #login-dp .social-buttons a{\n    width: 49%;\n  }\n  #login-dp .form-group {\n    margin-bottom: 10px;\n  }\n  .btn-fb{\n    color: #fff;\n    background-color:#3b5998;\n  }\n  .btn-fb:hover{\n    color: #fff;\n    background-color:#496ebc\n  }\n  .btn-tw{\n    color: #fff;\n    background-color:#55acee;\n  }\n  .btn-tw:hover{\n    color: #fff;\n    background-color:#59b5fa;\n  }\n  @media(max-width:768px){\n    #login-dp{\n        background-color: inherit;\n        color: #fff;\n    }\n    #login-dp .bottom{\n        background-color: inherit;\n        border-top:0 none;\n    }\n  }\n  </style>\n\n  \x3c!-- Navigation Bar --\x3e\n  <nav class="navbar navbar-default">\n    <div class="container-fluid">\n      \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle collapsed"\n                data-toggle="collapse"\n                data-target="#bs-example-navbar-collapse-1"\n                aria-expanded="false">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <a class="navbar-brand" href="#" }>Marks</a>\n      </div>\n\n      \x3c!-- Collect the nav links, forms, and other content for toggling --\x3e\n      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n        <ul class="nav navbar-nav">\n          <li repeat.for="row of router.navigation | authFilter: auth.isAuthenticated()" class="${row.isActive ? \'active\' : \'\'}">\n            <a href.bind="row.href">${row.title}</a>\n          </li>\n        </ul>\n        <ul class="nav navbar-nav navbar-right">\n          <li class="dropdown" if.bind="auth.isAuthenticated()">\n            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">\n              ${ current.user.teacherName }<span if.bind="current.year"> - ${ current.year.school } (${ current.year.first_day | dateFormat: \'YYYY\' })</span><span class="caret"></span>\n            </a>\n              <ul class="dropdown-menu">\n                <li><a route-href="route: addsubject">Add Subject</a></li>\n                <li><a route-href="route: addstudent">Add Student</a></li>\n                <li><a route-href="route: addyear">Add Year</a></li>\n                <li role="separator" class="divider"></li>\n                <li><a route-href="route: settings">Settings</a></li>\n                <li role="separator" class="divider"></li>\n                <li><a href="" click.delegate="logout()">Logout</a></li>\n              </ul>\n          </li>\n          <li class="dropdown" if.bind="!auth.isAuthenticated()">\n            <a href="#" click.delegate="showReset = flase"class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">\n              Login<span class="caret"></span>\n            </a>\n            <ul id="login-dp" class="dropdown-menu">\n              <li>\n                 <div class="row">\n                    <div class="col-md-12">\n                      \x3c!-- <div class="social-buttons">\n                        <a href="#" class="btn btn-fb"><i class="fa fa-facebook"></i> Facebook</a>\n                        <a href="#" class="btn btn-tw"><i class="fa fa-twitter"></i> Twitter</a>\n                      </div> --\x3e\n                       <form if.bind="!showReset" submit.delegate="login()" class="form" role="form" id="login-nav" validation-renderer="bootstrap-form">\n                          <div class="form-group">\n                             <label class="sr-only" for="exampleInputEmail2">Email address</label>\n                             <input value.bind="user.email & validate" type="email" class="form-control" id="exampleInputEmail2" placeholder="Email address" required>\n                          </div>\n                          <div class="form-group">\n                            <label class="sr-only" for="exampleInputPassword2">Password</label>\n                            <input value.bind="user.password & validate" type="password" class="form-control" id="exampleInputPassword2" placeholder="Password" required>\n                            <div class="help-block text-right"><a href="#" click.delegate="toggleReset()">Forget your password?</a></div>\n                          </div>\n                          <div class="form-group">\n                             <button type="submit" class="btn btn-primary btn-block">Sign in</button>\n                          </div>\n                          \x3c!-- <div class="checkbox">\n                             <label>\n                             <input type="checkbox"> keep me logged-in\n                             </label>\n                          </div> --\x3e\n                       </form>\n                       <form if.bind="showReset" submit.delegate="sendReset()" class="form" role="form" id="login-nav">\n                          <div class="form-group">\n                             <label class="sr-only" for="exampleInputEmail2">Email address</label>\n                             <input value.bind="loginData.email" type="email" class="form-control" id="exampleInputEmail2" placeholder="Email address" required>\n                          </div>\n                          <div class="form-group">\n                             <button type="submit" class="btn btn-primary btn-block">Send Reset E-mail</button>\n                          </div>\n                          \x3c!-- <div class="checkbox">\n                             <label>\n                             <input type="checkbox"> keep me logged-in\n                             </label>\n                          </div> --\x3e\n                       </form>\n                    </div>\n                    \x3c!-- <div class="bottom text-center">\n                      New here ? <a href="#"><b>Join Us</b></a>\n                    </div> --\x3e\n                 </div>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n'}),define("text!gradebook/lib/autocomplete.html",["module"],function(e){e.exports='<template>\n  <require from="./autocomplete.css"></require>\n\n  <input type="text" autocomplete="off" class=form-control\n         aria-autocomplete="list"\n         aria-expanded.bind="expanded"\n         aria-owns.one-time="\'au-autocomplate-\' + id + \'-suggestions\'"\n         aria-activedescendant.bind="index >= 0 ? \'au-autocomplate-\' + id + \'-suggestion-\' + index : \'\'"\n         id.one-time="\'au-autocomplete-\' + id"\n         placeholder.bind="placeholder"\n         value.bind="inputValue & debounce:delay"\n         keydown.delegate="keydown($event.which)"\n         blur.trigger="blur()"\n         focus.bind="nameFocus">\n  <ul class="suggestions" role="listbox"\n      if.bind="expanded"\n      id.one-time="\'au-autocomplate-\' + id + \'-suggestions\'"\n      ref="suggestionsUL">\n    <li repeat.for="suggestion of suggestions"\n        id.one-time="\'au-autocomplate-\' + id + \'-suggestion-\' + $index"\n        role="option"\n        class-name.bind="($index === index ? \'selected\' : \'\') + \' suggestion\'"\n        mousedown.delegate="suggestionClicked(suggestion)">\n        ${ suggestion.studref.first_name }\n      \x3c!-- <template replaceable-part="suggestion">\n        ${ suggestion }\n      </template> --\x3e\n    </li>\n  </ul>\n</template>\n'});