{"version":3,"sources":["src/app.js","src/authConfig.js","src/environment.js","src/main.js","src/admin/settings.js","src/gradebook/addStudent.js","src/gradebook/addSubject.js","src/gradebook/addYear.js","src/gradebook/index.js","src/home/index.js","src/reports/index.js","src/validation/bootstrap-form-renderer.js","src/validation/index.js","src/validation/rules.js","src/admin/components/password.js","src/admin/components/profile.js","src/assets/js/bootstrap-datepicker.js","src/assets/js/bootstrap-select.js","src/assets/js/ct-paper-bootstrapswitch.js","src/assets/js/ct-paper-checkbox.js","src/assets/js/ct-paper.js","src/assets/js/jquery-ui-1.10.4.custom.min.js","src/assets/js/test.js","src/gradebook/components/addAssignment.js","src/gradebook/components/assignmentlist.js","src/gradebook/components/quickEntry.js","src/gradebook/components/reportAssignment.js","src/gradebook/components/scoresList.js","src/gradebook/lib/autocomplete.js","src/gradebook/models/assignment.js","src/gradebook/models/score.js","src/gradebook/models/student.js","src/gradebook/models/subject.js","src/gradebook/models/year.js","src/home/signup/firstTime.js","src/home/signup/payment.js","src/reports/attributes/timePlot.js","src/reports/components/studentReport.js","src/reports/converters/scoreFilter.js","src/shared/attributes/bootstrap-datepicker.js","src/shared/attributes/bootstrap-select.js","src/shared/components/footbar.js","src/shared/components/navbar.js","src/shared/components/scriptInjector.js","src/shared/converters/dateFormat.js","src/shared/converters/scoreFormat.js","src/shared/models/user.js","src/shared/services/apiService.js","src/shared/services/currentService.js","src/shared/services/httpService.js","src/shared/attributes/tooltip.js","src/shared/converters/weekFormat.js","src/gradebook/library/autocomplete.js"],"names":["App","configureRouter","config","router","title","options","pushState","root","addPipelineStep","map","route","moduleId","nav","auth","name","href","current","activate","reviveUser","isAuthenticated","token","getTokenPayload","identity","configForDevelopment","baseUrl","loginRedirect","configForProduction","window","location","hostname","debug","testing","configure","aurelia","use","standardConfiguration","feature","globalResources","plugin","baseConfig","developmentLogging","start","then","setRoot","Settings","AddStudent","api","controllerFactory","newStudent","controller","createForCurrentScope","created","bttn","students","setStudentList","formStart","reset","query","filters","year","id","order_by","find","data","edit","student","delete","confirmed","confirm","fullName","submit","validate","result","valid","year_id","save","AddSubject","newSubject","setSubjectList","subject","AddYear","newYear","setYearList","years","catch","console","log","error","school","first_day","setYear","resp","GradeBook","eventaggregator","ea","quickEntry","editMode","params","changeSubject","Number","findOne","setSubject","clearSubject","assignment","setAssignment","setAssignmentList","date","addAssignment","clearAssignment","editAssignment","deleteAssignment","publish","toggleQuick","Home","newUser","submitSignUp","signup","setUser","user","navigateToRoute","reload","Reports","attached","reports","setReport","report","selectedReport","BootstrapFormRenderer","render","instruction","unrender","elements","element","remove","add","formGroup","closest","classList","message","document","createElement","className","textContent","appendChild","querySelector","removeChild","querySelectorAll","length","container","registerHandler","get","customRule","value","obj","undefined","isNaN","Date","parse","Password","http","password","resetPassword","send","feedback","changePassword","Profile","profile","isSaving","saved","color","$","Datepicker","format","DPGlobal","parseFormat","picker","template","appendTo","on","click","proxy","isInput","is","component","focus","show","keyup","update","minViewMode","viewMode","startViewMode","weekStart","weekEnd","onRender","fillDow","fillMonths","showMode","prototype","constructor","e","datepicker","height","outerHeight","place","stopPropagation","preventDefault","that","ev","target","hide","trigger","type","setTimeout","addClass","removeClass","off","set","formated","formatDate","prop","setValue","newDate","parseDate","viewDate","getFullYear","getMonth","fill","offset","css","top","left","dowCnt","html","dates","daysMin","append","i","monthsShort","d","month","currentDate","valueOf","text","months","prevMonth","day","getDaysInMonth","setDate","getDay","nextMonth","getDate","clsName","prevY","prevM","push","empty","join","currentYear","end","eq","parseInt","yearCont","nodeName","toLowerCase","modes","navFnc","call","navStep","parent","index","setMonth","setFullYear","Math","min","mousedown","dir","max","filter","fn","option","val","each","$this","extend","defaults","Constructor","days","daysShort","isLeapYear","separator","match","parts","split","Error","setHours","setMinutes","setSeconds","setMilliseconds","cnt","m","yy","toString","substring","yyyy","dd","mm","headTemplate","contTemplate","jQuery","factory","define","amd","a0","exports","module","String","includes","defineProperty","object","$defineProperty","Object","indexOf","search","TypeError","string","stringLength","searchString","searchLength","position","arguments","pos","startsWith","charCodeAt","keys","o","k","r","hasOwnProperty","triggerNative","eventName","el","event","dispatchEvent","Event","bubbles","createEvent","initEvent","fireEvent","createEventObject","eventType","expr","icontains","meta","$obj","haystack","toUpperCase","ibegins","aicontains","aibegins","normalizeToBase","rExps","re","ch","replace","htmlEscape","escapeMap","source","testRegexp","RegExp","replaceRegexp","test","Selectpicker","$element","$newElement","$button","$menu","$lis","attr","refresh","setStyle","selectAll","deselectAll","destroy","init","VERSION","DEFAULTS","noneSelectedText","noneResultsText","countSelectedText","numSelected","numTotal","maxOptionsText","numAll","numGroup","selectAllText","deselectAllText","doneButton","doneButtonText","multipleSeparator","styleBase","style","size","selectedTextFormat","width","hideDisabled","showSubtext","showIcon","showContent","dropupAuto","header","liveSearch","liveSearchPlaceholder","liveSearchNormalize","liveSearchStyle","actionsBox","iconBase","tickIcon","caret","maxOptions","mobile","selectOnTab","dropdownAlignRight","liObj","multiple","autofocus","createView","after","children","$menuInner","$searchbox","checkDisabled","clickListener","liveSearchListener","setWidth","selectPosition","hasAttribute","validity","createDropdown","inputGroup","hasClass","searchbox","actionsbox","donebutton","drop","$drop","li","createLi","innerHTML","reloadLi","destroyLi","_li","optID","titleOption","liIndex","generateLI","content","classes","optgroup","generateA","inline","tokens","createTextNode","insertBefore","firstChild","selectedIndex","selected","optionClass","cssText","subtext","icon","isDisabled","disabled","parentNode","tagName","optGroupClass","label","labelSubtext","labelIcon","previousElementSibling","findLis","updateLi","notDisabled","setDisabled","setSelected","tabIndex","selectedItems","toArray","totalCount","not","tr8nText","trim","status","buttonClass","liHeight","sizeInfo","newElement","menu","menuInner","divider","a","cloneNode","actions","input","body","offsetHeight","headerHeight","searchHeight","actionsHeight","doneButtonHeight","dividerHeight","menuStyle","getComputedStyle","menuPadding","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","menuExtras","marginTop","marginBottom","setSize","$window","selectHeight","divHeight","menuHeight","getHeight","selectOffsetTop","selectOffsetBot","posVert","scrollTop","getSize","minHeight","include","contains","lis","getElementsByTagName","lisVisible","Array","optGroup","toggleClass","optIndex","slice","last","divLength","$selectClone","clone","$selectClone2","ulWidth","outerWidth","btnWidth","$bsContainer","actualHeight","getPlacement","offsetWidth","detach","removeAttr","$document","keyCode","offsetTop","clickedIndex","prevValue","prevIndex","$options","$option","state","$optgroup","maxOptionsGrp","blur","maxReached","maxReachedGrp","optgroupID","maxOptionsArr","maxTxt","maxTxtGrp","$notify","delay","fadeOut","currentTarget","change","$no_results","$searchBase","_searchStyle","$lisVisible","first","styles","begins","changeAll","lisVisLen","selectedOptions","origIndex","getAttribute","keydown","$parent","$items","next","prev","nextPrev","isActive","selector","keyCodeMap","nextAll","prevAll","keyIndex","count","prevKey","elem","removeData","Plugin","args","_option","_event","shift","apply","chain","selectpicker","Function","old","noConflict","$selectpicker","method","methods","$div","$switchLeft","$switchRight","$label","myClasses","moving","onLabel","offLabel","wrap","changeStatus","siblings","stopImmediatePropagation","thisState","unbind","relativeX","pageX","originalEvent","targetTouches","percent","right","$target","$myCheckBox","toggleActivation","setActive","active","toggleState","skipOnChange","$input","setState","$checkbox","unwrap","Checkbox","$el","checkbox","before","toggle","checked","setCheck","checkAction","searchVisible","transparent","transparentDemo","fixedTop","navbar_initialized","ready","window_width","burger_menu","ct_paper","initRightMenu","len","char","tooltip","bootstrapSwitch","tagsInput","carousel","resize","misc","navbar_menu_visible","$nav","$navbar","ul_content","content_buff","background_image","$toggle","div","fitBackgroundForCards","image","image_src","initPopovers","popover","initSliders","slider","range","values","slide","ui","min_price","max_price","orientation","animate","initVideoBackground","id_video","video","paused","play","pause","initNavbarSearch","fadeIn","debounce","func","wait","immediate","timeout","context","clearTimeout","t","s","n","visible","parents","addBack","version","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","scrollParent","ie","zIndex","uniqueId","removeUniqueId","createPseudo","focusable","tabbable","jquery","parseFloat","innerWidth","innerHeight","prevObject","camelCase","exec","navigator","userAgent","support","selectstart","disableSelection","bind","enableSelection","plugins","nodeType","hasScroll","cleanData","triggerHandler","widget","h","l","c","Widget","_createWidget","_proto","_childConstructors","isFunction","_super","_superApply","widgetEventPrefix","namespace","widgetName","widgetFullName","bridge","isPlainObject","concat","charAt","pushStack","_init","defaultElement","create","uuid","eventNamespace","_getCreateOptions","bindings","hoverable","_on","ownerDocument","defaultView","parentWindow","_create","_trigger","_getCreateEventData","noop","_destroy","pop","_setOptions","_setOption","enable","disable","guid","u","delegate","_off","undelegate","_delay","_hoverable","mouseenter","mouseleave","_focusable","focusin","focusout","isDefaultPrevented","effect","duration","isEmptyObject","complete","effects","easing","queue","mouseup","cancel","distance","_mouseInit","_mouseDown","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseStarted","_mouseUp","_mouseDownEvent","which","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","documentMode","button","_mouseDrag","_mouseStop","abs","pageY","mouse","step","stop","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_refresh","_createRange","_createHandles","_setupEvents","_refreshValue","handles","handle","isArray","_valueMin","bottom","_handleEvents","elementSize","elementOffset","x","y","_normValueFromMouse","_valueMax","_lastChangedValue","_start","_clickOffset","_slide","_stop","_change","_trimAlignValue","_value","_values","toFixed","AddAssignment","newAssignment","mode","btn","modeChanged","detached","subject_id","navigateTo","AssignmentList","subsub","subscribe","listWeek","startOf","jumpWeek","dispose","QuickEntry","suggestionService","suggest","Promise","resolve","suggestions","notEntered","first_name","sort","getName","suggestion","entered","scores","nameFocus","scoreFocus","pushScore","score","item","quickPoints","parseKey","key","isPoints","updateScore","d3","ReportAssignment","makePlot","subscriber","select","renderHistogram","renderDonut","divElement","formatCount","margin","svg","g","scaleLinear","domain","bins","histogram","bar","enter","x0","round","x1","axisBottom","tickFormat","nestdata","nest","sortKeys","descending","rollup","entries","group","names","radius","themeColors","scaleOrdinal","donutWidth","arc","innerRadius","outerRadius","pie","b","legendRectSize","legendSpacing","path","legend","height2","horz","vert","ScoresList","editScoreId","editScore","editFocus","deFocus","nextID","Autocomplete","Element","defaultBindingMode","twoWay","expanded","updatingInput","suggestionsUL","userInput","display","inputValue","service","collapse","notify","createCustomEvent","autocomplete","valueChanged","inputValueChanged","splice","scroll","ul","checks","quickNameFocus","quickScoreFocus","suggestionClicked","firstElementChild","Assignment","assign","ensure","displayName","required","maxLength","satisfiesRule","Score","Student","last_name","Subject","Year","FirstTime","completed","todo","activeStep","nextStep","navigate","PaymentSetup","TimePlotCustomAttribute","timePlot","parseTime","timeParse","scaleTime","valueline","line","_movingSum","forEach","extent","timeFormat","ticks","axisLeft","StudentReport","reportGenerated","objects","generate","scoreFilterValueConverter","toView","subjectid","defaultOptions","BootstrapDatepickerCustomAttribute","BootstrapSelectCustomAttribute","FootBar","NavBar","showReset","login","logout","toggleReset","sendReset","email","loginData","scriptinjector","oneWay","url","scripttag","isAsync","async","setAttribute","DateFormatValueConverter","ScoreFormatValueConverter","User","minLength","ApiService","withBaseUrl","withHeader","getToken","withInterceptor","response","statusCode","parsed","JSON","requestMessage","modelMap","createRequest","asGet","withParams","q","stringify","model","asPut","withContent","asPost","asDelete","CurrentService","subjectList","userId","active_year","reviveYear","endOf","assignmentList","setScores","assignId","yearId","HttpService","withToken","req","TooltipCustomAttribute","WeekFormatValueConverter"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport {CurrentService} from 'shared/services/currentService';\nimport {AuthService, AuthorizeStep} from 'aurelia-auth';\n// import 'bootstrap';\n\n@inject(CurrentService, AuthService)\nexport class App {\n  configureRouter(config, router) {\n    config.title = 'Marks';\n    config.options.pushState = true;\n    config.options.root = '/';\n    config.addPipelineStep('authorize', AuthorizeStep);\n    config.map([\n      // Main Nav routes\n      { route: '/', moduleId: './home/index', nav: 0, title: 'Welcome', auth: false },\n      // { route: 'gradebook', moduleId: './gradebook/index', nav: 1, title: 'Gradebook', name: 'gradebook', auth: true},\n      { route: 'gradebook/:subject?/:assignment?', moduleId: './gradebook/index', nav: 1, title: 'Gradebook', name: 'gradebook', auth: true, href: 'gradebook'},\n      { route: 'reports', moduleId: './reports/index', nav: 2, title: 'Reports', auth: true},\n\n      // User Managment\n      { route: 'settings', moduleId: './admin/settings', title: 'Settings', name: 'settings', auth: true},\n      { route: 'password/:token', moduleId: './admin/components/password', title: 'Reset Password'},\n\n      // Signup Routes\n      { route: 'payment', moduleId: './home/signup/payment', title: 'Setup Payment', name: 'payment', auth: true },\n      { route: 'first_time', moduleId: './home/signup/firstTime', title: 'Gradebook Setup', name: 'firsttime', auth: true },\n\n      // Add Routes\n      { route: 'gradebook/addsubject',  moduleId: './gradebook/addSubject', title: 'Add Subject', name: 'addsubject', auth: true},\n      { route: 'gradebook/addstudent',  moduleId: './gradebook/addStudent', title: 'Add Student', name: 'addstudent', auth: true},\n      { route: 'gradebook/addyear',  moduleId: './gradebook/addYear', title: 'Add Year', name: 'addyear', auth: true}\n\n    ]);\n\n    this.router = router;\n  }\n\n  constructor(current, auth) {\n    this.current = current;\n    this.auth = auth;\n  }\n\n  activate() {\n    this.reviveUser();\n  }\n\n  reviveUser() {\n    if (this.auth.isAuthenticated()) {\n      let token = this.auth.getTokenPayload();\n      this.current.reviveUser(token.identity);\n    }\n  }\n}\n","let configForDevelopment = {\n  baseUrl: 'http://localhost:5000/',\n  loginRedirect: '#/gradebook'\n};\n\nlet configForProduction = {\n};\n\nlet config;\nif (window.location.hostname === 'localhost') {\n  config = configForDevelopment;\n} else {\n  config = configForProduction;\n}\n\nexport default config;\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport config from './authConfig';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('validation')\n    .globalResources([\n      'shared/attributes/bootstrap-datepicker',\n      'shared/attributes/bootstrap-select',\n      'shared/attributes/tooltip',\n      'shared/converters/dateFormat',\n      'shared/converters/scoreFormat'\n    ])\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n    });\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Settings {\n  constructor() {\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\nimport {Student} from 'gradebook/models/student';\n\n@inject(CurrentService, ApiService, ValidationControllerFactory)\nexport class AddStudent {\n  newStudent = new Student();\n\n  constructor(current, api, controllerFactory) {\n    this.current = current;\n    this.api = api;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  created() {\n    this.title = 'Add Student';\n    this.bttn = 'Add Student';\n    this.students = [];\n\n    // Get students\n    this.setStudentList();\n    this.formStart = true;\n  }\n\n  reset() {\n    this.controller.reset();\n    this.newStudent = new Student();\n    this.title = 'Add Student';\n    this.bttn = 'Add Student';\n  }\n\n  setStudentList() {\n    let query = {\n      filters: [{'name': 'year_id', 'op': 'eq', 'val': this.current.year.id}],\n      order_by: [{'field': 'first_name', 'direction': 'asc'}]\n    };\n\n    this.api.find('students', query)\n            .then(data => this.students = data);\n  }\n\n  edit(student) {\n    this.newStudent = student;\n    this.controller.reset();\n    this.title = 'Edit Student';\n    this.bttn = 'Save Changes';\n  }\n\n  delete(student) {\n    let confirmed = confirm('Are you sure you want to delete ' + student.fullName + '?');\n\n    if (confirmed) {\n      this.api.delete(student)\n              .then(data => this.setStudentList());\n    }\n  }\n\n  submit() {\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n\n      // Reset Focus\n      this.formStart = true;\n\n      // Add year_id if missing\n      if (!this.newStudent.year_id) {\n        this.newStudent.year_id = this.current.year.id;\n      }\n\n      // Save Changes\n      this.api.save(this.newStudent).then(resp => {\n        // Refresh Student list\n        this.setStudentList();\n        // Reset Form\n        this.reset();\n      });\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\nimport {Subject} from 'gradebook/models/subject';\n\n@inject(CurrentService, ApiService, ValidationControllerFactory)\nexport class AddSubject {\n  newSubject = new Subject();\n\n  constructor(current, api, controllerFactory) {\n    this.current = current;\n    this.api = api;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  created() {\n    this.title = 'Add Subject';\n    this.bttn = 'Add Subject';\n    this.current.setSubjectList();\n    this.formStart = true;\n  }\n\n  reset() {\n    this.title = 'Add Subject';\n    this.bttn = 'Add Subject';\n    this.formStart = true;\n    this.newSubject = new Subject();\n    this.controller.reset();\n  }\n\n  edit(subject) {\n    this.controller.reset();\n    this.newSubject = subject;\n    this.formStart = true;\n    this.title = 'Edit Subject';\n    this.bttn = 'Save Changes';\n  }\n\n  delete(subject) {\n    let confirmed = confirm('Are you sure you want to delete ' + subject.name  + '?');\n\n    if (confirmed) {\n      this.api.delete(subject).then(data => this.current.setSubjectList());\n    }\n  }\n\n  submit() {\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n\n      if (!this.newSubject.year_id) {\n        this.newSubject.year_id = this.current.year.id;\n      }\n\n      this.api.save(this.newSubject).then(data => {\n        this.current.setSubjectList();\n        this.reset();\n      });\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\nimport {Year} from 'gradebook/models/year';\n\n@inject(CurrentService, ApiService, ValidationControllerFactory)\nexport class AddYear {\n  newYear = new Year();\n\n  constructor(current, api, controllerFactory) {\n    this.current = current;\n    this.api = api;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  created() {\n    this.title = 'Add Year';\n    this.bttn = 'Add Year';\n    this.setYearList();\n    this.formStart = true;\n  }\n\n  reset() {\n    this.controller.reset();\n    this.newYear = new Year();\n    this.formStart = true;\n    this.title = 'Add Year';\n    this.bttn = 'Add Year';\n  }\n\n  setYearList() {\n    let query = {\n      order_by: [{'field': 'first_day', 'direction': 'desc'}]\n    };\n\n    this.api.find('years', query)\n            .then(data => this.years = data)\n            .catch(error => console.log(error));\n  }\n\n  edit(year) {\n    this.newYear = year;\n    this.title = 'Edit Year';\n    this.bttn = 'Save Changes';\n  }\n\n  delete(year) {\n    let confirmed = confirm('Are you sure you want to delete ' + year.school + ' (' + year.first_day + ')' + '?');\n\n    if (confirmed) {\n      this.api.delete(year)\n              .then(data => this.setYearList())\n              .catch(error => console.log(error));\n    }\n  }\n\n  submit() {\n    // Check for validaiton\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n\n      // Save or Add\n      this.api.save(this.newYear)\n              .then(resp => {\n                if (!this.current.year || this.newYear.id === this.current.year.id) {\n                  this.current.setYear(resp);\n                }\n                this.setYearList();\n                this.reset();  // Refresh year list to get update\n              })\n              .catch(error => console.log(error));\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\n\n\n@inject(CurrentService, ApiService, EventAggregator)\nexport class GradeBook {\n  constructor(current, api, eventaggregator) {\n    // Data Holders\n    this.current = current;\n    this.api = api;\n    this.ea = eventaggregator;\n\n    // Initalize Selection Indicators\n    this.quickEntry = false;\n    this.editMode = false;\n  }\n\n  activate(params) {\n    // Check if we are changing subjects\n    let changeSubject = false;\n    if (this.current.subject) {\n      if (this.current.subject.id !== Number(params.subject)) {\n        changeSubject = true;\n      }\n    } else {\n      changeSubject = true;\n    }\n\n    // If there is a subject and we are changing, get new info\n    if (params.subject && changeSubject) {\n      this.api.findOne('subjects', params.subject).then(data => {\n        this.current.setSubject(data);\n      });\n    }\n\n    if (!params.subject && this.current.subject) {\n      this.current.clearSubject();\n    }\n\n    if (params.assignment) {\n      this.api.findOne('assignments', params.assignment).then(data => {\n        this.current.setAssignment(data);\n        this.current.setAssignmentList(data.date);\n      });\n    }\n  }\n\n  created() {\n    if (this.current.year) {\n      this.current.setSubjectList();\n    }\n  }\n\n  addAssignment() {\n    // Flip on add assignment dialog\n    this.current.clearAssignment();\n    this.editMode = 'add';\n  }\n\n  editAssignment() {\n    this.editMode = 'edit';\n  }\n\n  deleteAssignment() {\n    this.api.delete(this.current.assignment)\n            .then(data => this.ea.publish('reloadAssignments'));\n\n    this.current.clearAssignment();\n  }\n\n  toggleQuick() {\n    this.quickEntry = !this.quickEntry;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {AuthService} from 'aurelia-auth';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {CurrentService} from 'shared/services/currentService';\nimport {User} from 'shared/models/user';\n\n@inject(Router, AuthService, CurrentService, ValidationControllerFactory)\nexport class Home {\n  newUser = new User();\n\n  constructor(router, auth, current, controllerFactory) {\n    this.router = router;\n    this.auth = auth;\n    this.current = current;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  submitSignUp() {\n    // Check for Validation\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n      // Send form\n      this.auth.signup(this.newUser)\n               .then(resp => {\n                 // Set as current user\n                 this.current.setUser(new User(resp.user));\n\n                 // Move on to next step\n                 this.router.navigateToRoute('payment');\n                 location.reload();\n               });\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from '../shared/services/currentService';\nimport {ApiService} from '../shared/services/apiService';\n\n@inject(CurrentService, ApiService)\nexport class Reports {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n  }\n\n  attached() {\n    this.reports = ['Student'];\n  }\n\n  setReport(report) {\n    this.selectedReport = report;\n  }\n}\n","import {\n  ValidationRenderer,\n  RenderInstruction,\n  ValidateResult\n} from 'aurelia-validation';\n\nexport class BootstrapFormRenderer {\n  render(instruction: RenderInstruction) {\n    for (let { result, elements } of instruction.unrender) {\n      for (let element of elements) {\n        this.remove(element, result);\n      }\n    }\n\n    for (let { result, elements } of instruction.render) {\n      for (let element of elements) {\n        this.add(element, result);\n      }\n    }\n  }\n\n  add(element: Element, result: ValidateResult) {\n    if (result.valid) {\n      return;\n    }\n\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n      return;\n    }\n\n    // add the has-error class to the enclosing form-group div\n    formGroup.classList.add('has-error');\n\n    // add help-block\n    const message = document.createElement('span');\n    message.className = 'help-block validation-message';\n    message.textContent = result.message;\n    message.id = `validation-message-${result.id}`;\n    formGroup.appendChild(message);\n  }\n\n  remove(element: Element, result: ValidateResult) {\n    if (result.valid) {\n      return;\n    }\n\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n      return;\n    }\n\n    // remove help-block\n    const message = formGroup.querySelector(`#validation-message-${result.id}`);\n    if (message) {\n      formGroup.removeChild(message);\n\n      // remove the has-error class from the enclosing form-group div\n      if (formGroup.querySelectorAll('.help-block.validation-message').length === 0) {\n        formGroup.classList.remove('has-error');\n      }\n    }\n  }\n}\n","import './rules';\nimport {BootstrapFormRenderer} from './bootstrap-form-renderer';\n\nexport function configure(config) {\n  config.plugin('aurelia-validation');\n\n  config.container.registerHandler('bootstrap-form', container => container.get(BootstrapFormRenderer));\n}\n","import {ValidationRules} from 'aurelia-validation';\n\nValidationRules.customRule(\n  'date',\n  (value, obj) => value === null || value === undefined || value === '' || !isNaN(Date.parse(value)),\n  '${$displayName} must be a valid date.'\n);\n","import {inject} from 'aurelia-framework';\nimport {HttpService} from 'shared/services/httpService';\n\n@inject(HttpService)\nexport class Password {\n  constructor(http) {\n    this.http = http;\n  }\n\n  activate(params) {\n    if (params.token !== undefined) {\n      this.token = params.token;\n      this.reset = true;\n    } else {\n      this.reset = false;\n    }\n  }\n\n  attached() {\n    this.password = {};\n  }\n\n  resetPassword() {\n    // Add token\n    this.password.token = this.token;\n\n    // Send Reset\n    this.http.send('auth/reset_password', this.password)\n             .then(resp => {\n               if (resp.error) {\n                 this.feedback = 'Error: ' + resp.error;\n               } else {\n                 this.feedback = 'Password Changed!';\n               }\n             });\n  }\n\n  changePassword() {\n    this.http.send('auth/change_password', this.password, true)\n             .then(resp => this.feedback = resp.message);\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {ApiService} from 'shared/services/apiService';\nimport {CurrentService} from 'shared/services/currentService';\n\n@inject(CurrentService, ApiService, ValidationControllerFactory)\nexport class Profile {\n  constructor(current, api, controllerFactory) {\n    this.current = current;\n    this.api = api;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  attached() {\n    this.profile = this.current.user;\n  }\n\n  submit() {\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n      this.isSaving = true;\n      this.api.save(this.profile).then(data => {\n        this.isSaving = false;\n        this.saved = true;\n      });\n    });\n  }\n}\n","/* =========================================================\n * bootstrap-datepicker.js \n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n var color = '';\n!function( $ ) {\n\t\n\t// Picker object\n\n\tvar Datepicker = function(element, options){\n\t\tthis.element = $(element);\n\t\tthis.format = DPGlobal.parseFormat(options.format||this.element.data('date-format')||'mm/dd/yyyy');\n\t\tthis.picker = $(DPGlobal.template)\n\t\t\t\t\t\t\t.appendTo('body')\n\t\t\t\t\t\t\t.on({\n\t\t\t\t\t\t\t\tclick: $.proxy(this.click, this)//,\n\t\t\t\t\t\t\t\t//mousedown: $.proxy(this.mousedown, this)\n\t\t\t\t\t\t\t});\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on') : false;\n\t\t\n\t\tif (this.isInput) {\n\t\t\tthis.element.on({\n\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t//blur: $.proxy(this.hide, this),\n\t\t\t\tkeyup: $.proxy(this.update, this)\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.component){\n\t\t\t\tthis.component.on('click', $.proxy(this.show, this));\n\t\t\t} else {\n\t\t\t\tthis.element.on('click', $.proxy(this.show, this));\n\t\t\t}\n\t\t}\n\t\n\t\tthis.minViewMode = options.minViewMode||this.element.data('date-minviewmode')||0;\n\t\tif (typeof this.minViewMode === 'string') {\n\t\t\tswitch (this.minViewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.minViewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.minViewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.minViewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.viewMode = options.viewMode||this.element.data('date-viewmode')||0;\n\t\tif (typeof this.viewMode === 'string') {\n\t\t\tswitch (this.viewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.viewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.viewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.viewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.color = options.color||'azure';\n\t\tthis.startViewMode = this.viewMode;\n\t\tthis.weekStart = options.weekStart||this.element.data('date-weekstart')||0;\n\t\tthis.weekEnd = this.weekStart === 0 ? 6 : this.weekStart - 1;\n\t\tthis.onRender = options.onRender;\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\t\tthis.update();\n\t\tthis.showMode();\n\t\t\n\t};\n\t\n\t\n\t\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\t\t\n\t\tshow: function(e) {\n\t\t    var datepicker = this.picker;\n\n\t\t\tthis.picker.show();\n\t\t\tthis.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n\t\t\tthis.place();\n\t\t\t$(window).on('resize', $.proxy(this.place, this));\n\t\t\tif (e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tif (!this.isInput) {\n\t\t\t}\n\t\t\tvar that = this;\n\t\t\t$(document).on('mousedown', function(ev){\n\t\t\t\tif ($(ev.target).closest('.datepicker').length == 0) {\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'show',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t\t\n\t\t\tsetTimeout(function(){\n    \t\t\tdatepicker.addClass('open');\n\t\t\t}, 170);\n\t\t},\n\t\t\n\t\thide: function(){\n\t\t\tvar datepicker = this.picker;\n\t\t\tdatepicker.removeClass('open');\n\t\t\t\n\t\t\tsetTimeout(function(){\n    \t\t\tdatepicker.hide();\n\t\t\t}, 500);\n\t\t\t\n\t\t\t$(window).off('resize', this.place);\n\t\t\tthis.viewMode = this.startViewMode;\n\t\t\tthis.showMode();\n\t\t\tif (!this.isInput) {\n\t\t\t\t$(document).off('mousedown', this.hide);\n\t\t\t}\n\t\t\t//this.set();\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'hide',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t\t\n    \t},\n\t\t\n\t\tset: function() {\n\t\t\tvar formated = DPGlobal.formatDate(this.date, this.format);\n\t\t\tif (!this.isInput) {\n\t\t\t\tif (this.component){\n\t\t\t\t\tthis.element.find('input').prop('value', formated);\n\t\t\t\t}\n\t\t\t\tthis.element.data('date', formated);\n\t\t\t} else {\n\t\t\t\tthis.element.prop('value', formated);\n\t\t\t}\n\t\t},\n\t\t\n\t\tsetValue: function(newDate) {\n\t\t\tif (typeof newDate === 'string') {\n\t\t\t\tthis.date = DPGlobal.parseDate(newDate, this.format);\n\t\t\t} else {\n\t\t\t\tthis.date = new Date(newDate);\n\t\t\t}\n\t\t\tthis.set();\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\t\t\n\t\tplace: function(){\n\t\t\tvar offset = this.component ? this.component.offset() : this.element.offset();\n\t\t\tthis.picker.css({\n\t\t\t\ttop: offset.top + this.height,\n\t\t\t\tleft: offset.left\n\t\t\t});\n\t\t},\n\t\t\n\t\tupdate: function(newDate){\n\t\t\tthis.date = DPGlobal.parseDate(\n\t\t\t\ttypeof newDate === 'string' ? newDate : (this.isInput ? this.element.prop('value') : this.element.data('date')),\n\t\t\t\tthis.format\n\t\t\t);\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\t\t\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.weekStart;\n\t\t\tvar html = '<tr>';\n\t\t\twhile (dowCnt < this.weekStart + 7) {\n\t\t\t\thtml += '<th class=\"dow\">'+DPGlobal.dates.daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\t\t\n\t\tfillMonths: function(){\n\t\t\tvar html = '';\n\t\t\tvar i = 0\n\t\t\twhile (i < 12) {\n\t\t\t\thtml += '<span class=\"month\">'+DPGlobal.dates.monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').append(html);\n\t\t},\n\t\t\n\t\tfill: function() {\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getFullYear(),\n\t\t\t\tmonth = d.getMonth(),\n\t\t\t\tcurrentDate = this.date.valueOf();\n\t\t\tthis.picker.find('.datepicker-days th:eq(1)')\n\t\t\t\t\t\t.text(DPGlobal.dates.months[month]+' '+year);\n\t\t\tvar prevMonth = new Date(year, month-1, 28,0,0,0,0),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getFullYear(), prevMonth.getMonth());\n\t\t\tprevMonth.setDate(day);\n\t\t\tprevMonth.setDate(day - (prevMonth.getDay() - this.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tnextMonth.setDate(nextMonth.getDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName,\n\t\t\t\tprevY,\n\t\t\t\tprevM;\n\t\t\twhile(prevMonth.valueOf() < nextMonth) {\n\t\t\t\tif (prevMonth.getDay() === this.weekStart) {\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t}\n\t\t\t\tclsName = this.onRender(prevMonth);\n\t\t\t\tprevY = prevMonth.getFullYear();\n\t\t\t\tprevM = prevMonth.getMonth();\n\t\t\t\tif ((prevM < month &&  prevY === year) ||  prevY < year) {\n\t\t\t\t\tclsName += ' old';\n\t\t\t\t} else if ((prevM > month && prevY === year) || prevY > year) {\n\t\t\t\t\tclsName += ' new';\n\t\t\t\t}\n\t\t\t\tif (prevMonth.valueOf() === currentDate) {\n\t\t\t\t\tclsName += ' active ' + this.color;\n\t\t\t\t}\n\t\t\t\thtml.push('<td class=\"day '+clsName+'\"><p>'+prevMonth.getDate() + '</p></td>');\n\t\t\t\tif (prevMonth.getDay() === this.weekEnd) {\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setDate(prevMonth.getDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\t\t\tvar currentYear = this.date.getFullYear();\n\t\t\t\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t.text(year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\t\t\tif (currentYear === year) {\n\t\t\t\tmonths.eq(this.date.getMonth()).addClass('active').addClass(this.color);\n\t\t\t}\n\t\t\t\n\t\t\thtml = '';\n\t\t\tyear = parseInt(year/10, 10) * 10;\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\n\t\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t\t.find('td');\n\t\t\tyear -= 1;\n\t\t\tfor (var i = -1; i < 11; i++) {\n\t\t\t\thtml += '<span class=\"year'+(i === -1 || i === 10 ? ' old' : '')+(currentYear === year ? ' active ' : '')+ this.color + '\">'+year+'</span>';\n\t\t\t\tyear += 1;\n\t\t\t}\n\t\t\tyearCont.html(html);\n\t\t},\n\t\t\n\t\tclick: function(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.target).closest('span, td, th');\n\t\t\tif (target.length === 1) {\n\t\t\t\tswitch(target[0].nodeName.toLowerCase()) {\n\t\t\t\t\tcase 'th':\n\t\t\t\t\t\tswitch(target[0].className) {\n\t\t\t\t\t\t\tcase 'switch-datepicker':\n\t\t\t\t\t\t\t\tthis.showMode(1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\t\tcase 'next':\n\t\t\t\t\t\t\t\tthis.viewDate['set'+DPGlobal.modes[this.viewMode].navFnc].call(\n\t\t\t\t\t\t\t\t\tthis.viewDate,\n\t\t\t\t\t\t\t\t\tthis.viewDate['get'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate) + \n\t\t\t\t\t\t\t\t\tDPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'span':\n\t\t\t\t\t\tif (target.is('.month')) {\n\t\t\t\t\t\t\tvar month = target.parent().find('span').index(target);\n\t\t\t\t\t\t\tthis.viewDate.setMonth(month);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar year = parseInt(target.text(), 10)||0;\n\t\t\t\t\t\t\tthis.viewDate.setFullYear(year);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.viewMode !== 0) {\n\t\t\t\t\t\t\tthis.date = new Date(this.viewDate);\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'td':\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\n\t\t\t\t\t\t\tvar day = parseInt(target.text(), 10)||1;\n\t\t\t\t\t\t\tvar month = this.viewDate.getMonth();\n\t\t\t\t\t\t\tif (target.is('.old')) {\n\t\t\t\t\t\t\t\tmonth -= 1;\n\t\t\t\t\t\t\t} else if (target.is('.new')) {\n\t\t\t\t\t\t\t\tmonth += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar year = this.viewDate.getFullYear();\n\t\t\t\t\t\t\tthis.date = new Date(year, month, day,0,0,0,0);\n\t\t\t\t\t\t\tthis.viewDate = new Date(year, month, Math.min(28, day),0,0,0,0);\n\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tmousedown: function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t},\n\t\t\n\t\tshowMode: function(dir) {\n\t\t\tif (dir) {\n\t\t\t\tthis.viewMode = Math.max(this.minViewMode, Math.min(2, this.viewMode + dir));\n\t\t\t}\n\t\t\tthis.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\t\t}\n\t};\n\t\n\t$.fn.datepicker = function ( option, val ) {\n\t\treturn this.each(function () {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data) {\n\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, $.extend({}, $.fn.datepicker.defaults,options))));\n\t\t\t}\n\t\t\tif (typeof option === 'string') data[option](val);\n\t\t});\n\t};\n\n\t$.fn.datepicker.defaults = {\n\t\tonRender: function(date) {\n\t\t\treturn '';\n\t\t}\n\t};\n\t$.fn.datepicker.Constructor = Datepicker;\n\t\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t}],\n\t\tdates:{\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\tdaysMin: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"],\n\t\t\tmonths: [\"JAN.\", \"FEB.\", \"MAR.\", \"APR.\", \"MAY\", \"JUN.\", \"JUL.\", \"AUG.\", \"SEPT.\", \"OCT.\", \"NOV.\", \"DEC.\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\t\t},\n\t\tisLeapYear: function (year) {\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n\t\t},\n\t\tgetDaysInMonth: function (year, month) {\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n\t\t},\n\t\tparseFormat: function(format){\n\t\t\tvar separator = format.match(/[.\\/\\-\\s].*?/),\n\t\t\t\tparts = format.split(/\\W+/);\n\t\t\tif (!separator || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separator: separator, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format) {\n\t\t\tvar parts = date.split(format.separator),\n\t\t\t\tdate = new Date(),\n\t\t\t\tval;\n\t\t\tdate.setHours(0);\n\t\t\tdate.setMinutes(0);\n\t\t\tdate.setSeconds(0);\n\t\t\tdate.setMilliseconds(0);\n\t\t\tif (parts.length === format.parts.length) {\n\t\t\t\tvar year = date.getFullYear(), day = date.getDate(), month = date.getMonth();\n\t\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\t\tval = parseInt(parts[i], 10)||1;\n\t\t\t\t\tswitch(format.parts[i]) {\n\t\t\t\t\t\tcase 'dd':\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tday = val;\n\t\t\t\t\t\t\tdate.setDate(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mm':\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tmonth = val - 1;\n\t\t\t\t\t\t\tdate.setMonth(val - 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yy':\n\t\t\t\t\t\t\tyear = 2000 + val;\n\t\t\t\t\t\t\tdate.setFullYear(2000 + val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yyyy':\n\t\t\t\t\t\t\tyear = val;\n\t\t\t\t\t\t\tdate.setFullYear(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, 0 ,0 ,0);\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format){\n\t\t\tvar val = {\n\t\t\t\td: date.getDate(),\n\t\t\t\tm: date.getMonth() + 1,\n\t\t\t\tyy: date.getFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tvar date = [];\n\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join(format.separator);\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\"><p>&lsaquo;</p></th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"switch-datepicker\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\"><p>&rsaquo;</p></th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>'\n\t};\n\t\n\tDPGlobal.template = '<div class=\"datepicker dropdown-menu\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n}( window.jQuery );","/*!\n * Bootstrap-select v1.8.1 (http://silviomoreto.github.io/bootstrap-select)\n *\n * Copyright 2013-2015 bootstrap-select\n * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)\n */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function (a0) {\n      return (factory(a0));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    factory(jQuery);\n  }\n}(this, function (jQuery) {\n\n(function ($) {\n  'use strict';\n\n  //<editor-fold desc=\"Shims\">\n  if (!String.prototype.includes) {\n    (function () {\n      'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n      var toString = {}.toString;\n      var defineProperty = (function () {\n        // IE 8 only supports `Object.defineProperty` on DOM elements\n        try {\n          var object = {};\n          var $defineProperty = Object.defineProperty;\n          var result = $defineProperty(object, object, object) && $defineProperty;\n        } catch (error) {\n        }\n        return result;\n      }());\n      var indexOf = ''.indexOf;\n      var includes = function (search) {\n        if (this == null) {\n          throw new TypeError();\n        }\n        var string = String(this);\n        if (search && toString.call(search) == '[object RegExp]') {\n          throw new TypeError();\n        }\n        var stringLength = string.length;\n        var searchString = String(search);\n        var searchLength = searchString.length;\n        var position = arguments.length > 1 ? arguments[1] : undefined;\n        // `ToInteger`\n        var pos = position ? Number(position) : 0;\n        if (pos != pos) { // better `isNaN`\n          pos = 0;\n        }\n        var start = Math.min(Math.max(pos, 0), stringLength);\n        // Avoid the `indexOf` call if no match is possible\n        if (searchLength + start > stringLength) {\n          return false;\n        }\n        return indexOf.call(string, searchString, pos) != -1;\n      };\n      if (defineProperty) {\n        defineProperty(String.prototype, 'includes', {\n          'value': includes,\n          'configurable': true,\n          'writable': true\n        });\n      } else {\n        String.prototype.includes = includes;\n      }\n    }());\n  }\n\n  if (!String.prototype.startsWith) {\n    (function () {\n      'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n      var defineProperty = (function () {\n        // IE 8 only supports `Object.defineProperty` on DOM elements\n        try {\n          var object = {};\n          var $defineProperty = Object.defineProperty;\n          var result = $defineProperty(object, object, object) && $defineProperty;\n        } catch (error) {\n        }\n        return result;\n      }());\n      var toString = {}.toString;\n      var startsWith = function (search) {\n        if (this == null) {\n          throw new TypeError();\n        }\n        var string = String(this);\n        if (search && toString.call(search) == '[object RegExp]') {\n          throw new TypeError();\n        }\n        var stringLength = string.length;\n        var searchString = String(search);\n        var searchLength = searchString.length;\n        var position = arguments.length > 1 ? arguments[1] : undefined;\n        // `ToInteger`\n        var pos = position ? Number(position) : 0;\n        if (pos != pos) { // better `isNaN`\n          pos = 0;\n        }\n        var start = Math.min(Math.max(pos, 0), stringLength);\n        // Avoid the `indexOf` call if no match is possible\n        if (searchLength + start > stringLength) {\n          return false;\n        }\n        var index = -1;\n        while (++index < searchLength) {\n          if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n            return false;\n          }\n        }\n        return true;\n      };\n      if (defineProperty) {\n        defineProperty(String.prototype, 'startsWith', {\n          'value': startsWith,\n          'configurable': true,\n          'writable': true\n        });\n      } else {\n        String.prototype.startsWith = startsWith;\n      }\n    }());\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (\n      o, // object\n      k, // key\n      r  // result array\n      ){\n      // initialize object and result\n      r=[];\n      // iterate over object keys\n      for (k in o)\n          // fill result array with non-prototypical keys\n        r.hasOwnProperty.call(o, k) && r.push(k);\n      // return result\n      return r;\n    };\n  }\n\n  $.fn.triggerNative = function (eventName) {\n    var el = this[0],\n        event;\n\n    if (el.dispatchEvent) {\n      if (typeof Event === 'function') {\n        // For modern browsers\n        event = new Event(eventName, {\n          bubbles: true\n        });\n      } else {\n        // For IE since it doesn't support Event constructor\n        event = document.createEvent('Event');\n        event.initEvent(eventName, true, false);\n      }\n\n      el.dispatchEvent(event);\n    } else {\n      if (el.fireEvent) {\n        event = document.createEventObject();\n        event.eventType = eventName;\n        el.fireEvent('on' + eventName, event);\n      }\n\n      this.trigger(eventName);\n    }\n  };\n  //</editor-fold>\n\n  // Case insensitive contains search\n  $.expr[':'].icontains = function (obj, index, meta) {\n    var $obj = $(obj);\n    var haystack = ($obj.data('tokens') || $obj.text()).toUpperCase();\n    return haystack.includes(meta[3].toUpperCase());\n  };\n\n  // Case insensitive begins search\n  $.expr[':'].ibegins = function (obj, index, meta) {\n    var $obj = $(obj);\n    var haystack = ($obj.data('tokens') || $obj.text()).toUpperCase();\n    return haystack.startsWith(meta[3].toUpperCase());\n  };\n\n  // Case and accent insensitive contains search\n  $.expr[':'].aicontains = function (obj, index, meta) {\n    var $obj = $(obj);\n    var haystack = ($obj.data('tokens') || $obj.data('normalizedText') || $obj.text()).toUpperCase();\n    return haystack.includes(meta[3].toUpperCase());\n  };\n\n  // Case and accent insensitive begins search\n  $.expr[':'].aibegins = function (obj, index, meta) {\n    var $obj = $(obj);\n    var haystack = ($obj.data('tokens') || $obj.data('normalizedText') || $obj.text()).toUpperCase();\n    return haystack.startsWith(meta[3].toUpperCase());\n  };\n\n  /**\n   * Remove all diatrics from the given text.\n   * @access private\n   * @param {String} text\n   * @returns {String}\n   */\n  function normalizeToBase(text) {\n    var rExps = [\n      {re: /[\\xC0-\\xC6]/g, ch: \"A\"},\n      {re: /[\\xE0-\\xE6]/g, ch: \"a\"},\n      {re: /[\\xC8-\\xCB]/g, ch: \"E\"},\n      {re: /[\\xE8-\\xEB]/g, ch: \"e\"},\n      {re: /[\\xCC-\\xCF]/g, ch: \"I\"},\n      {re: /[\\xEC-\\xEF]/g, ch: \"i\"},\n      {re: /[\\xD2-\\xD6]/g, ch: \"O\"},\n      {re: /[\\xF2-\\xF6]/g, ch: \"o\"},\n      {re: /[\\xD9-\\xDC]/g, ch: \"U\"},\n      {re: /[\\xF9-\\xFC]/g, ch: \"u\"},\n      {re: /[\\xC7-\\xE7]/g, ch: \"c\"},\n      {re: /[\\xD1]/g, ch: \"N\"},\n      {re: /[\\xF1]/g, ch: \"n\"}\n    ];\n    $.each(rExps, function () {\n      text = text.replace(this.re, this.ch);\n    });\n    return text;\n  }\n\n\n  function htmlEscape(html) {\n    var escapeMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '`': '&#x60;'\n    };\n    var source = '(?:' + Object.keys(escapeMap).join('|') + ')',\n        testRegexp = new RegExp(source),\n        replaceRegexp = new RegExp(source, 'g'),\n        string = html == null ? '' : '' + html;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, function (match) {\n      return escapeMap[match];\n    }) : string;\n  }\n\n  var Selectpicker = function (element, options, e) {\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    this.$element = $(element);\n    this.$newElement = null;\n    this.$button = null;\n    this.$menu = null;\n    this.$lis = null;\n    this.options = options;\n\n    // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\n    // data-attribute)\n    if (this.options.title === null) {\n      this.options.title = this.$element.attr('title');\n    }\n\n    //Expose public methods\n    this.val = Selectpicker.prototype.val;\n    this.render = Selectpicker.prototype.render;\n    this.refresh = Selectpicker.prototype.refresh;\n    this.setStyle = Selectpicker.prototype.setStyle;\n    this.selectAll = Selectpicker.prototype.selectAll;\n    this.deselectAll = Selectpicker.prototype.deselectAll;\n    this.destroy = Selectpicker.prototype.destroy;\n    this.remove = Selectpicker.prototype.remove;\n    this.show = Selectpicker.prototype.show;\n    this.hide = Selectpicker.prototype.hide;\n\n    this.init();\n  };\n\n  Selectpicker.VERSION = '1.8.1';\n\n  // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\n  Selectpicker.DEFAULTS = {\n    noneSelectedText: 'Nothing selected',\n    noneResultsText: 'No results matched {0}',\n    countSelectedText: function (numSelected, numTotal) {\n      return (numSelected == 1) ? \"{0} item selected\" : \"{0} items selected\";\n    },\n    maxOptionsText: function (numAll, numGroup) {\n      return [\n        (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)',\n        (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'\n      ];\n    },\n    selectAllText: 'Select All',\n    deselectAllText: 'Deselect All',\n    doneButton: false,\n    doneButtonText: 'Close',\n    multipleSeparator: ', ',\n    styleBase: 'btn',\n    style: 'btn-default',\n    size: 'auto',\n    title: null,\n    selectedTextFormat: 'values',\n    width: false,\n    container: false,\n    hideDisabled: false,\n    showSubtext: false,\n    showIcon: true,\n    showContent: true,\n    dropupAuto: true,\n    header: false,\n    liveSearch: false,\n    liveSearchPlaceholder: null,\n    liveSearchNormalize: false,\n    liveSearchStyle: 'contains',\n    actionsBox: false,\n\n    // Creative tim adjustments for Font Awesome icons\n    iconBase: 'fa',\n    tickIcon: 'fa-check',\n    template: {\n      caret: '<span class=\"caret\"></span>'\n    },\n    maxOptions: false,\n    mobile: false,\n    selectOnTab: false,\n    dropdownAlignRight: false\n  };\n\n  Selectpicker.prototype = {\n\n    constructor: Selectpicker,\n\n    init: function () {\n      var that = this,\n          id = this.$element.attr('id');\n\n      // store originalIndex (key) and newIndex (value) in this.liObj for fast accessibility\n      // allows us to do this.$lis.eq(that.liObj[index]) instead of this.$lis.filter('[data-original-index=\"' + index + '\"]')\n      this.liObj = {};\n      this.multiple = this.$element.prop('multiple');\n      this.autofocus = this.$element.prop('autofocus');\n      this.$newElement = this.createView();\n      this.$element\n        .after(this.$newElement)\n        .appendTo(this.$newElement);\n      this.$button = this.$newElement.children('button');\n      this.$menu = this.$newElement.children('.dropdown-menu');\n      this.$menuInner = this.$menu.children('.inner');\n      this.$searchbox = this.$menu.find('input');\n\n      if (this.options.dropdownAlignRight)\n        this.$menu.addClass('dropdown-menu-right');\n\n      if (typeof id !== 'undefined') {\n        this.$button.attr('data-id', id);\n        $('label[for=\"' + id + '\"]').click(function (e) {\n          e.preventDefault();\n          that.$button.focus();\n        });\n      }\n\n      this.checkDisabled();\n      this.clickListener();\n      if (this.options.liveSearch) this.liveSearchListener();\n      this.render();\n      this.setStyle();\n      this.setWidth();\n      if (this.options.container) this.selectPosition();\n      this.$menu.data('this', this);\n      this.$newElement.data('this', this);\n      if (this.options.mobile) this.mobile();\n\n      this.$newElement.on({\n        'hide.bs.dropdown': function (e) {\n          that.$element.trigger('hide.bs.select', e);\n        },\n        'hidden.bs.dropdown': function (e) {\n          that.$element.trigger('hidden.bs.select', e);\n        },\n        'show.bs.dropdown': function (e) {\n          that.$element.trigger('show.bs.select', e);\n        },\n        'shown.bs.dropdown': function (e) {\n          that.$element.trigger('shown.bs.select', e);\n        }\n      });\n\n      if (that.$element[0].hasAttribute('required')) {\n        this.$element.on('invalid', function () {\n          that.$button\n            .addClass('bs-invalid')\n            .focus();\n\n          that.$element.on({\n            'focus.bs.select': function () {\n              that.$button.focus();\n              that.$element.off('focus.bs.select');\n            },\n            'shown.bs.select': function () {\n              that.$element\n                .val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\n                .off('shown.bs.select');\n            },\n            'rendered.bs.select': function () {\n              // if select is no longer invalid, remove the bs-invalid class\n              if (this.validity.valid) that.$button.removeClass('bs-invalid');\n              that.$element.off('rendered.bs.select');\n            }\n          });\n\n        });\n      }\n\n      setTimeout(function () {\n        that.$element.trigger('loaded.bs.select');\n      });\n    },\n\n    createDropdown: function () {\n      // Options\n      // If we are multiple, then add the show-tick class by default\n      var multiple = this.multiple ? ' show-tick' : '',\n          inputGroup = this.$element.parent().hasClass('input-group') ? ' input-group-btn' : '',\n          autofocus = this.autofocus ? ' autofocus' : '';\n      // Elements\n      var header = this.options.header ? '<div class=\"popover-title\"><button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' + this.options.header + '</div>' : '';\n      var searchbox = this.options.liveSearch ?\n      '<div class=\"bs-searchbox\">' +\n      '<input type=\"text\" class=\"form-control\" autocomplete=\"off\"' +\n      (null === this.options.liveSearchPlaceholder ? '' : ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"') + '>' +\n      '</div>'\n          : '';\n      var actionsbox = this.multiple && this.options.actionsBox ?\n      '<div class=\"bs-actionsbox\">' +\n      '<div class=\"btn-group btn-group-sm btn-block\">' +\n      '<button type=\"button\" class=\"actions-btn bs-select-all btn btn-default\">' +\n      this.options.selectAllText +\n      '</button>' +\n      '<button type=\"button\" class=\"actions-btn bs-deselect-all btn btn-default\">' +\n      this.options.deselectAllText +\n      '</button>' +\n      '</div>' +\n      '</div>'\n          : '';\n      var donebutton = this.multiple && this.options.doneButton ?\n      '<div class=\"bs-donebutton\">' +\n      '<div class=\"btn-group btn-block\">' +\n      '<button type=\"button\" class=\"btn btn-sm btn-default\">' +\n      this.options.doneButtonText +\n      '</button>' +\n      '</div>' +\n      '</div>'\n          : '';\n      var drop =\n          '<div class=\"btn-group bootstrap-select' + multiple + inputGroup + '\">' +\n          '<button type=\"button\" class=\"' + this.options.styleBase + ' dropdown-toggle\" data-toggle=\"dropdown\"' + autofocus + '>' +\n          '<span class=\"filter-option pull-left\"></span>&nbsp;' +\n          '<span class=\"bs-caret\">' +\n          this.options.template.caret +\n          '</span>' +\n          '</button>' +\n          '<div class=\"dropdown-menu open\">' +\n          header +\n          searchbox +\n          actionsbox +\n          '<ul class=\"dropdown-menu inner\" role=\"menu\">' +\n          '</ul>' +\n          donebutton +\n          '</div>' +\n          '</div>';\n\n      return $(drop);\n    },\n\n    createView: function () {\n      var $drop = this.createDropdown(),\n          li = this.createLi();\n\n      $drop.find('ul')[0].innerHTML = li;\n      return $drop;\n    },\n\n    reloadLi: function () {\n      //Remove all children.\n      this.destroyLi();\n      //Re build\n      var li = this.createLi();\n      this.$menuInner[0].innerHTML = li;\n    },\n\n    destroyLi: function () {\n      this.$menu.find('li').remove();\n    },\n\n    createLi: function () {\n      var that = this,\n          _li = [],\n          optID = 0,\n          titleOption = document.createElement('option'),\n          liIndex = -1; // increment liIndex whenever a new <li> element is created to ensure liObj is correct\n\n      // Helper functions\n      /**\n       * @param content\n       * @param [index]\n       * @param [classes]\n       * @param [optgroup]\n       * @returns {string}\n       */\n      var generateLI = function (content, index, classes, optgroup) {\n        return '<li' +\n            ((typeof classes !== 'undefined' & '' !== classes) ? ' class=\"' + classes + '\"' : '') +\n            ((typeof index !== 'undefined' & null !== index) ? ' data-original-index=\"' + index + '\"' : '') +\n            ((typeof optgroup !== 'undefined' & null !== optgroup) ? 'data-optgroup=\"' + optgroup + '\"' : '') +\n            '>' + content + '</li>';\n      };\n\n      /**\n       * @param text\n       * @param [classes]\n       * @param [inline]\n       * @param [tokens]\n       * @returns {string}\n       */\n      var generateA = function (text, classes, inline, tokens) {\n        return '<a tabindex=\"0\"' +\n            (typeof classes !== 'undefined' ? ' class=\"' + classes + '\"' : '') +\n            (typeof inline !== 'undefined' ? ' style=\"' + inline + '\"' : '') +\n            (that.options.liveSearchNormalize ? ' data-normalized-text=\"' + normalizeToBase(htmlEscape(text)) + '\"' : '') +\n            (typeof tokens !== 'undefined' || tokens !== null ? ' data-tokens=\"' + tokens + '\"' : '') +\n            '>' + text +\n            '<span class=\"' + that.options.iconBase + ' ' + that.options.tickIcon + ' check-mark\"></span>' +\n            '</a>';\n      };\n\n      if (this.options.title && !this.multiple) {\n        // this option doesn't create a new <li> element, but does add a new option, so liIndex is decreased\n        // since liObj is recalculated on every refresh, liIndex needs to be decreased even if the titleOption is already appended\n        liIndex--;\n\n        if (!this.$element.find('.bs-title-option').length) {\n          // Use native JS to prepend option (faster)\n          var element = this.$element[0];\n          titleOption.className = 'bs-title-option';\n          titleOption.appendChild(document.createTextNode(this.options.title));\n          titleOption.value = '';\n          element.insertBefore(titleOption, element.firstChild);\n          // Check if selected attribute is already set on an option. If not, select the titleOption option.\n          if ($(element.options[element.selectedIndex]).attr('selected') === undefined) titleOption.selected = true;\n        }\n      }\n\n      this.$element.find('option').each(function (index) {\n        var $this = $(this);\n\n        liIndex++;\n\n        if ($this.hasClass('bs-title-option')) return;\n\n        // Get the class and text for the option\n        var optionClass = this.className || '',\n            inline = this.style.cssText,\n            text = $this.data('content') ? $this.data('content') : $this.html(),\n            tokens = $this.data('tokens') ? $this.data('tokens') : null,\n            subtext = typeof $this.data('subtext') !== 'undefined' ? '<small class=\"text-muted\">' + $this.data('subtext') + '</small>' : '',\n            icon = typeof $this.data('icon') !== 'undefined' ? '<span class=\"' + that.options.iconBase + ' ' + $this.data('icon') + '\"></span> ' : '',\n            isDisabled = this.disabled || (this.parentNode.tagName === 'OPTGROUP' && this.parentNode.disabled);\n\n        if (icon !== '' && isDisabled) {\n          icon = '<span>' + icon + '</span>';\n        }\n\n        if (that.options.hideDisabled && isDisabled) {\n          liIndex--;\n          return;\n        }\n\n        if (!$this.data('content')) {\n          // Prepend any icon and append any subtext to the main text.\n          text = icon + '<span class=\"text\">' + text + subtext + '</span>';\n        }\n\n        if (this.parentNode.tagName === 'OPTGROUP' && $this.data('divider') !== true) {\n          var optGroupClass = ' ' + this.parentNode.className || '';\n\n          if ($this.index() === 0) { // Is it the first option of the optgroup?\n            optID += 1;\n\n            // Get the opt group label\n            var label = this.parentNode.label,\n                labelSubtext = typeof $this.parent().data('subtext') !== 'undefined' ? '<small class=\"text-muted\">' + $this.parent().data('subtext') + '</small>' : '',\n                labelIcon = $this.parent().data('icon') ? '<span class=\"' + that.options.iconBase + ' ' + $this.parent().data('icon') + '\"></span> ' : '';\n\n            label = labelIcon + '<span class=\"text\">' + label + labelSubtext + '</span>';\n\n            if (index !== 0 && _li.length > 0) { // Is it NOT the first option of the select && are there elements in the dropdown?\n              liIndex++;\n              _li.push(generateLI('', null, 'divider', optID + 'div'));\n            }\n            liIndex++;\n            _li.push(generateLI(label, null, 'dropdown-header' + optGroupClass, optID));\n          }\n          _li.push(generateLI(generateA(text, 'opt ' + optionClass + optGroupClass, inline, tokens), index, '', optID));\n        } else if ($this.data('divider') === true) {\n          _li.push(generateLI('', index, 'divider'));\n        } else if ($this.data('hidden') === true) {\n          _li.push(generateLI(generateA(text, optionClass, inline, tokens), index, 'hidden is-hidden'));\n        } else {\n          if (this.previousElementSibling && this.previousElementSibling.tagName === 'OPTGROUP') {\n            liIndex++;\n            _li.push(generateLI('', null, 'divider', optID + 'div'));\n          }\n          _li.push(generateLI(generateA(text, optionClass, inline, tokens), index));\n        }\n\n        that.liObj[index] = liIndex;\n      });\n\n      //If we are not multiple, we don't have a selected item, and we don't have a title, select the first element so something is set in the button\n      if (!this.multiple && this.$element.find('option:selected').length === 0 && !this.options.title) {\n        this.$element.find('option').eq(0).prop('selected', true).attr('selected', 'selected');\n      }\n\n      return _li.join('');\n    },\n\n    findLis: function () {\n      if (this.$lis == null) this.$lis = this.$menu.find('li');\n      return this.$lis;\n    },\n\n    /**\n     * @param [updateLi] defaults to true\n     */\n    render: function (updateLi) {\n      var that = this,\n          notDisabled;\n\n      //Update the LI to match the SELECT\n      if (updateLi !== false) {\n        this.$element.find('option').each(function (index) {\n          var $lis = that.findLis().eq(that.liObj[index]);\n\n          that.setDisabled(index, this.disabled || this.parentNode.tagName === 'OPTGROUP' && this.parentNode.disabled, $lis);\n          that.setSelected(index, this.selected, $lis);\n        });\n      }\n\n      this.tabIndex();\n\n      var selectedItems = this.$element.find('option').map(function () {\n        if (this.selected) {\n          if (that.options.hideDisabled && (this.disabled || this.parentNode.tagName === 'OPTGROUP' && this.parentNode.disabled)) return;\n\n          var $this = $(this),\n              icon = $this.data('icon') && that.options.showIcon ? '<i class=\"' + that.options.iconBase + ' ' + $this.data('icon') + '\"></i> ' : '',\n              subtext;\n\n          if (that.options.showSubtext && $this.data('subtext') && !that.multiple) {\n            subtext = ' <small class=\"text-muted\">' + $this.data('subtext') + '</small>';\n          } else {\n            subtext = '';\n          }\n          if (typeof $this.attr('title') !== 'undefined') {\n            return $this.attr('title');\n          } else if ($this.data('content') && that.options.showContent) {\n            return $this.data('content');\n          } else {\n            return icon + $this.html() + subtext;\n          }\n        }\n      }).toArray();\n\n      //Fixes issue in IE10 occurring when no default option is selected and at least one option is disabled\n      //Convert all the values into a comma delimited string\n      var title = !this.multiple ? selectedItems[0] : selectedItems.join(this.options.multipleSeparator);\n\n      //If this is multi select, and the selectText type is count, the show 1 of 2 selected etc..\n      if (this.multiple && this.options.selectedTextFormat.indexOf('count') > -1) {\n        var max = this.options.selectedTextFormat.split('>');\n        if ((max.length > 1 && selectedItems.length > max[1]) || (max.length == 1 && selectedItems.length >= 2)) {\n          notDisabled = this.options.hideDisabled ? ', [disabled]' : '';\n          var totalCount = this.$element.find('option').not('[data-divider=\"true\"], [data-hidden=\"true\"]' + notDisabled).length,\n              tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedItems.length, totalCount) : this.options.countSelectedText;\n          title = tr8nText.replace('{0}', selectedItems.length.toString()).replace('{1}', totalCount.toString());\n        }\n      }\n\n      if (this.options.title == undefined) {\n        this.options.title = this.$element.attr('title');\n      }\n\n      if (this.options.selectedTextFormat == 'static') {\n        title = this.options.title;\n      }\n\n      //If we dont have a title, then use the default, or if nothing is set at all, use the not selected text\n      if (!title) {\n        title = typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText;\n      }\n\n      //strip all html-tags and trim the result\n      this.$button.attr('title', $.trim(title.replace(/<[^>]*>?/g, '')));\n      this.$button.children('.filter-option').html(title);\n\n      this.$element.trigger('rendered.bs.select');\n    },\n\n    /**\n     * @param [style]\n     * @param [status]\n     */\n    setStyle: function (style, status) {\n      if (this.$element.attr('class')) {\n        this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\n      }\n\n      var buttonClass = style ? style : this.options.style;\n\n      if (status == 'add') {\n        this.$button.addClass(buttonClass);\n      } else if (status == 'remove') {\n        this.$button.removeClass(buttonClass);\n      } else {\n        this.$button.removeClass(this.options.style);\n        this.$button.addClass(buttonClass);\n      }\n    },\n\n    liHeight: function (refresh) {\n      if (!refresh && (this.options.size === false || this.sizeInfo)) return;\n\n      var newElement = document.createElement('div'),\n          menu = document.createElement('div'),\n          menuInner = document.createElement('ul'),\n          divider = document.createElement('li'),\n          li = document.createElement('li'),\n          a = document.createElement('a'),\n          text = document.createElement('span'),\n          header = this.options.header && this.$menu.find('.popover-title').length > 0 ? this.$menu.find('.popover-title')[0].cloneNode(true) : null,\n          search = this.options.liveSearch ? document.createElement('div') : null,\n          actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\n          doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null;\n\n      text.className = 'text';\n      newElement.className = this.$menu[0].parentNode.className + ' open';\n      menu.className = 'dropdown-menu open';\n      menuInner.className = 'dropdown-menu inner';\n      divider.className = 'divider';\n\n      text.appendChild(document.createTextNode('Inner text'));\n      a.appendChild(text);\n      li.appendChild(a);\n      menuInner.appendChild(li);\n      menuInner.appendChild(divider);\n      if (header) menu.appendChild(header);\n      if (search) {\n        // create a span instead of input as creating an input element is slower\n        var input = document.createElement('span');\n        search.className = 'bs-searchbox';\n        input.className = 'form-control';\n        search.appendChild(input);\n        menu.appendChild(search);\n      }\n      if (actions) menu.appendChild(actions);\n      menu.appendChild(menuInner);\n      if (doneButton) menu.appendChild(doneButton);\n      newElement.appendChild(menu);\n\n      document.body.appendChild(newElement);\n\n      var liHeight = a.offsetHeight,\n          headerHeight = header ? header.offsetHeight : 0,\n          searchHeight = search ? search.offsetHeight : 0,\n          actionsHeight = actions ? actions.offsetHeight : 0,\n          doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\n          dividerHeight = $(divider).outerHeight(true),\n          // fall back to jQuery if getComputedStyle is not supported\n          menuStyle = typeof getComputedStyle === 'function' ? getComputedStyle(menu) : false,\n          $menu = menuStyle ? null : $(menu),\n          menuPadding = parseInt(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) +\n                        parseInt(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) +\n                        parseInt(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) +\n                        parseInt(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\n          menuExtras =  menuPadding +\n                        parseInt(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) +\n                        parseInt(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2;\n\n      document.body.removeChild(newElement);\n\n      this.sizeInfo = {\n        liHeight: liHeight,\n        headerHeight: headerHeight,\n        searchHeight: searchHeight,\n        actionsHeight: actionsHeight,\n        doneButtonHeight: doneButtonHeight,\n        dividerHeight: dividerHeight,\n        menuPadding: menuPadding,\n        menuExtras: menuExtras\n      };\n    },\n\n    setSize: function () {\n      this.findLis();\n      this.liHeight();\n\n      if (this.options.header) this.$menu.css('padding-top', 0);\n      if (this.options.size === false) return;\n\n      var that = this,\n          $menu = this.$menu,\n          $menuInner = this.$menuInner,\n          $window = $(window),\n          selectHeight = this.$newElement[0].offsetHeight,\n          liHeight = this.sizeInfo['liHeight'],\n          headerHeight = this.sizeInfo['headerHeight'],\n          searchHeight = this.sizeInfo['searchHeight'],\n          actionsHeight = this.sizeInfo['actionsHeight'],\n          doneButtonHeight = this.sizeInfo['doneButtonHeight'],\n          divHeight = this.sizeInfo['dividerHeight'],\n          menuPadding = this.sizeInfo['menuPadding'],\n          menuExtras = this.sizeInfo['menuExtras'],\n          notDisabled = this.options.hideDisabled ? '.disabled' : '',\n          menuHeight,\n          getHeight,\n          selectOffsetTop,\n          selectOffsetBot,\n          posVert = function () {\n            selectOffsetTop = that.$newElement.offset().top - $window.scrollTop();\n            selectOffsetBot = $window.height() - selectOffsetTop - selectHeight;\n          };\n\n      posVert();\n\n      if (this.options.size === 'auto') {\n        var getSize = function () {\n          var minHeight,\n              hasClass = function (className, include) {\n                return function (element) {\n                    if (include) {\n                        return (element.classList ? element.classList.contains(className) : $(element).hasClass(className));\n                    } else {\n                        return !(element.classList ? element.classList.contains(className) : $(element).hasClass(className));\n                    }\n                };\n              },\n              lis = that.$menuInner[0].getElementsByTagName('li'),\n              lisVisible = Array.prototype.filter ? Array.prototype.filter.call(lis, hasClass('hidden', false)) : that.$lis.not('.hidden'),\n              optGroup = Array.prototype.filter ? Array.prototype.filter.call(lisVisible, hasClass('dropdown-header', true)) : lisVisible.filter('.dropdown-header');\n\n          posVert();\n          menuHeight = selectOffsetBot - menuExtras;\n\n          if (that.options.container) {\n            if (!$menu.data('height')) $menu.data('height', $menu.height());\n            getHeight = $menu.data('height');\n          } else {\n            getHeight = $menu.height();\n          }\n\n          if (that.options.dropupAuto) {\n            that.$newElement.toggleClass('dropup', selectOffsetTop > selectOffsetBot && (menuHeight - menuExtras) < getHeight);\n          }\n          if (that.$newElement.hasClass('dropup')) {\n            menuHeight = selectOffsetTop - menuExtras;\n          }\n\n          if ((lisVisible.length + optGroup.length) > 3) {\n            minHeight = liHeight * 3 + menuExtras - 2;\n          } else {\n            minHeight = 0;\n          }\n\n          $menu.css({\n            'max-height': menuHeight + 'px',\n            'overflow': 'hidden',\n            'min-height': minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight + 'px'\n          });\n          $menuInner.css({\n            'max-height': menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding + 'px',\n            'overflow-y': 'auto',\n            'min-height': Math.max(minHeight - menuPadding, 0) + 'px'\n          });\n        };\n        getSize();\n        this.$searchbox.off('input.getSize propertychange.getSize').on('input.getSize propertychange.getSize', getSize);\n        $window.off('resize.getSize scroll.getSize').on('resize.getSize scroll.getSize', getSize);\n      } else if (this.options.size && this.options.size != 'auto' && this.$lis.not(notDisabled).length > this.options.size) {\n        var optIndex = this.$lis.not('.divider').not(notDisabled).children().slice(0, this.options.size).last().parent().index(),\n            divLength = this.$lis.slice(0, optIndex + 1).filter('.divider').length;\n        menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding;\n\n        if (that.options.container) {\n          if (!$menu.data('height')) $menu.data('height', $menu.height());\n          getHeight = $menu.data('height');\n        } else {\n          getHeight = $menu.height();\n        }\n\n        if (that.options.dropupAuto) {\n          //noinspection JSUnusedAssignment\n          this.$newElement.toggleClass('dropup', selectOffsetTop > selectOffsetBot && (menuHeight - menuExtras) < getHeight);\n        }\n        $menu.css({\n          'max-height': menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight + 'px',\n          'overflow': 'hidden',\n          'min-height': ''\n        });\n        $menuInner.css({\n          'max-height': menuHeight - menuPadding + 'px',\n          'overflow-y': 'auto',\n          'min-height': ''\n        });\n      }\n    },\n\n    setWidth: function () {\n      if (this.options.width === 'auto') {\n        this.$menu.css('min-width', '0');\n\n        // Get correct width if element is hidden\n        var $selectClone = this.$menu.parent().clone().appendTo('body'),\n            $selectClone2 = this.options.container ? this.$newElement.clone().appendTo('body') : $selectClone,\n            ulWidth = $selectClone.children('.dropdown-menu').outerWidth(),\n            btnWidth = $selectClone2.css('width', 'auto').children('button').outerWidth();\n\n        $selectClone.remove();\n        $selectClone2.remove();\n\n        // Set width to whatever's larger, button title or longest option\n        this.$newElement.css('width', Math.max(ulWidth, btnWidth) + 'px');\n      } else if (this.options.width === 'fit') {\n        // Remove inline min-width so width can be changed from 'auto'\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', '').addClass('fit-width');\n      } else if (this.options.width) {\n        // Remove inline min-width so width can be changed from 'auto'\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', this.options.width);\n      } else {\n        // Remove inline min-width/width so width can be changed\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', '');\n      }\n      // Remove fit-width class if width is changed programmatically\n      if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\n        this.$newElement.removeClass('fit-width');\n      }\n    },\n\n    selectPosition: function () {\n      this.$bsContainer = $('<div class=\"bs-container\" />');\n\n      var that = this,\n          pos,\n          actualHeight,\n          getPlacement = function ($element) {\n            that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass('dropup', $element.hasClass('dropup'));\n            pos = $element.offset();\n            actualHeight = $element.hasClass('dropup') ? 0 : $element[0].offsetHeight;\n            that.$bsContainer.css({\n              'top': pos.top + actualHeight,\n              'left': pos.left,\n              'width': $element[0].offsetWidth\n            });\n          };\n\n      this.$button.on('click', function () {\n        var $this = $(this);\n\n        if (that.isDisabled()) {\n          return;\n        }\n\n        getPlacement(that.$newElement);\n\n        that.$bsContainer\n          .appendTo(that.options.container)\n          .toggleClass('open', !$this.hasClass('open'))\n          .append(that.$menu);\n      });\n\n      $(window).on('resize scroll', function () {\n        getPlacement(that.$newElement);\n      });\n\n      this.$element.on('hide.bs.select', function () {\n        that.$menu.data('height', that.$menu.height());\n        that.$bsContainer.detach();\n      });\n    },\n\n    setSelected: function (index, selected, $lis) {\n      if (!$lis) {\n        $lis = this.findLis().eq(this.liObj[index]);\n      }\n\n      $lis.toggleClass('selected', selected);\n    },\n\n    setDisabled: function (index, disabled, $lis) {\n      if (!$lis) {\n        $lis = this.findLis().eq(this.liObj[index]);\n      }\n\n      if (disabled) {\n        $lis.addClass('disabled').children('a').attr('href', '#').attr('tabindex', -1);\n      } else {\n        $lis.removeClass('disabled').children('a').removeAttr('href').attr('tabindex', 0);\n      }\n    },\n\n    isDisabled: function () {\n      return this.$element[0].disabled;\n    },\n\n    checkDisabled: function () {\n      var that = this;\n\n      if (this.isDisabled()) {\n        this.$newElement.addClass('disabled');\n        this.$button.addClass('disabled').attr('tabindex', -1);\n      } else {\n        if (this.$button.hasClass('disabled')) {\n          this.$newElement.removeClass('disabled');\n          this.$button.removeClass('disabled');\n        }\n\n        if (this.$button.attr('tabindex') == -1 && !this.$element.data('tabindex')) {\n          this.$button.removeAttr('tabindex');\n        }\n      }\n\n      this.$button.click(function () {\n        return !that.isDisabled();\n      });\n    },\n\n    tabIndex: function () {\n      if (this.$element.data('tabindex') !== this.$element.attr('tabindex') &&\n        (this.$element.attr('tabindex') !== -98 && this.$element.attr('tabindex') !== '-98')) {\n        this.$element.data('tabindex', this.$element.attr('tabindex'));\n        this.$button.attr('tabindex', this.$element.data('tabindex'));\n      }\n\n      this.$element.attr('tabindex', -98);\n    },\n\n    clickListener: function () {\n      var that = this,\n          $document = $(document);\n\n      this.$newElement.on('touchstart.dropdown', '.dropdown-menu', function (e) {\n        e.stopPropagation();\n      });\n\n      $document.data('spaceSelect', false);\n\n      this.$button.on('keyup', function (e) {\n        if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\n            e.preventDefault();\n            $document.data('spaceSelect', false);\n        }\n      });\n\n      this.$button.on('click', function () {\n        that.setSize();\n        that.$element.on('shown.bs.select', function () {\n          if (!that.options.liveSearch && !that.multiple) {\n            that.$menuInner.find('.selected a').focus();\n          } else if (!that.multiple) {\n            var selectedIndex = that.liObj[that.$element[0].selectedIndex];\n\n            if (typeof selectedIndex !== 'number' || that.options.size === false) return;\n\n            // scroll to selected option\n            var offset = that.$lis.eq(selectedIndex)[0].offsetTop - that.$menuInner[0].offsetTop;\n            offset = offset - that.$menuInner[0].offsetHeight/2 + that.sizeInfo.liHeight/2;\n            that.$menuInner[0].scrollTop = offset;\n          }\n        });\n      });\n\n      this.$menuInner.on('click', 'li a', function (e) {\n        var $this = $(this),\n            clickedIndex = $this.parent().data('originalIndex'),\n            prevValue = that.$element.val(),\n            prevIndex = that.$element.prop('selectedIndex');\n\n        // Don't close on multi choice menu\n        if (that.multiple) {\n          e.stopPropagation();\n        }\n\n        e.preventDefault();\n\n        //Don't run if we have been disabled\n        if (!that.isDisabled() && !$this.parent().hasClass('disabled')) {\n          var $options = that.$element.find('option'),\n              $option = $options.eq(clickedIndex),\n              state = $option.prop('selected'),\n              $optgroup = $option.parent('optgroup'),\n              maxOptions = that.options.maxOptions,\n              maxOptionsGrp = $optgroup.data('maxOptions') || false;\n\n          if (!that.multiple) { // Deselect all others if not multi select box\n            $options.prop('selected', false);\n            $option.prop('selected', true);\n            that.$menuInner.find('.selected').removeClass('selected');\n            that.setSelected(clickedIndex, true);\n          } else { // Toggle the one we have chosen if we are multi select.\n            $option.prop('selected', !state);\n            that.setSelected(clickedIndex, !state);\n            $this.blur();\n\n            if (maxOptions !== false || maxOptionsGrp !== false) {\n              var maxReached = maxOptions < $options.filter(':selected').length,\n                  maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\n\n              if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {\n                if (maxOptions && maxOptions == 1) {\n                  $options.prop('selected', false);\n                  $option.prop('selected', true);\n                  that.$menuInner.find('.selected').removeClass('selected');\n                  that.setSelected(clickedIndex, true);\n                } else if (maxOptionsGrp && maxOptionsGrp == 1) {\n                  $optgroup.find('option:selected').prop('selected', false);\n                  $option.prop('selected', true);\n                  var optgroupID = $this.parent().data('optgroup');\n                  that.$menuInner.find('[data-optgroup=\"' + optgroupID + '\"]').removeClass('selected');\n                  that.setSelected(clickedIndex, true);\n                } else {\n                  var maxOptionsArr = (typeof that.options.maxOptionsText === 'function') ?\n                          that.options.maxOptionsText(maxOptions, maxOptionsGrp) : that.options.maxOptionsText,\n                      maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\n                      maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\n                      $notify = $('<div class=\"notify\"></div>');\n                  // If {var} is set in array, replace it\n                  /** @deprecated */\n                  if (maxOptionsArr[2]) {\n                    maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\n                    maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\n                  }\n\n                  $option.prop('selected', false);\n\n                  that.$menu.append($notify);\n\n                  if (maxOptions && maxReached) {\n                    $notify.append($('<div>' + maxTxt + '</div>'));\n                    that.$element.trigger('maxReached.bs.select');\n                  }\n\n                  if (maxOptionsGrp && maxReachedGrp) {\n                    $notify.append($('<div>' + maxTxtGrp + '</div>'));\n                    that.$element.trigger('maxReachedGrp.bs.select');\n                  }\n\n                  setTimeout(function () {\n                    that.setSelected(clickedIndex, false);\n                  }, 10);\n\n                  $notify.delay(750).fadeOut(300, function () {\n                    $(this).remove();\n                  });\n                }\n              }\n            }\n          }\n\n          if (!that.multiple) {\n            that.$button.focus();\n          } else if (that.options.liveSearch) {\n            that.$searchbox.focus();\n          }\n\n          // Trigger select 'change'\n          if ((prevValue != that.$element.val() && that.multiple) || (prevIndex != that.$element.prop('selectedIndex') && !that.multiple)) {\n            that.$element.triggerNative('change');\n            // $option.prop('selected') is current option state (selected/unselected). state is previous option state.\n            that.$element.trigger('changed.bs.select', [clickedIndex, $option.prop('selected'), state]);\n          }\n        }\n      });\n\n      this.$menu.on('click', 'li.disabled a, .popover-title, .popover-title :not(.close)', function (e) {\n        if (e.currentTarget == this) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (that.options.liveSearch && !$(e.target).hasClass('close')) {\n            that.$searchbox.focus();\n          } else {\n            that.$button.focus();\n          }\n        }\n      });\n\n      this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (that.options.liveSearch) {\n          that.$searchbox.focus();\n        } else {\n          that.$button.focus();\n        }\n      });\n\n      this.$menu.on('click', '.popover-title .close', function () {\n        that.$button.click();\n      });\n\n      this.$searchbox.on('click', function (e) {\n        e.stopPropagation();\n      });\n\n      this.$menu.on('click', '.actions-btn', function (e) {\n        if (that.options.liveSearch) {\n          that.$searchbox.focus();\n        } else {\n          that.$button.focus();\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if ($(this).hasClass('bs-select-all')) {\n          that.selectAll();\n        } else {\n          that.deselectAll();\n        }\n        that.$element.triggerNative('change');\n      });\n\n      this.$element.change(function () {\n        that.render(false);\n      });\n    },\n\n    liveSearchListener: function () {\n      var that = this,\n          $no_results = $('<li class=\"no-results\"></li>');\n\n      this.$button.on('click.dropdown.data-api touchstart.dropdown.data-api', function () {\n        that.$menuInner.find('.active').removeClass('active');\n        if (!!that.$searchbox.val()) {\n          that.$searchbox.val('');\n          that.$lis.not('.is-hidden').removeClass('hidden');\n          if (!!$no_results.parent().length) $no_results.remove();\n        }\n        if (!that.multiple) that.$menuInner.find('.selected').addClass('active');\n        setTimeout(function () {\n          that.$searchbox.focus();\n        }, 10);\n      });\n\n      this.$searchbox.on('click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api', function (e) {\n        e.stopPropagation();\n      });\n\n      this.$searchbox.on('input propertychange', function () {\n        if (that.$searchbox.val()) {\n          var $searchBase = that.$lis.not('.is-hidden').removeClass('hidden').children('a');\n          if (that.options.liveSearchNormalize) {\n            $searchBase = $searchBase.not(':a' + that._searchStyle() + '(\"' + normalizeToBase(that.$searchbox.val()) + '\")');\n          } else {\n            $searchBase = $searchBase.not(':' + that._searchStyle() + '(\"' + that.$searchbox.val() + '\")');\n          }\n          $searchBase.parent().addClass('hidden');\n\n          that.$lis.filter('.dropdown-header').each(function () {\n            var $this = $(this),\n                optgroup = $this.data('optgroup');\n\n            if (that.$lis.filter('[data-optgroup=' + optgroup + ']').not($this).not('.hidden').length === 0) {\n              $this.addClass('hidden');\n              that.$lis.filter('[data-optgroup=' + optgroup + 'div]').addClass('hidden');\n            }\n          });\n\n          var $lisVisible = that.$lis.not('.hidden');\n\n          // hide divider if first or last visible, or if followed by another divider\n          $lisVisible.each(function (index) {\n            var $this = $(this);\n\n            if ($this.hasClass('divider') && (\n              $this.index() === $lisVisible.first().index() ||\n              $this.index() === $lisVisible.last().index() ||\n              $lisVisible.eq(index + 1).hasClass('divider'))) {\n              $this.addClass('hidden');\n            }\n          });\n\n          if (!that.$lis.not('.hidden, .no-results').length) {\n            if (!!$no_results.parent().length) {\n              $no_results.remove();\n            }\n            $no_results.html(that.options.noneResultsText.replace('{0}', '\"' + htmlEscape(that.$searchbox.val()) + '\"')).show();\n            that.$menuInner.append($no_results);\n          } else if (!!$no_results.parent().length) {\n            $no_results.remove();\n          }\n        } else {\n          that.$lis.not('.is-hidden').removeClass('hidden');\n          if (!!$no_results.parent().length) {\n            $no_results.remove();\n          }\n        }\n\n        that.$lis.filter('.active').removeClass('active');\n        if (that.$searchbox.val()) that.$lis.not('.hidden, .divider, .dropdown-header').eq(0).addClass('active').children('a').focus();\n        $(this).focus();\n      });\n    },\n\n    _searchStyle: function () {\n      var styles = {\n        begins: 'ibegins',\n        startsWith: 'ibegins'\n      };\n\n      return styles[this.options.liveSearchStyle] || 'icontains';\n    },\n\n    val: function (value) {\n      if (typeof value !== 'undefined') {\n        this.$element.val(value);\n        this.render();\n\n        return this.$element;\n      } else {\n        return this.$element.val();\n      }\n    },\n\n    changeAll: function (status) {\n      if (typeof status === 'undefined') status = true;\n\n      this.findLis();\n\n      var $options = this.$element.find('option'),\n          $lisVisible = this.$lis.not('.divider, .dropdown-header, .disabled, .hidden').toggleClass('selected', status),\n          lisVisLen = $lisVisible.length,\n          selectedOptions = [];\n\n      for (var i = 0; i < lisVisLen; i++) {\n        var origIndex = $lisVisible[i].getAttribute('data-original-index');\n        selectedOptions[selectedOptions.length] = $options.eq(origIndex)[0];\n      }\n\n      $(selectedOptions).prop('selected', status);\n\n      this.render(false);\n    },\n\n    selectAll: function () {\n      return this.changeAll(true);\n    },\n\n    deselectAll: function () {\n      return this.changeAll(false);\n    },\n\n    keydown: function (e) {\n      var $this = $(this),\n          $parent = $this.is('input') ? $this.parent().parent() : $this.parent(),\n          $items,\n          that = $parent.data('this'),\n          index,\n          next,\n          first,\n          last,\n          prev,\n          nextPrev,\n          prevIndex,\n          isActive,\n          selector = ':not(.disabled, .hidden, .dropdown-header, .divider)',\n          keyCodeMap = {\n            32: ' ',\n            48: '0',\n            49: '1',\n            50: '2',\n            51: '3',\n            52: '4',\n            53: '5',\n            54: '6',\n            55: '7',\n            56: '8',\n            57: '9',\n            59: ';',\n            65: 'a',\n            66: 'b',\n            67: 'c',\n            68: 'd',\n            69: 'e',\n            70: 'f',\n            71: 'g',\n            72: 'h',\n            73: 'i',\n            74: 'j',\n            75: 'k',\n            76: 'l',\n            77: 'm',\n            78: 'n',\n            79: 'o',\n            80: 'p',\n            81: 'q',\n            82: 'r',\n            83: 's',\n            84: 't',\n            85: 'u',\n            86: 'v',\n            87: 'w',\n            88: 'x',\n            89: 'y',\n            90: 'z',\n            96: '0',\n            97: '1',\n            98: '2',\n            99: '3',\n            100: '4',\n            101: '5',\n            102: '6',\n            103: '7',\n            104: '8',\n            105: '9'\n          };\n\n      if (that.options.liveSearch) $parent = $this.parent().parent();\n\n      if (that.options.container) $parent = that.$menu;\n\n      $items = $('[role=menu] li', $parent);\n\n      isActive = that.$newElement.hasClass('open');\n\n      if (!isActive && (e.keyCode >= 48 && e.keyCode <= 57 || e.keyCode >= 96 && e.keyCode <= 105 || e.keyCode >= 65 && e.keyCode <= 90)) {\n        if (!that.options.container) {\n          that.setSize();\n          that.$menu.parent().addClass('open');\n          isActive = true;\n        } else {\n          that.$button.trigger('click');\n        }\n        that.$searchbox.focus();\n      }\n\n      if (that.options.liveSearch) {\n        if (/(^9$|27)/.test(e.keyCode.toString(10)) && isActive && that.$menu.find('.active').length === 0) {\n          e.preventDefault();\n          that.$menu.parent().removeClass('open');\n          if (that.options.container) that.$newElement.removeClass('open');\n          that.$button.focus();\n        }\n        // $items contains li elements when liveSearch is enabled\n        $items = $('[role=menu] li' + selector, $parent);\n        if (!$this.val() && !/(38|40)/.test(e.keyCode.toString(10))) {\n          if ($items.filter('.active').length === 0) {\n            $items = that.$menuInner.find('li');\n            if (that.options.liveSearchNormalize) {\n              $items = $items.filter(':a' + that._searchStyle() + '(' + normalizeToBase(keyCodeMap[e.keyCode]) + ')');\n            } else {\n              $items = $items.filter(':' + that._searchStyle() + '(' + keyCodeMap[e.keyCode] + ')');\n            }\n          }\n        }\n      }\n\n      if (!$items.length) return;\n\n      if (/(38|40)/.test(e.keyCode.toString(10))) {\n        index = $items.index($items.find('a').filter(':focus').parent());\n        first = $items.filter(selector).first().index();\n        last = $items.filter(selector).last().index();\n        next = $items.eq(index).nextAll(selector).eq(0).index();\n        prev = $items.eq(index).prevAll(selector).eq(0).index();\n        nextPrev = $items.eq(next).prevAll(selector).eq(0).index();\n\n        if (that.options.liveSearch) {\n          $items.each(function (i) {\n            if (!$(this).hasClass('disabled')) {\n              $(this).data('index', i);\n            }\n          });\n          index = $items.index($items.filter('.active'));\n          first = $items.first().data('index');\n          last = $items.last().data('index');\n          next = $items.eq(index).nextAll().eq(0).data('index');\n          prev = $items.eq(index).prevAll().eq(0).data('index');\n          nextPrev = $items.eq(next).prevAll().eq(0).data('index');\n        }\n\n        prevIndex = $this.data('prevIndex');\n\n        if (e.keyCode == 38) {\n          if (that.options.liveSearch) index--;\n          if (index != nextPrev && index > prev) index = prev;\n          if (index < first) index = first;\n          if (index == prevIndex) index = last;\n        } else if (e.keyCode == 40) {\n          if (that.options.liveSearch) index++;\n          if (index == -1) index = 0;\n          if (index != nextPrev && index < next) index = next;\n          if (index > last) index = last;\n          if (index == prevIndex) index = first;\n        }\n\n        $this.data('prevIndex', index);\n\n        if (!that.options.liveSearch) {\n          $items.eq(index).children('a').focus();\n        } else {\n          e.preventDefault();\n          if (!$this.hasClass('dropdown-toggle')) {\n            $items.removeClass('active').eq(index).addClass('active').children('a').focus();\n            $this.focus();\n          }\n        }\n\n      } else if (!$this.is('input')) {\n        var keyIndex = [],\n            count,\n            prevKey;\n\n        $items.each(function () {\n          if (!$(this).hasClass('disabled')) {\n            if ($.trim($(this).children('a').text().toLowerCase()).substring(0, 1) == keyCodeMap[e.keyCode]) {\n              keyIndex.push($(this).index());\n            }\n          }\n        });\n\n        count = $(document).data('keycount');\n        count++;\n        $(document).data('keycount', count);\n\n        prevKey = $.trim($(':focus').text().toLowerCase()).substring(0, 1);\n\n        if (prevKey != keyCodeMap[e.keyCode]) {\n          count = 1;\n          $(document).data('keycount', count);\n        } else if (count >= keyIndex.length) {\n          $(document).data('keycount', 0);\n          if (count > keyIndex.length) count = 1;\n        }\n\n        $items.eq(keyIndex[count - 1]).children('a').focus();\n      }\n\n      // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\n      if ((/(13|32)/.test(e.keyCode.toString(10)) || (/(^9$)/.test(e.keyCode.toString(10)) && that.options.selectOnTab)) && isActive) {\n        if (!/(32)/.test(e.keyCode.toString(10))) e.preventDefault();\n        if (!that.options.liveSearch) {\n          var elem = $(':focus');\n          elem.click();\n          // Bring back focus for multiselects\n          elem.focus();\n          // Prevent screen from scrolling if the user hit the spacebar\n          e.preventDefault();\n          // Fixes spacebar selection of dropdown items in FF & IE\n          $(document).data('spaceSelect', true);\n        } else if (!/(32)/.test(e.keyCode.toString(10))) {\n          that.$menuInner.find('.active a').click();\n          $this.focus();\n        }\n        $(document).data('keycount', 0);\n      }\n\n      if ((/(^9$|27)/.test(e.keyCode.toString(10)) && isActive && (that.multiple || that.options.liveSearch)) || (/(27)/.test(e.keyCode.toString(10)) && !isActive)) {\n        that.$menu.parent().removeClass('open');\n        if (that.options.container) that.$newElement.removeClass('open');\n        that.$button.focus();\n      }\n    },\n\n    mobile: function () {\n      this.$element.addClass('mobile-device');\n    },\n\n    refresh: function () {\n      this.$lis = null;\n      this.liObj = {};\n      this.reloadLi();\n      this.render();\n      this.checkDisabled();\n      this.liHeight(true);\n      this.setStyle();\n      this.setWidth();\n      if (this.$lis) this.$searchbox.trigger('propertychange');\n\n      this.$element.trigger('refreshed.bs.select');\n    },\n\n    hide: function () {\n      this.$newElement.hide();\n    },\n\n    show: function () {\n      this.$newElement.show();\n    },\n\n    remove: function () {\n      this.$newElement.remove();\n      this.$element.remove();\n    },\n\n    destroy: function () {\n        this.$newElement.remove();\n\n        if (this.$bsContainer) {\n            this.$bsContainer.remove();\n        } else {\n            this.$menu.remove();\n        }\n\n        this.$element\n          .off('.bs.select')\n          .removeData('selectpicker')\n          .removeClass('bs-select-hidden selectpicker');\n    }\n  };\n\n  // SELECTPICKER PLUGIN DEFINITION\n  // ==============================\n  function Plugin(option, event) {\n    // get the args of the outer function..\n    var args = arguments;\n    // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\n    // to get lost/corrupted in android 2.3 and IE9 #715 #775\n    var _option = option,\n        _event = event;\n    [].shift.apply(args);\n\n    var value;\n    var chain = this.each(function () {\n      var $this = $(this);\n      if ($this.is('select')) {\n        var data = $this.data('selectpicker'),\n            options = typeof _option == 'object' && _option;\n\n        if (!data) {\n          var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, $this.data(), options);\n          config.template = $.extend({}, Selectpicker.DEFAULTS.template, ($.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}), $this.data().template, options.template);\n          $this.data('selectpicker', (data = new Selectpicker(this, config, _event)));\n        } else if (options) {\n          for (var i in options) {\n            if (options.hasOwnProperty(i)) {\n              data.options[i] = options[i];\n            }\n          }\n        }\n\n        if (typeof _option == 'string') {\n          if (data[_option] instanceof Function) {\n            value = data[_option].apply(data, args);\n          } else {\n            value = data.options[_option];\n          }\n        }\n      }\n    });\n\n    if (typeof value !== 'undefined') {\n      //noinspection JSUnusedAssignment\n      return value;\n    } else {\n      return chain;\n    }\n  }\n\n  var old = $.fn.selectpicker;\n  $.fn.selectpicker = Plugin;\n  $.fn.selectpicker.Constructor = Selectpicker;\n\n  // SELECTPICKER NO CONFLICT\n  // ========================\n  $.fn.selectpicker.noConflict = function () {\n    $.fn.selectpicker = old;\n    return this;\n  };\n\n  $(document)\n      .data('keycount', 0)\n      .on('keydown.bs.select', '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=\"menu\"], .bs-searchbox input', Selectpicker.prototype.keydown)\n      .on('focusin.modal', '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=\"menu\"], .bs-searchbox input', function (e) {\n        e.stopPropagation();\n      });\n\n  // SELECTPICKER DATA-API\n  // =====================\n  $(window).on('load.bs.select.data-api', function () {\n    $('.selectpicker').each(function () {\n      var $selectpicker = $(this);\n      Plugin.call($selectpicker, $selectpicker.data());\n    })\n  });\n})(jQuery);\n\n\n}));\n","/* ============================================================\n * bootstrapSwitch v1.3 by Larentis Mattia @spiritualGuru\n * http://www.larentis.eu/switch/\n * ============================================================\n * Licensed under the Apache License, Version 2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n * ============================================================ */\n\n!function ($) {\n  \"use strict\";\n\n  $.fn['bootstrapSwitch'] = function (method) {\n    var methods = {\n      init: function () {\n        return this.each(function () {\n            var $element = $(this)\n              , $div\n              , $switchLeft\n              , $switchRight\n              , $label\n              , myClasses = \"\"\n              , classes = $element.attr('class')\n              , color\n              , moving\n              , onLabel = \"ON\"\n              , offLabel = \"OFF\"\n              , icon = false;\n\n            $.each(['switch-mini', 'switch-small', 'switch-large'], function (i, el) {\n              if (classes.indexOf(el) >= 0)\n                myClasses = el;\n            });\n\n            $element.addClass('has-switch');\n\n            if ($element.data('on') !== undefined)\n              color = \"switch-\" + $element.data('on');\n\n            if ($element.data('on-label') !== undefined)\n              onLabel = $element.data('on-label');\n\n            if ($element.data('off-label') !== undefined)\n              offLabel = $element.data('off-label');\n\n            if ($element.data('icon') !== undefined)\n              icon = $element.data('icon');\n\n            $switchLeft = $('<span>')\n              .addClass(\"switch-left\")\n              .addClass(myClasses)\n              .addClass(color)\n              .html(onLabel);\n\n            color = '';\n            if ($element.data('off') !== undefined)\n              color = \"switch-\" + $element.data('off');\n\n            $switchRight = $('<span>')\n              .addClass(\"switch-right\")\n              .addClass(myClasses)\n              .addClass(color)\n              .html(offLabel);\n\n            $label = $('<label>')\n              .html(\"&nbsp;\")\n              .addClass(myClasses)\n              .attr('for', $element.find('input').attr('id'));\n\n            if (icon) {\n              $label.html('<i class=\"' + icon + '\"></i>');\n            }\n\n            $div = $element.find(':checkbox').wrap($('<div>')).parent().data('animated', false);\n\n            if ($element.data('animated') !== false)\n              $div.addClass('switch-animate').data('animated', true);\n\n            $div\n              .append($switchLeft)\n              .append($label)\n              .append($switchRight);\n\n            $element.find('>div').addClass(\n              $element.find('input').is(':checked') ? 'switch-on' : 'switch-off'\n            );\n\n            if ($element.find('input').is(':disabled'))\n              $(this).addClass('deactivate');\n\n            var changeStatus = function ($this) {\n              $this.siblings('label').trigger('mousedown').trigger('mouseup').trigger('click');\n            };\n\n            $element.on('keydown', function (e) {\n              if (e.keyCode === 32) {\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                changeStatus($(e.target).find('span:first'));\n              }\n            });\n\n            $switchLeft.on('click', function (e) {\n              changeStatus($(this));\n            });\n\n            $switchRight.on('click', function (e) {\n              changeStatus($(this));\n            });\n\n            $element.find('input').on('change', function (e) {\n              var $this = $(this)\n                , $element = $this.parent()\n                , thisState = $this.is(':checked')\n                , state = $element.is('.switch-off');\n\n              e.preventDefault();\n\n              $element.css('left', '');\n\n              if (state === thisState) {\n\n                if (thisState)\n                  $element.removeClass('switch-off').addClass('switch-on');\n                else $element.removeClass('switch-on').addClass('switch-off');\n\n                if ($element.data('animated') !== false)\n                  $element.addClass(\"switch-animate\");\n\n                $element.parent().trigger('switch-change', {'el': $this, 'value': thisState})\n              }\n            });\n\n            $element.find('label').on('mousedown touchstart', function (e) {\n              var $this = $(this);\n              moving = false;\n\n              e.preventDefault();\n              e.stopImmediatePropagation();\n\n              $this.closest('div').removeClass('switch-animate');\n\n              if ($this.closest('.has-switch').is('.deactivate'))\n                $this.unbind('click');\n              else {\n                $this.on('mousemove touchmove', function (e) {\n                  var $element = $(this).closest('.switch')\n                    , relativeX = (e.pageX || e.originalEvent.targetTouches[0].pageX) - $element.offset().left\n                    , percent = (relativeX / $element.width()) * 100\n                    , left = 25\n                    , right = 75;\n\n                  moving = true;\n\n                  if (percent < left)\n                    percent = left;\n                  else if (percent > right)\n                    percent = right;\n\n                  $element.find('>div').css('left', (percent - right) + \"%\")\n                });\n\n                $this.on('click touchend', function (e) {\n                  var $this = $(this)\n                    , $target = $(e.target)\n                    , $myCheckBox = $target.siblings('input');\n\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n\n                  $this.unbind('mouseleave');\n\n                  if (moving)\n                    $myCheckBox.prop('checked', !(parseInt($this.parent().css('left')) < -25));\n                  else $myCheckBox.prop(\"checked\", !$myCheckBox.is(\":checked\"));\n\n                  moving = false;\n                  $myCheckBox.trigger('change');\n                });\n\n                $this.on('mouseleave', function (e) {\n                  var $this = $(this)\n                    , $myCheckBox = $this.siblings('input');\n\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n\n                  $this.unbind('mouseleave');\n                  $this.trigger('mouseup');\n\n                  $myCheckBox.prop('checked', !(parseInt($this.parent().css('left')) < -25)).trigger('change');\n                });\n\n                $this.on('mouseup', function (e) {\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n\n                  $(this).unbind('mousemove');\n                });\n              }\n            });\n          }\n        );\n      },\n      toggleActivation: function () {\n        $(this).toggleClass('deactivate');\n      },\n      isActive: function () {\n        return !$(this).hasClass('deactivate');\n      },\n      setActive: function (active) {\n        if (active)\n          $(this).removeClass('deactivate');\n        else $(this).addClass('deactivate');\n      },\n      toggleState: function (skipOnChange) {\n        var $input = $(this).find('input:checkbox');\n        $input.prop('checked', !$input.is(':checked')).trigger('change', skipOnChange);\n      },\n      setState: function (value, skipOnChange) {\n        $(this).find('input:checkbox').prop('checked', value).trigger('change', skipOnChange);\n      },\n      status: function () {\n        return $(this).find('input:checkbox').is(':checked');\n      },\n      destroy: function () {\n        var $div = $(this).find('div')\n          , $checkbox;\n\n        $div.find(':not(input:checkbox)').remove();\n\n        $checkbox = $div.children();\n        $checkbox.unwrap().unwrap();\n\n        $checkbox.unbind('change');\n\n        return $checkbox;\n      }\n    };\n\n    if (methods[method])\n      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    else if (typeof method === 'object' || !method)\n      return methods.init.apply(this, arguments);\n    else\n      $.error('Method ' + method + ' does not exist!');\n  };\n}(jQuery);\n\n\n","!function ($) {\n\n /* CHECKBOX PUBLIC CLASS DEFINITION\n  * ============================== */\n\n  var Checkbox = function (element, options) {\n    this.init(element, options);\n  }\n\n  Checkbox.prototype = {\n    \n    constructor: Checkbox\n    \n  , init: function (element, options) {      \n    var $el = this.$element = $(element)\n    \n    this.options = $.extend({}, $.fn.checkbox.defaults, options);      \n    $el.before(this.options.template);    \n    this.setState(); \n  }  \n   \n  , setState: function () {    \n      var $el = this.$element\n        , $parent = $el.closest('.checkbox');\n        \n        $el.prop('disabled') && $parent.addClass('disabled');   \n        $el.prop('checked') && $parent.addClass('checked');\n    }  \n    \n  , toggle: function () {    \n      var ch = 'checked'\n        , $el = this.$element\n        , $parent = $el.closest('.checkbox')\n        , checked = $el.prop(ch)\n        , e = $.Event('toggle')\n      \n      if ($el.prop('disabled') == false) {\n        $parent.toggleClass(ch) && checked ? $el.removeAttr(ch) : $el.prop(ch, ch);\n        $el.trigger(e).trigger('change'); \n      }\n    }  \n    \n  , setCheck: function (option) {    \n      var d = 'disabled'\n        , ch = 'checked'\n        , $el = this.$element\n        , $parent = $el.closest('.checkbox')\n        , checkAction = option == 'check' ? true : false\n        , e = $.Event(option)\n      \n      $parent[checkAction ? 'addClass' : 'removeClass' ](ch) && checkAction ? $el.prop(ch, ch) : $el.removeAttr(ch);\n      $el.trigger(e).trigger('change');       \n    }  \n      \n  }\n\n\n /* CHECKBOX PLUGIN DEFINITION\n  * ======================== */\n\n  var old = $.fn.checkbox\n\n  $.fn.checkbox = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('checkbox')\n        , options = $.extend({}, $.fn.checkbox.defaults, $this.data(), typeof option == 'object' && option);\n      if (!data) $this.data('checkbox', (data = new Checkbox(this, options)));\n      if (option == 'toggle') data.toggle()\n      if (option == 'check' || option == 'uncheck') data.setCheck(option)\n      else if (option) data.setState(); \n    });\n  }\n  \n  $.fn.checkbox.defaults = {\n    template: '<span class=\"icons\"><span class=\"first-icon fa fa-square fa-base\"></span><span class=\"second-icon fa fa-check-square fa-base\"></span></span>'\n  }\n\n\n /* CHECKBOX NO CONFLICT\n  * ================== */\n\n  $.fn.checkbox.noConflict = function () {\n    $.fn.checkbox = old;\n    return this;\n  }\n\n\n /* CHECKBOX DATA-API\n  * =============== */\n\n  $(document).on('click.checkbox.data-api', '[data-toggle^=checkbox], .checkbox', function (e) {\n    var $checkbox = $(e.target);\n    if (e.target.tagName != \"A\") {      \n      e && e.preventDefault() && e.stopPropagation();\n      if (!$checkbox.hasClass('checkbox')) $checkbox = $checkbox.closest('.checkbox');\n      $checkbox.find(':checkbox').checkbox('toggle');\n    }\n  });\n  \n  $(function () {\n    $('[data-toggle=\"checkbox\"]').each(function () {\n      var $checkbox = $(this);\n      $checkbox.checkbox();\n    });\n  });\n\n}(window.jQuery);\n\n","var searchVisible = 0;\nvar transparent = true;\n\nvar transparentDemo = true;\nvar fixedTop = false;\n\nvar navbar_initialized = false;\n\n$(document).ready(function(){\n    window_width = $(window).width();\n\n    burger_menu = $('nav[role=\"navigation-demo\"]').hasClass('navbar-burger') ? true : false;\n\n    // Init navigation toggle for small screens\n    if(window_width < 768 || burger_menu){\n        ct_paper.initRightMenu();\n    }\n\n    // Limit number of characters in limited textarea\n    $('.textarea-limited').keyup(function () {\n      var max = $(this).data('limit');\n      var len = $(this).val().length;\n      if (len >= max) {\n        $('#textarea-limited-message').text(' you have reached the limit');\n      } else {\n        var char = max - len;\n        $('#textarea-limited-message').text(char + ' characters left');\n      }\n    });\n\n    //  Activate the tooltips\n    $('[rel=\"tooltip\"]').tooltip({\n         container: 'body',\n         selector: 'body'\n    });\n\n    $('.btn-tooltip').tooltip();\n    $('.label-tooltip').tooltip();\n\n    //      Activate the switches with icons\n    if($('.switch').length != 0){\n        $('.switch')['bootstrapSwitch']();\n    }\n    //      Activate regular switches\n    if($(\"[data-toggle='switch']\").length != 0){\n         $(\"[data-toggle='switch']\").wrap('<div class=\"switch\" />').parent().bootstrapSwitch();\n    }\n\n    //    Activate bootstrap-select\n    if($(\".selectpicker\").length != 0){\n        $(\".selectpicker\").selectpicker();\n    }\n\n    if($(\".tagsinput\").length != 0){\n        $(\".tagsinput\").tagsInput();\n    }\n\n    if($('.datepicker').length != 0){\n        $('.datepicker').datepicker({\n             weekStart:1,\n             color: '{color}'\n         });\n    }\n\n\t// Carousel\n\t$('.carousel').carousel({\n//       interval: 4000\n    });\n\n    $('.form-control').on(\"focus\", function(){\n        $(this).parent('.input-group').addClass(\"input-group-focus\");\n    }).on(\"blur\", function(){\n        $(this).parent(\".input-group\").removeClass(\"input-group-focus\");\n    });\n\n\n\n    $('.dropdown-sharing .switch').click(function (e) {\n        // custom handling here\n        e.stopPropagation();\n    });\n});\n\n// activate collapse right menu when the windows is resized\n$(window).resize(function(){\n    if($(window).width() < 768){\n        ct_paper.initRightMenu();\n    }\n    if($(window).width() >= 768 && !burger_menu){\n        $('nav[role=\"navigation-demo\"]').removeClass('navbar-burger');\n        ct_paper.misc.navbar_menu_visible = 0;\n        navbar_initialized = false;\n        $('html').removeClass('nav-open');\n    }\n});\n\nct_paper = {\n    misc:{\n        navbar_menu_visible: 0\n    },\n    initRightMenu: function(){\n        if(!navbar_initialized){\n           $nav = $('nav[role=\"navigation-demo\"]');\n           $nav.addClass('navbar-burger');\n\n           $navbar = $nav.find('.navbar-collapse').first().clone(true);\n\n           ul_content = '';\n\n           $navbar.children('ul').each(function(){\n               content_buff = $(this).html();\n               ul_content = ul_content + content_buff;\n           });\n\n           ul_content = '<ul class=\"nav navbar-nav\">' + ul_content + '</ul>';\n           $navbar.html(ul_content);\n\n           $('body').append($navbar);\n\n           background_image = $navbar.data('nav-image');\n           if(background_image != undefined){\n               $navbar.css('background',\"url('\" + background_image + \"')\")\n                      .removeAttr('data-nav-image')\n                      .css('background-size',\"cover\")\n                      .addClass('has-image');\n           }\n\n           $toggle = $('.navbar-toggle');\n\n           $navbar.find('a, button').removeClass('btn btn-round btn-default btn-simple btn-neutral btn-fill btn-info btn-primary btn-success btn-danger btn-warning');\n           $navbar.find('button').addClass('btn-simple btn-block');\n\n           $toggle.click(function (){\n\n               if(ct_paper.misc.navbar_menu_visible == 1) {\n                   $('html').removeClass('nav-open');\n                   ct_paper.misc.navbar_menu_visible = 0;\n                   $('#bodyClick').remove();\n                    setTimeout(function(){\n                       $toggle.removeClass('toggled');\n                    }, 550);\n\n               } else {\n                   setTimeout(function(){\n                       $toggle.addClass('toggled');\n                   }, 580);\n\n                   div = '<div id=\"bodyClick\"></div>';\n                   $(div).appendTo(\"body\").click(function() {\n                       $('html').removeClass('nav-open');\n                       ct_paper.misc.navbar_menu_visible = 0;\n                       $('#bodyClick').remove();\n                        setTimeout(function(){\n                           $toggle.removeClass('toggled');\n                        }, 550);\n                   });\n\n                   $('html').addClass('nav-open');\n                   ct_paper.misc.navbar_menu_visible = 1;\n\n               }\n           });\n           navbar_initialized = true;\n       }\n\n    },\n\n    fitBackgroundForCards: function(){\n         $('.card').each(function(){\n            if(!$(this).hasClass('card-product') && !$(this).hasClass('card-user')){\n                image = $(this).find('.image img');\n\n                image.hide();\n                image_src = image.attr('src');\n\n                $(this).find('.image').css({\n                    \"background-image\": \"url('\" + image_src + \"')\",\n                    \"background-position\": \"center center\",\n                    \"background-size\": \"cover\"\n                });\n            }\n        });\n    },\n    initPopovers: function(){\n        if($('[data-toggle=\"popover\"]').length != 0){\n            $('body').append('<div class=\"popover-filter\"></div>');\n\n            //    Activate Popovers\n           $('[data-toggle=\"popover\"]').popover().on('show.bs.popover', function () {\n                $('.popover-filter').click(function(){\n                    $(this).removeClass('in');\n                    $('[data-toggle=\"popover\"]').popover('hide');\n                });\n                $('.popover-filter').addClass('in');\n\n            }).on('hide.bs.popover', function(){\n                $('.popover-filter').removeClass('in');\n            });\n\n        }\n    },\n\n    initSliders: function(){\n        // Sliders for demo purpose in refine cards section\n        if($('#slider-range').length != 0){\n            $( \"#slider-range\" ).slider({\n        \t\trange: true,\n        \t\tmin: 0,\n        \t\tmax: 500,\n        \t\tvalues: [ 75, 300 ],\n        \t});\n        }\n        if($('#refine-price-range').length != 0){\n        \t $( \"#refine-price-range\" ).slider({\n        \t\trange: true,\n        \t\tmin: 0,\n        \t\tmax: 999,\n        \t\tvalues: [ 100, 850 ],\n        \t\tslide: function( event, ui ) {\n        \t\t    min_price = ui.values[0];\n        \t\t    max_price = ui.values[1];\n            \t\t$(this).siblings('.price-left').html('&euro; ' + min_price);\n            \t\t$(this).siblings('.price-right').html('&euro; ' + max_price)\n        \t\t}\n        \t});\n        }\n        if($('#slider-default').length != 0 || $('#slider-default2').length != 0){\n        \t$( \"#slider-default, #slider-default2\" ).slider({\n        \t\t\tvalue: 70,\n        \t\t\torientation: \"horizontal\",\n        \t\t\trange: \"min\",\n        \t\t\tanimate: true\n        \t});\n        }\n    },\n\n    initVideoBackground: function(){\n        $('[data-toggle=\"video\"]').click(function(){\n            id_video = $(this).data('video');\n            video = $('#' + id_video).get(0);\n\n            parent = $(this).parent('div').parent('div');\n\n            if(video.paused){\n                video.play();\n                $(this).html('<i class=\"fa fa-pause\"></i> Pause Video');\n                parent.addClass('state-play');\n            } else {\n                video.pause();\n                $(this).html('<i class=\"fa fa-play\"></i> Play Video');\n                parent.removeClass('state-play');\n            }\n        });\n    },\n\n    initNavbarSearch: function(){\n        $('[data-toggle=\"search\"]').click(function(){\n            if(searchVisible == 0){\n                searchVisible = 1;\n                $(this).parent().addClass('active');\n                $('.navbar-search-form').fadeIn(function(){\n                    $('.navbar-search-form input').focus();\n                });\n            } else {\n                searchVisible = 0;\n                $(this).parent().removeClass('active');\n                $(this).blur();\n                $('.navbar-search-form').fadeOut(function(){\n                    $('.navbar-search-form input').blur();\n                });\n            }\n        });\n    }\n}\n// Make the images from the card fill the hole space\nct_paper.fitBackgroundForCards();\n\n// Init icon search action for the navbar\nct_paper.initNavbarSearch();\n\n// Init popovers\nct_paper.initPopovers();\n\n// Init Sliders\nct_paper.initSliders();\n\n// Init Video Background\nct_paper.initVideoBackground();\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n\nfunction debounce(func, wait, immediate) {\n\tvar timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(function() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) func.apply(context, args);\n\t\t}, wait);\n\t\tif (immediate && !timeout) func.apply(context, args);\n\t};\n};\n","/*! jQuery UI - v1.10.4 - 2014-04-14\n* http://jqueryui.com\n* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.slider.js\n* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */\n\n(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return\"area\"===r?(s=t.parentNode,a=s.name,t.href&&a&&\"map\"===s.nodeName.toLowerCase()?(o=e(\"img[usemap=#\"+a+\"]\")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:\"a\"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return\"hidden\"===e.css(this,\"visibility\")}).length}var s=0,a=/^ui-id-\\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:\"1.10.4\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return\"number\"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css(\"position\"))||/absolute/.test(this.css(\"position\"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,\"position\"))&&/(auto|scroll)/.test(e.css(this,\"overflow\")+e.css(this,\"overflow-y\")+e.css(this,\"overflow-x\"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,\"overflow\")+e.css(this,\"overflow-y\")+e.css(this,\"overflow-x\"))}).eq(0),/fixed/.test(this.css(\"position\"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css(\"zIndex\",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css(\"position\"),(\"absolute\"===n||\"relative\"===n||\"fixed\"===n)&&(s=parseInt(a.css(\"zIndex\"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr(\"id\")})}}),e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,\"tabindex\")))},tabbable:function(t){var n=e.attr(t,\"tabindex\"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(\"<a>\").outerWidth(1).jquery||e.each([\"Width\",\"Height\"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,\"padding\"+this))||0,n&&(i-=parseFloat(e.css(t,\"border\"+this+\"Width\"))||0),s&&(i-=parseFloat(e.css(t,\"margin\"+this))||0)}),i}var a=\"Width\"===n?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn[\"inner\"+n]=function(i){return i===t?r[\"inner\"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+\"px\")})},e.fn[\"outer\"+n]=function(t,i){return\"number\"!=typeof t?r[\"outer\"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+\"px\")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e(\"<a>\").data(\"a-b\",\"a\").removeData(\"a-b\").data(\"a-b\")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart=\"onselectstart\"in document.createElement(\"div\"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?\"selectstart\":\"mousedown\")+\".ui-disableSelection\",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(\".ui-disableSelection\")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if(\"hidden\"===e(t).css(\"overflow\"))return!1;var n=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler(\"remove\")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(\".\")[0];i=i.split(\".\")[1],o=c+\"-\"+i,n||(n=s,s=t.Widget),t.expr[\":\"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+\".\"+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r=\"string\"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&\"_\"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error(\"no such method '\"+a+\"' for \"+i+\" widget instance\"):t.error(\"cannot call methods on \"+i+\" prior to initialization; \"+\"attempted to call method '\"+a+\"'\")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\"aria-disabled\").removeClass(this.widgetFullName+\"-disabled \"+\"ui-state-disabled\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if(\"string\"==typeof i)if(r={},n=i.split(\".\"),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,\"disabled\"===t&&(this.widget().toggleClass(this.widgetFullName+\"-disabled ui-state-disabled\",!!e).attr(\"aria-disabled\",e),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")),this},enable:function(){return this._setOption(\"disabled\",!1)},disable:function(){return this._setOption(\"disabled\",!0)},_on:function(i,s,n){var o,a=this;\"boolean\"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass(\"ui-state-disabled\")?(\"string\"==typeof r?a[r]:r).apply(a,arguments):e}\"string\"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\\w+)\\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return(\"string\"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass(\"ui-state-hover\")},mouseleave:function(e){t(e.currentTarget).removeClass(\"ui-state-hover\")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass(\"ui-state-focus\")},focusout:function(e){t(e.currentTarget).removeClass(\"ui-state-focus\")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:\"fadeIn\",hide:\"fadeOut\"},function(e,i){t.Widget.prototype[\"_\"+e]=function(s,n,o){\"string\"==typeof n&&(n={effect:n});var a,r=n?n===!0||\"number\"==typeof n?i:n.effect||i:e;n=n||{},\"number\"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget(\"ui.mouse\",{version:\"1.10.4\",options:{cancel:\"input,textarea,button,select,option\",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind(\"mousedown.\"+this.widgetName,function(t){return e._mouseDown(t)}).bind(\"click.\"+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+\".preventClickEvent\")?(t.removeData(i.target,e.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName),this._mouseMoveDelegate&&t(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a=\"string\"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+\".preventClickEvent\")&&t.removeData(i.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t){var e=5;t.widget(\"ui.slider\",t.ui.mouse,{version:\"1.10.4\",widgetEventPrefix:\"slide\",options:{animate:!1,distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass(\"ui-slider ui-slider-\"+this.orientation+\" ui-widget\"+\" ui-widget-content\"+\" ui-corner-all\"),this._refresh(),this._setOption(\"disabled\",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(\".ui-slider-handle\").addClass(\"ui-state-default ui-corner-all\"),a=\"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>\",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join(\"\")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data(\"ui-slider-handle-index\",e)})},_createRange:function(){var e=this.options,i=\"\";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass(\"ui-slider-range-min ui-slider-range-max\").css({left:\"\",bottom:\"\"}):(this.range=t(\"<div></div>\").appendTo(this.element),i=\"ui-slider-range ui-widget-header ui-corner-all\"),this.range.addClass(i+(\"min\"===e.range||\"max\"===e.range?\" ui-slider-range-\"+e.range:\"\"))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter(\"a\");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass(\"ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all\"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass(\"ui-state-active\").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(\".ui-slider-handle\"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css(\"borderTopWidth\"),10)||0)-(parseInt(a.css(\"borderBottomWidth\"),10)||0)+(parseInt(a.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass(\"ui-state-active\"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\"vertical\"===this.options.orientation?\"vertical\":\"horizontal\"},_normValueFromMouse:function(t){var e,i,s,n,a;return\"horizontal\"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),\"vertical\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"start\",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"stop\",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger(\"change\",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch(\"range\"===e&&this.options.range===!0&&(\"min\"===i?(this.options.value=this._values(0),this.options.values=null):\"max\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case\"orientation\":this._detectOrientation(),this.element.removeClass(\"ui-slider-horizontal ui-slider-vertical\").addClass(\"ui-slider-\"+this.orientation),this._refreshValue();break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case\"min\":case\"max\":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case\"range\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u[\"horizontal\"===l.orientation?\"left\":\"bottom\"]=i+\"%\",t(this).stop(1,1)[h?\"animate\":\"css\"](u,r.animate),l.options.range===!0&&(\"horizontal\"===l.orientation?(0===s&&l.range.stop(1,1)[h?\"animate\":\"css\"]({left:i+\"%\"},r.animate),1===s&&l.range[h?\"animate\":\"css\"]({width:i-e+\"%\"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?\"animate\":\"css\"]({bottom:i+\"%\"},r.animate),1===s&&l.range[h?\"animate\":\"css\"]({height:i-e+\"%\"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u[\"horizontal\"===this.orientation?\"left\":\"bottom\"]=i+\"%\",this.handle.stop(1,1)[h?\"animate\":\"css\"](u,r.animate),\"min\"===o&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[h?\"animate\":\"css\"]({width:i+\"%\"},r.animate),\"max\"===o&&\"horizontal\"===this.orientation&&this.range[h?\"animate\":\"css\"]({width:100-i+\"%\"},{queue:!1,duration:r.animate}),\"min\"===o&&\"vertical\"===this.orientation&&this.range.stop(1,1)[h?\"animate\":\"css\"]({height:i+\"%\"},r.animate),\"max\"===o&&\"vertical\"===this.orientation&&this.range[h?\"animate\":\"css\"]({height:100-i+\"%\"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data(\"ui-slider-handle-index\");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass(\"ui-state-active\"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data(\"ui-slider-handle-index\");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass(\"ui-state-active\"))}}})})(jQuery);","console.log(\"It loaded! OMG\")\n","import {inject, bindable} from 'aurelia-framework';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\nimport {Assignment} from 'gradebook/models/assignment';\nimport moment from 'moment';\n\n@inject(ApiService, CurrentService, EventAggregator, ValidationControllerFactory)\nexport class AddAssignment {\n  @bindable mode;\n  newAssignment = new Assignment({date: moment().format('YYYY-MM-DD')});\n\n  constructor(api, current, eventaggregator, controllerFactory) {\n    this.api = api;\n    this.current = current;\n    this.ea = eventaggregator;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  created() {\n    if (this.mode === 'edit') {\n      this.newAssignment = this.current.assignment;\n      this.title = 'Edit Assignment';\n      this.btn = 'Save Changes';\n    } else {\n      this.title = 'Add Assignment';\n      this.btn = this.title;\n    }\n  }\n\n  modeChanged() {\n    this.created();\n  }\n\n  detached() {\n    this.newAssignment = new Assignment({date: moment().format('YYYY-MM-DD')});\n  }\n\n  submit() {\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n\n      if (!this.newAssignment.subject_id) {\n        this.newAssignment.subject_id = this.current.subject.id;\n      }\n\n      this.api.save(this.newAssignment)\n              .then(data => {\n                this.ea.publish('assignmentAdded', data);\n                this.mode = false;\n                this.detached();\n                this.current.navigateTo('gradebook', {subject: this.current.subject.id,\n                                                      assignment: data.id});\n              });\n    });\n  }\n\n  cancel() {\n    this.mode = false;\n    this.detached();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport moment from 'moment';\n\n@inject(CurrentService, EventAggregator)\nexport class AssignmentList {\n  constructor(current, eventaggregator) {\n    // Injects\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  created() {\n    // Set up Subscriptions\n    this.subsub = this.ea.subscribe('subjectSet', resp => {\n      this.current.setAssignmentList(this.current.assignment.date);\n    });\n\n    this.reload = this.ea.subscribe('assignmentAdded', data => {\n      this.listWeek = moment(data.date).startOf('isoweek');\n    });\n  }\n\n  attached() {\n    // Populate List\n    if (!this.current.assignment) {\n      this.listWeek = moment().startOf('isoweek');\n      this.current.setAssignmentList(this.listWeek);\n    } else {\n      this.listWeek = moment(this.current.assignment.date).startOf('isoweek');\n      // this.current.setAssignmentList(this.current.assignment.date);\n    }\n\n\n  }\n\n  jumpWeek() {\n    console.log('changedate')\n    this.current.setAssignmentList(this.listWeek).then(date => {\n      this.listWeek = date.startOf('isoweek');\n    });\n  }\n\n  detached() {\n    this.subsub.dispose();\n    this.reload.dispose();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\n@inject(ApiService, CurrentService, EventAggregator)\nexport class QuickEntry {\n\n  constructor(api, current, eventaggregator) {\n    // Initalize http client\n    this.api = api;\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  attached() {\n    // Initalize variables\n    this.entered = [];\n    this.notEntered = this.current.scores;\n\n    // Set Flags\n    this.nameFocus = true;\n    this.scoreFocus = false;\n  }\n\n  detached() {\n    this.entered = [];\n    this.notEntered = [];\n  }\n\n  // Provides autocomplete Suggestions\n  suggestionService = {\n    suggest: value => {\n      // Check if there is any input\n      if (value === '') {\n        return Promise.resolve([]);\n      }\n      value = value.toLowerCase();\n      const suggestions = this.notEntered\n        .filter(x => x.student.first_name.toLowerCase().indexOf(value) === 0)\n        .sort();\n      return Promise.resolve(suggestions);\n    },\n\n    getName: suggestion => suggestion.student.first_name\n  };\n\n  pushScore(score) {\n    // Add to the entered list\n    this.entered.push(score);\n\n    // Remove Score from future suggestions\n    this.notEntered = this.notEntered.filter(item => item.id !== score.id);\n\n    // clear forms and reset focus\n    this.score = null;\n    this.quickPoints = null;\n    this.scoreFocus = false;\n    this.nameFocus = true;\n  }\n\n  parseKey(key) {\n    if (key === 13) {\n      // If Checks type\n      if (!this.current.assignment.isPoints && key === 13) {\n        this.score.value = 1;\n        this.updateScore(this.score);\n        this.pushScore(this.score);\n      }\n\n      // If Points type\n      if (this.quickPoints) {\n        this.score.value = this.quickPoints;\n        this.updateScore(this.score);\n        this.pushScore(this.score);\n      }\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    // Update Scores\n    this.api.save(score);\n\n    // Tell the app a score has been updated\n    this.ea.publish('scoreUpdate');\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport * as d3 from 'd3';\n\n@inject(CurrentService, EventAggregator)\nexport class ReportAssignment {\n  constructor(current, eventaggregator) {\n    // Initalize http client\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  attached() {\n    this.makePlot();\n    this.subscriber = this.ea.subscribe('scoreUpdate', resp => this.makePlot());\n  }\n\n  detached() {\n    this.subscriber.dispose();\n  }\n\n  makePlot() {\n    // Remove Any Current Plots\n    d3.select('svg').remove();\n\n    // Render proper Plot\n    if (this.current.assignment.isPoints) {\n      this.renderHistogram(this.current.scores, '#content');\n    } else {\n      this.renderDonut(this.current.scores, '#content');\n    }\n  }\n\n  renderHistogram(data, divElement) {\n    let formatCount = d3.format(',.0f');\n\n    // Height and width\n    let margin = {top: 20, right: 20, bottom: 30, left: 50};\n    let width = 450 - margin.left - margin.right;\n    let height = 300 - margin.top - margin.bottom;\n\n    // Define Plot\n    let svg = d3.select(divElement)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom);\n\n    let g = svg.append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    let x = d3.scaleLinear()\n              .range([0, width]);\n\n    if (this.current.assignment.max !== 0) {\n      x.domain([0, this.current.assignment.max]);\n    } else {\n      x.domain([0, d3.max(data, (d) => d.value)]);\n    }\n\n    let bins = d3.histogram()\n                 .value((d) => d.value)\n                 .domain(x.domain())(data);\n\n    let y = d3.scaleLinear()\n              .domain([0, d3.max(bins, (d) => d.length)])\n              .range([height, 0]);\n\n    // Set up Tool tip\n    let tooltip = d3.select(divElement)\n                    .append('div')\n                    .attr('class', 'chart-tooltip');\n    tooltip.append('div').attr('class', 'students');\n\n    let bar = g.selectAll('.bar')\n               .data(bins)\n               .enter()\n               .append('g')\n               .attr('class', 'bar')\n               .attr('transform', (d) => 'translate(' + x(d.x0) + ',' + y(d.length) + ')');\n\n    bar.on('mouseover', (d) => {\n      tooltip.select('.students')\n             .html(d.map(score => score.student.first_name + ': ' + Math.round((score.value / score.assignment.max) * 100) + '%<br>').join(''));\n      tooltip.style('display', 'block');\n    });\n\n    bar.on('mouseout', () => tooltip.style('display', 'none'));\n\n    bar.append('rect')\n        .attr('x', 1)\n        .attr('width', x(bins[0].x1) - x(bins[0].x0) - 1)\n        .attr('height', (d) => height - y(d.length));\n\n    bar.append('text')\n        .attr('dy', '.75em')\n        .attr('y', 6)\n        .attr('x', (x(bins[0].x1) - x(bins[0].x0)) / 2)\n        .attr('text-anchor', 'middle')\n        .text((d) => formatCount(d.length));\n\n    if (this.current.assignment.max !== 0) {\n      g.append('g')\n          .attr('class', 'axis axis--x')\n          .attr('transform', 'translate(0,' + height + ')')\n          .call(d3.axisBottom(x)\n              .tickFormat((d) => Math.round((d / this.current.assignment.max) * 100) + '%'));\n    } else {\n      g.append('g')\n          .attr('class', 'axis axis--x')\n          .attr('transform', 'translate(0,' + height + ')')\n          .call(d3.axisBottom(x));\n    }\n  }\n\n  renderDonut(data, divElement) {\n    // Set Up Data\n    let nestdata = d3.nest()\n                     .key((d) => d.value).sortKeys(d3.descending)\n                     .rollup((g) => {\n                       return {'count': g.length,\n                               'names': g.map(item => item.student.first_name)\n                             };\n                     })\n                     .entries(data)\n                     .map(group => {\n                       return {\n                         'group': group.key === '1' ? 'Checked' : 'Missing',\n                         'count': group.value.count,\n                         'names': group.value.names\n                       };\n                     });\n\n    // Dimensions\n    let width = 450;\n    let height = 300;\n    let radius = Math.min(width, height) / 2;\n\n    // Set up Tool tip\n    let tooltip = d3.select(divElement)\n                    .append('div')\n                    .attr('class', 'chart-tooltip');\n\n    tooltip.append('div').attr('class', 'percent');\n    // tooltip.append('div').attr('class', 'label text-primary');\n    // tooltip.append('div').attr('class', 'count');\n    tooltip.append('div').attr('class', 'students');\n\n\n    // Color Scale\n    let themeColors = ['#7AC29A', '#EB5E28'];\n    // let color = d3.scaleOrdinal(d3.schemeCategory10.slice(2, 4));\n    let color = d3.scaleOrdinal(themeColors);\n    if (nestdata.length === 1 && nestdata[0].group === 'Missing') {\n      color = d3.scaleOrdinal(themeColors.slice(1, 2));\n    }\n\n    let svg = d3.select(divElement)\n                .append('svg')\n                .attr('width', width)\n                .attr('height', height)\n                .append('g')\n                .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n\n    let donutWidth = 50;\n\n    let arc = d3.arc()\n                .innerRadius(radius - donutWidth)\n                .outerRadius(radius);\n\n    let pie = d3.pie()\n                .value(function(d) { return d.count; })\n                .sort((a, b) => a - b);\n\n    let legendRectSize = 18;\n    let legendSpacing = 4;\n\n    let path = svg.selectAll('path')\n                  .data(pie(nestdata))\n                  .enter()\n                  .append('path')\n                  .attr('d', arc)\n                  .attr('fill', function(d, i) {\n                    return color(d.data.group);\n                  });\n\n    path.on('mouseover', function(d) {\n      let percent = Math.round(1000 * d.data.count / data.length) / 10;\n      // tooltip.select('.label').html(d.data.group);\n      // tooltip.select('.count').html(d.data.count);\n      tooltip.select('.students').html(d.data.names.map(name => name + '<br>').join(''));\n      tooltip.select('.percent').html(percent + '%');\n      tooltip.style('display', 'block');\n    });\n\n    path.on('mouseout', function() {\n      tooltip.style('display', 'none');\n    });\n\n    let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function(d, i) {\n                      let height2 = legendRectSize + legendSpacing;\n                      let offset =  height2 * color.domain().length / 2;\n                      let horz = -2 * legendRectSize;\n                      let vert = i * height2 - offset;\n                      return 'translate(' + horz + ',' + vert + ')';\n                    });\n\n    legend.append('rect')\n          .attr('width', legendRectSize)\n          .attr('height', legendRectSize)\n          .style('fill', color)\n          .style('stroke', color);\n\n    legend.append('text')\n          .attr('x', legendRectSize + legendSpacing)\n          .attr('y', legendRectSize - legendSpacing)\n          .text(function(d, i) { return d; });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\n@inject(ApiService, CurrentService, EventAggregator, ValidationControllerFactory)\nexport class ScoresList {\n  constructor(api, current, eventaggregator, controllerFactory) {\n    // Initalize http client\n    this.api = api;\n    this.ea = eventaggregator;\n    this.current = current;\n    this.controller = controllerFactory.createForCurrentScope();\n\n    // Initalize variables\n    this.editScoreId = null;\n  }\n\n  editScore(score) {\n    if (this.current.assignment.isPoints) {\n      this.editScoreId = score.id;\n      this.editFocus = true;\n    } else {\n      score.value = 1 - score.value;\n      this.updateScore(score);\n    }\n  }\n\n  deFocus(key) {\n    if (key === 13) {\n      this.editFocus = false;\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    this.controller.validate().then(result => {\n      if (!result.valid) {\n        return;\n      }\n\n      // Update Scores\n      this.api.save(score).then(resp => {\n        // Update Current Scores\n        this.ea.publish('scoreUpdate');\n        // Reset edit\n        this.editScoreId = null;\n      });\n    });\n  }\n}\n","import {bindingMode, observable} from 'aurelia-binding';\nimport {bindable} from 'aurelia-templating';\nimport {inject} from 'aurelia-dependency-injection';\nimport {DOM} from 'aurelia-pal';\n\nlet nextID = 0;\n\n@inject(Element)\nexport class Autocomplete {\n  @bindable service;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) value;\n  @bindable placeholder = '';\n  @bindable delay = 300;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) nameFocus;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) scoreFocus;\n  @bindable isPoints;\n  @bindable checks;\n  id = nextID++;\n  expanded = false;\n  @observable inputValue = '';\n  updatingInput = false;\n  suggestions = [];\n  index = -1;\n  suggestionsUL = null;\n  userInput = '';\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  display(name) {\n    this.updatingInput = true;\n    this.inputValue = name;\n    this.updatingInput = false;\n  }\n\n  getName(suggestion) {\n    if (suggestion == null) {\n      return '';\n    }\n    return this.service.getName(suggestion);\n  }\n\n  collapse() {\n    this.expanded = false;\n    this.index = -1;\n  }\n\n  select(suggestion, notify) {\n    this.value = suggestion;\n    const name = this.getName(this.value);\n    this.userInput = name;\n    this.display(name);\n    this.collapse();\n    if (notify) {\n      const event = DOM.createCustomEvent('change', { bubbles: true });\n      event.value = suggestion;\n      event.autocomplete = this;\n      this.element.dispatchEvent(event);\n    }\n  }\n\n  valueChanged() {\n    this.select(this.value, false);\n  }\n\n  inputValueChanged(value) {\n    if (this.updatingInput) {\n      return;\n    }\n    this.userInput = value;\n    if (value === '') {\n      this.value = null;\n      this.collapse();\n      return;\n    }\n    this.service.suggest(value)\n      .then(suggestions => {\n        this.index = -1;\n        this.suggestions.splice(0, this.suggestions.length, ...suggestions);\n        if (suggestions.length === 1 && suggestions[0].student.first_name !== this.value) {\n          this.select(suggestions[0], true);\n        } else if (suggestions.length === 0) {\n          this.collapse();\n        } else {\n          this.expanded = true;\n        }\n      });\n  }\n\n  scroll() {\n    const ul = this.suggestionsUL;\n    const li = ul.children.item(this.index === -1 ? 0 : this.index);\n    if (li.offsetTop + li.offsetHeight > ul.offsetHeight) {\n      ul.scrollTop += li.offsetHeight;\n    } else if (li.offsetTop < ul.scrollTop) {\n      ul.scrollTop = li.offsetTop;\n    }\n  }\n\n  keydown(key) {\n    if (!this.expanded) {\n      if (key === 13) {\n        if (this.isPoints) {\n          this.nameFocus = false;\n          this.scoreFocus = true;\n        } else {\n          this.checks({key: key});\n        }\n      }\n      return true;\n    }\n\n    // down\n    if (key === 40) {\n      if (this.index < this.suggestions.length - 1) {\n        this.index++;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // up\n    if (key === 38) {\n      if (this.index === -1) {\n        this.index = this.suggestions.length - 1;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else if (this.index > 0) {\n        this.index--;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // escape\n    if (key === 27) {\n      this.display(this.userInput);\n      this.collapse();\n      return;\n    }\n\n    // enter\n    if (key === 13) {\n      if (this.index >= 0) {\n        this.select(this.suggestions[this.index], true);\n      }\n      this.quickNameFocus = false;\n      this.quickScoreFocus = true;\n      return;\n    }\n\n    return true;\n  }\n\n  blur() {\n    this.select(this.value, false);\n    this.element.dispatchEvent(DOM.createCustomEvent('blur'));\n  }\n\n  suggestionClicked(suggestion) {\n    this.select(suggestion, true);\n  }\n\n  focus() {\n    this.element.firstElementChild.focus();\n  }\n}\n\n// aria-activedescendant\n// https://webaccessibility.withgoogle.com/unit?unit=6&lesson=13\n// https://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n// https://www.w3.org/TR/wai-aria/roles#combobox\n","import {ValidationRules} from 'aurelia-validation';\n\nexport class Assignment {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  get source() {return 'assignments';}\n\n  get isPoints() {return this.type === 'Points';}\n}\n\nValidationRules\n  .ensure('name').displayName('Name')\n    .required()\n    .maxLength(255)\n  .ensure('date').displayName('Date')\n    .required()\n    .satisfiesRule('date')\n  .ensure('type').displayName('Type')\n    .required()\n  .ensure('max').displayName('Max Score')\n    .required()\n  .on(Assignment);\n","import {ValidationRules} from 'aurelia-validation';\n\nexport class Score {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  get source() {return 'scores';}\n}\n\nValidationRules\n  .ensure('value').displayName('Score')\n    .required()\n  .on(Score);\n","import {ValidationRules} from 'aurelia-validation';\n\nexport class Student {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  get source() {return 'students';}\n\n  get fullName() {return this.first_name + ' ' + this.last_name;}\n}\n\nValidationRules\n  .ensure('first_name').displayName('First Name')\n    .required()\n    .maxLength(255)\n  .ensure('last_name').displayName('Last Name')\n    .required()\n    .maxLength(255)\n  .on(Student);\n","import {ValidationRules} from 'aurelia-validation';\n\nexport class Subject {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  get source() {return 'subjects';}\n}\n\nValidationRules\n  .ensure('name').displayName('Name')\n    .required()\n    .maxLength(255)\n  .on(Subject);\n","import {ValidationRules} from 'aurelia-validation';\n\nexport class Year {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  get source() {return 'years';}\n}\n\nValidationRules\n  .ensure('school').displayName('School Name')\n    .required()\n    .maxLength(255)\n  .ensure('first_day').displayName('First Day')\n    .required()\n    .satisfiesRule('date')\n  .ensure('last_day').displayName('Last Day')\n    .required()\n    .satisfiesRule('date')\n  .on(Year);\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\n\n@inject(Router)\nexport class FirstTime {\n  constructor(router) {\n    this.router = router;\n  }\n\n  created() {\n    this.completed = [];\n    this.todo = ['Introduction', 'Profile', 'Years', 'Students', 'Subjects'];\n\n    this.activeStep = 'Introduction';\n  }\n\n  nextStep(step) {\n    if (step !== this.activeStep) {\n      return;\n    }\n\n    this.completed.push(this.todo.shift());\n    this.activeStep = this.todo[0];\n\n    if (this.todo.length === 0) {\n      setTimeout(() => {\n        this.router.navigate('gradebook');\n      }, 800);\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {ApiService} from 'shared/services/apiService';\n\n@inject(ApiService)\nexport class PaymentSetup {\n  constructor(api) {\n    this.api = api;\n  }\n}\n","import {bindable, inject} from 'aurelia-framework';\nimport * as d3 from 'd3';\n\n@inject(Element)\nexport class TimePlotCustomAttribute {\n  @bindable scores;\n  @bindable type;\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  bind() {\n    this.timePlot(this.scores, this.type);\n  }\n\n  timePlot(data, type) {\n    // set the dimensions and margins of the graph\n    let margin = {top: 20, right: 20, bottom: 50, left: 50};\n    let width = 320 - margin.left - margin.right;\n    let height = 200 - margin.top - margin.bottom;\n\n    // parse the date / time\n    let parseTime = d3.timeParse('%Y-%m-%d');\n\n    // set the ranges\n    let x = d3.scaleTime().range([0, width]);\n    let y = d3.scaleLinear().range([height, 0]);\n\n    // define the line\n    let valueline = d3.line().x(d => x(d.assignment.date));\n\n    if (type === 'Points') {\n      valueline = valueline.y(d => y(Math.round((d.value / d.assignment.max) * 100)));\n    } else if (type === 'Checks') {\n      let _movingSum = 0;\n      valueline = valueline.y((d, i) => {\n        _movingSum += d.value;\n        return y(_movingSum / (i + 1));\n      });\n    }\n\n    // append the svg obgect\n    let svg = d3.select(this.element)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // Format the data\n    data = data.filter(d => d.assignment.type === type);\n    data.forEach(d => d.assignment.date = parseTime(d.assignment.date));\n\n    // Scale the range of the data\n    x.domain(d3.extent(data, d => d.assignment.date));\n    if (type === 'Points') {\n      y.domain([0, 100]);\n    } else {\n      y.domain([0, 1]);\n    }\n\n    // Add the valueline path.\n    svg.append('path')\n        .data([data])\n        .attr('class', 'line')\n        .attr('d', valueline);\n\n    // Add the X Axis\n    svg.append('g')\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(d3.axisBottom(x).tickFormat(d3.timeFormat('%m/%d')).ticks(data.length));\n\n    // Add the Y Axis\n    svg.append('g')\n       .call(d3.axisLeft(y));\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\nimport moment from 'moment';\n\n@inject(CurrentService, ApiService)\nexport class StudentReport {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n  }\n\n  attached() {\n    this.setStudentList();\n    this.selected = {'start': this.current.year.first_day, 'end': moment().format('YYYY-MM-DD')};\n    this.reportGenerated = false;\n  }\n\n  setStudentList() {\n    let query = {\n      filters: [{'name': 'year_id', 'op': 'eq', 'val': this.current.year.id}],\n      order_by: [{'field': 'first_name', 'direction': 'asc'}]\n    };\n\n    this.api.find('students', query)\n            .then(data => this.students = data.objects);\n  }\n\n  generate() {\n    this.reportGenerated = false;\n\n    let query = {\n      filters: [{'name': 'student_id', 'op': 'eq', 'val': this.selected.student.id},\n                {'name': 'assignment', 'op': 'has', 'val': {\n                  'name': 'date', 'op': 'ge', 'val': this.selected.start}},\n                  {'name': 'assignment', 'op': 'has', 'val': {\n                    'name': 'date', 'op': 'le', 'val': this.selected.end}}],\n      order_by: [{'field': 'assignment__date', 'direction': 'asc'}]\n    };\n\n    // Get data\n    this.api.find('scores', query)\n            .then(data => {\n              this.scores = data.objects;\n              this.reportGenerated = true;\n            });\n  }\n}\n","export class scoreFilterValueConverter {\n  toView(scores, subjectid) {\n    return scores.filter(score => score.assignment.subject_id === subjectid);\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport datepicker from 'src/assets/js/bootstrap-datepicker.js';\n\nconst defaultOptions = {\n  format: 'yyyy-mm-dd',\n  color: 'blue'\n};\n\n@inject(Element)\nexport class BootstrapDatepickerCustomAttribute {\n  constructor(element) {\n    this.element = element;\n  }\n\n  attached() {\n    let options = Object.assign({}, defaultOptions, this.value || {});\n    $(this.element).datepicker(options).on('changeDate', e => fireEvent(e.target, 'change'));\n  }\n\n  detached() {\n    $(this.element).datepicker('hide');\n  }\n}\n\nfunction fireEvent(element, name) {\n  let event = document.createEvent('Event');\n  event.initEvent(name, true, true);\n  element.dispatchEvent(event);\n}\n","import {inject} from 'aurelia-framework';\nimport {selectpicker} from 'bootstrap-select';\n\nconst defaultOptions = {\n  // style: 'btn btn-primary btn-simple',\n  // size: false\n};\n\n@inject(Element)\nexport class BootstrapSelectCustomAttribute {\n  constructor(element) {\n    this.element = element;\n  }\n\n  attached() {\n    let options = Object.assign({}, defaultOptions, this.value || {});\n    $(this.element).selectpicker(options);\n  }\n\n  detached() {\n    $(this.element).selectpicker('destroy');\n  }\n}\n","export class FootBar {\n  constructor() {\n\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {ValidationControllerFactory} from 'aurelia-validation';\nimport {AuthService} from 'aurelia-auth';\nimport {CurrentService} from 'shared/services/currentService';\nimport {HttpService} from 'shared/services/httpService';\nimport {User} from 'shared/models/user';\n\n@inject(CurrentService, AuthService, Router, HttpService,\n        ValidationControllerFactory)\nexport class NavBar {\n  user = new User();\n\n  constructor(current, auth, router, http, controllerFactory) {\n    this.current = current;\n    this.auth = auth;\n    this.router = router;\n    this.http = http;\n    this.controller = controllerFactory.createForCurrentScope();\n  }\n\n  attached() {\n    this.showReset = false;\n  }\n\n  login() {\n    this.auth.login(this.user).then(resp => location.reload());\n  }\n\n  logout() {\n    this.auth.logout().then(location.reload());\n  }\n\n  toggleReset() {\n    this.showReset = true;\n  }\n\n  sendReset() {\n    this.http.send('auth/forgot_password', {email: this.loginData.email});\n  }\n}\n","import {bindingMode, customElement, bindable, noView} from 'aurelia-framework';\n\n@noView()\n@customElement('scriptinjector')\nexport class scriptinjector {\n\n  @bindable url;\n  @bindable isAsync;\n  @bindable({defaultBindingMode: bindingMode.oneWay}) scripttag;\n\n  attached() {\n    if (this.url) {\n      this.scripttag = document.createElement('script');\n      if (this.isAsync) {\n        this.scripttag.async = true;\n      }\n      this.scripttag.setAttribute('src', this.url);\n      document.body.appendChild(this.scripttag);\n    }\n  }\n\n  detached() {\n    if (this.scripttag) {\n      this.scripttag.remove();\n    }\n  }\n}\n","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value, format) {\n    return moment(value).format(format);\n  }\n}\n","export class ScoreFormatValueConverter {\n  toView(score, meta) {\n    if (meta.type === 'Checks') {\n      return this.checks(score);\n    } else if (meta.type === 'Points' & meta.max !== 0) {\n      return this.percent(score, meta);\n    }\n\n    return score;\n  }\n\n  checks(score) {\n    if (score === 1) {\n      return '<i class=\"fa fa-check-circle-o fa-2x\" aria-hidden=\"true\"></i>';\n    }\n\n    return '<i class=\"fa fa-circle-o fa-2x\" aria-hidden=\"true\"></i>';\n  }\n\n  percent(score, meta) {\n    return `${Math.round((score / meta.max) * 100)}%`;\n  }\n}\n","import {ValidationRules} from 'aurelia-validation';\n\nexport class User {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  get source() {return 'users';}\n\n  get teacherName() {\n    if (this.title && this.last_name) {\n      return this.title + ' ' + this.last_name;\n    }\n  }\n}\n\nValidationRules\n  .ensure('email')\n    .required()\n    .email()\n  .ensure('password')\n    .required()\n    .minLength(8)\n    .maxLength(50)\n  .ensure('first_name').displayName('First Name')\n    .maxLength(255)\n  .ensure('last_name').displayName('Last Name')\n    .required()\n    .maxLength(255)\n  .ensure('title')\n    .required()\n  .on(User);\n","import {HttpClient} from 'aurelia-http-client';\nimport {inject} from 'aurelia-framework';\nimport {AuthService} from 'aurelia-auth';\nimport {User} from 'shared/models/user';\nimport {Year} from 'gradebook/models/year';\nimport {Student} from 'gradebook/models/student';\nimport {Subject} from 'gradebook/models/subject';\nimport {Assignment} from 'gradebook/models/assignment';\nimport {Score} from 'gradebook/models/score';\n\n@inject(HttpClient, AuthService)\nexport class ApiService {\n  constructor(http, auth) {\n    // Configure client\n    http.configure(config => {\n      config\n        .withBaseUrl('http://localhost:5000/api/')\n        .withHeader('Authorization', 'Bearer ' + auth.auth.getToken())\n        .withInterceptor({\n          // Parse every response to objects\n          response(message) {\n            // Check if this is a delete response\n            if (message.statusCode === 204) {\n              return message;\n            }\n\n            // Parse response and api source\n            let parsed = JSON.parse(message.response);\n            let source = message.requestMessage.url.split('/')[0];\n\n            // If list, convert each object to model\n            if (parsed.objects) {\n              parsed.objects = parsed.objects.map(item => new modelMap[source](item));\n              return parsed;\n            }\n            return new modelMap[source](parsed);\n          }\n        });\n    });\n\n    // Set\n    this.http = http;\n  }\n\n  find(source, query) {\n    return this.http.createRequest(source)\n                    .asGet()\n                    .withParams({q: JSON.stringify(query)})\n                    .send();\n  }\n\n  findOne(source, id) {\n    return this.http.createRequest(source + '/' + id)\n                    .asGet()\n                    .send();\n  }\n\n  save(model) {\n    if (model.id) {\n      return this.http.createRequest(model.source + '/' + model.id)\n                      .asPut()\n                      .withContent(model)\n                      .send();\n    }\n\n    return this.http.createRequest(model.source)\n                    .asPost()\n                    .withContent(model)\n                    .send();\n  }\n\n  delete(model) {\n    return this.http.createRequest(model.source + '/' + model.id)\n                    .asDelete()\n                    .send();\n  }\n}\n\n// Map for model creation\nconst modelMap = {'users': User,\n                  'years': Year,\n                  'students': Student,\n                  'subjects': Subject,\n                  'assignments': Assignment,\n                  'scores': Score};\n","import {EventAggregator} from 'aurelia-event-aggregator';\nimport {Router} from 'aurelia-router';\nimport {ApiService} from './apiService';\nimport {inject} from 'aurelia-framework';\nimport moment from 'moment';\n\n@inject(ApiService, EventAggregator, Router)\nexport class CurrentService {\n  constructor(api, eventaggregator, router) {\n    // Injects\n    this.api = api;\n    this.ea = eventaggregator;\n    this.router = router;\n\n    this.subjectList = [];\n  }\n\n  // User methods\n  setUser(user) {\n    this.user = user;\n  }\n\n  reviveUser(userId) {\n    this.api.findOne('users', userId)\n            .then(data => {\n              this.user = data;\n              if (this.user.active_year) {\n                this.reviveYear(this.user.active_year);\n              }\n            });\n  }\n\n  // Subject Methods\n  setSubjectList() {\n    // Define Query\n    let query = {\n      filters: [{'name': 'year_id', 'op': 'eq', 'val': this.year.id}]\n    };\n\n    return this.api.find('subjects', query)\n            .then(data => this.subjectList = data.objects);\n  }\n\n  setSubject(subject) {\n    this.subject = subject;\n    this.clearAssignment();\n    this.ea.publish('subjectSet');\n  }\n\n  clearSubject() {\n    this.subject = false;\n    this.clearAssignment();\n  }\n\n  // Assignment Methods\n  setAssignmentList(date) {\n    console.log(\"assignment list set\")\n    // Get Week edges\n    date = moment(date);\n    let weekStart = date.startOf('isoweek').format('YYYY-MM-DD');\n    let weekEnd = date.endOf('isoweek').format('YYYY-MM-DD');\n\n    // Define Query\n    let query = {\n      filters: [{'name': 'subject_id', 'op': 'eq', 'val': this.subject.id},\n                {'name': 'date', 'op': 'ge', 'val': weekStart},\n                {'name': 'date', 'op': 'le', 'val': weekEnd}],\n      order_by: [{'field': 'date', 'direction': 'desc'}]\n    };\n\n    // Request\n    return this.api.find('assignments', query).then(data => {\n      this.assignmentList = data.objects;\n      return date;\n    });\n  }\n\n  setAssignment(assignment) {\n    this.assignment = assignment;\n    this.setScores(assignment.id);\n  }\n\n  clearAssignment() {\n    this.assignment = false;\n    this.scores = false;\n  }\n\n  // Scores Methods\n  setScores(assignId) {\n    // Filter Object\n    let query = {\n      filters: [{'name': 'assignment_id', 'op': 'eq', 'val': assignId}],\n      order_by: [{'field': 'student__first_name', 'direction': 'asc'}]\n    };\n\n    // Get Data\n    this.api.find('scores', query)\n            .then(data => {\n              this.scores = data.objects;\n              this.ea.publish('scoreUpdate');\n            });\n  }\n\n  // Years Methods\n  setYear(year) {\n    this.year = year;\n\n    // Save year in database\n    this.user.active_year = year.id;\n    this.api.save(this.user);\n\n    // Clear Data of old year\n    this.clearAssignment();\n    this.subjectList = [];\n    this.assignmentList = [];\n  }\n\n  reviveYear(yearId) {\n    this.api.findOne('years', yearId)\n            .then(data => this.year = data);\n  }\n\n  // App Navigation\n  navigateTo(route, params) {\n    this.router.navigateToRoute(route, params, {trigger: true});\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(AuthService)\nexport class HttpService {\n  constructor(auth) {\n    this.http = new HttpClient();\n    this.auth = auth;\n\n    // Confg this http client\n    this.http.configure(config => {\n      config.withBaseUrl('http://localhost:5000/')\n            .withInterceptor({\n              // Parse every response to objects\n              response(message) {\n                return JSON.parse(message.response);\n              }\n            });\n    });\n  }\n\n  send(url, body, withToken = false) {\n    let req = this.http.createRequest(url)\n                       .asPost()\n                       .withContent(body);\n    if (withToken) {\n      req = req.withHeader('Authorization', 'Bearer ' + this.auth.auth.getToken());\n    }\n\n    return req.send();\n  }\n}\n","import {inject} from 'aurelia-framework';\n\n@inject(Element)\nexport class TooltipCustomAttribute {\n  constructor(element) {\n    this.element = element;\n  }\n\n  attached() {\n    $(this.element).tooltip();\n  }\n}\n","import moment from 'moment';\n\nexport class WeekFormatValueConverter {\n  toView(value) {\n    return 'Week of ' + moment(value).format('MMMM Do');\n  }\n}\n","import {bindingMode, observable} from 'aurelia-binding';\nimport {bindable} from 'aurelia-templating';\nimport {inject} from 'aurelia-dependency-injection';\nimport {DOM} from 'aurelia-pal';\n\nlet nextID = 0;\n\n@inject(Element)\nexport class Autocomplete {\n  @bindable service;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) value;\n  @bindable placeholder = '';\n  @bindable delay = 300;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) nameFocus;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) scoreFocus;\n  @bindable isPoints;\n  @bindable checks;\n  id = nextID++;\n  expanded = false;\n  @observable inputValue = '';\n  updatingInput = false;\n  suggestions = [];\n  index = -1;\n  suggestionsUL = null;\n  userInput = '';\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  display(name) {\n    this.updatingInput = true;\n    this.inputValue = name;\n    this.updatingInput = false;\n  }\n\n  getName(suggestion) {\n    if (suggestion == null) {\n      return '';\n    }\n    return this.service.getName(suggestion);\n  }\n\n  collapse() {\n    this.expanded = false;\n    this.index = -1;\n  }\n\n  select(suggestion, notify) {\n    this.value = suggestion;\n    const name = this.getName(this.value);\n    this.userInput = name;\n    this.display(name);\n    this.collapse();\n    if (notify) {\n      const event = DOM.createCustomEvent('change', { bubbles: true });\n      event.value = suggestion;\n      event.autocomplete = this;\n      this.element.dispatchEvent(event);\n    }\n  }\n\n  valueChanged() {\n    this.select(this.value, false);\n  }\n\n  inputValueChanged(value) {\n    if (this.updatingInput) {\n      return;\n    }\n    this.userInput = value;\n    if (value === '') {\n      this.value = null;\n      this.collapse();\n      return;\n    }\n    this.service.suggest(value)\n      .then(suggestions => {\n        this.index = -1;\n        this.suggestions.splice(0, this.suggestions.length, ...suggestions);\n        if (suggestions.length === 1 && suggestions[0].student.first_name !== this.value) {\n          this.select(suggestions[0], true);\n        } else if (suggestions.length === 0) {\n          this.collapse();\n        } else {\n          this.expanded = true;\n        }\n      });\n  }\n\n  scroll() {\n    const ul = this.suggestionsUL;\n    const li = ul.children.item(this.index === -1 ? 0 : this.index);\n    if (li.offsetTop + li.offsetHeight > ul.offsetHeight) {\n      ul.scrollTop += li.offsetHeight;\n    } else if (li.offsetTop < ul.scrollTop) {\n      ul.scrollTop = li.offsetTop;\n    }\n  }\n\n  keydown(key) {\n    if (!this.expanded) {\n      if (key === 13) {\n        if (this.isPoints) {\n          this.nameFocus = false;\n          this.scoreFocus = true;\n        } else {\n          this.checks({key: key});\n        }\n      }\n      return true;\n    }\n\n    // down\n    if (key === 40) {\n      if (this.index < this.suggestions.length - 1) {\n        this.index++;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // up\n    if (key === 38) {\n      if (this.index === -1) {\n        this.index = this.suggestions.length - 1;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else if (this.index > 0) {\n        this.index--;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // escape\n    if (key === 27) {\n      this.display(this.userInput);\n      this.collapse();\n      return;\n    }\n\n    // enter\n    if (key === 13) {\n      if (this.index >= 0) {\n        this.select(this.suggestions[this.index], true);\n      }\n      this.quickNameFocus = false;\n      this.quickScoreFocus = true;\n      return;\n    }\n\n    return true;\n  }\n\n  blur() {\n    this.select(this.value, false);\n    this.element.dispatchEvent(DOM.createCustomEvent('blur'));\n  }\n\n  suggestionClicked(suggestion) {\n    this.select(suggestion, true);\n  }\n\n  focus() {\n    this.element.firstElementChild.focus();\n  }\n}\n\n// aria-activedescendant\n// https://webaccessibility.withgoogle.com/unit?unit=6&lesson=13\n// https://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n// https://www.w3.org/TR/wai-aria/roles#combobox\n"],"sourceRoot":".."}