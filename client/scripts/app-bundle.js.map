{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/admin/index.js","src/gradebook/index.js","src/reports/index.js","src/admin/components/addStudent.js","src/admin/components/addSubject.js","src/admin/components/addYear.js","src/gradebook/components/addAssignment.js","src/gradebook/components/assignmentlist.js","src/gradebook/components/quickEntry.js","src/gradebook/components/reportAssignment.js","src/gradebook/components/scoresList.js","src/gradebook/lib/autocomplete.js","src/reports/attributes/timePlot.js","src/reports/components/studentReport.js","src/reports/converters/scoreFilter.js","src/shared/converters/dateFormat.js","src/shared/converters/scoreFormat.js","src/shared/services/apiService.js","src/shared/services/currentService.js"],"names":["App","configureRouter","config","router","title","map","route","redirect","moduleId","nav","current","debug","testing","configure","aurelia","use","standardConfiguration","developmentLogging","plugin","start","then","setRoot","Admin","addCats","categorySelected","setCategory","category","GradeBook","api","eventaggregator","ea","quickEntry","editMode","created","year","setSubjectList","addAssignment","clearAssignment","editAssignment","deleteAssignment","confirmed","confirm","assignment","name","delete","id","publish","toggleQuick","Reports","attached","reports","setReport","report","selectedReport","AddStudent","reset","students","setStudentList","mode","bttn","newStudent","query","filters","order_by","find","data","objects","edit","student","first_name","last_name","submit","update","year_id","add","AddSubject","newSubject","subject","AddYear","setYearList","newYear","years","school","setYear","resp","AddAssignment","newAssignment","date","format","bind","btn","detached","submitAssignment","subject_id","setAssignment","cancel","AssignmentList","setAssignmentList","subsub","subscribe","reload","dispose","QuickEntry","suggestionService","suggest","value","Promise","resolve","toLowerCase","suggestions","notEntered","filter","x","indexOf","sort","getName","suggestion","entered","scores","isPoints","nameFocus","scoreFocus","pushScore","score","push","item","quickPoints","parseKey","key","updateScore","d3","ReportAssignment","makePlot","subscriber","select","remove","renderHistogram","renderDonut","divElement","formatCount","margin","top","right","bottom","left","width","height","svg","append","attr","g","scaleLinear","range","max","domain","d","bins","histogram","y","length","div","style","bar","selectAll","enter","x0","on","transition","duration","html","join","event","pageX","pageY","x1","text","call","axisBottom","tickFormat","Math","round","nestdata","nest","rollup","entries","group","count","names","radius","min","tooltip","color","scaleOrdinal","schemeCategory10","slice","donutWidth","arc","innerRadius","outerRadius","pie","a","b","legendRectSize","legendSpacing","path","i","percent","legend","height2","offset","horz","vert","ScoresList","editScoreId","editScore","editFocus","deFocus","nextID","Autocomplete","Element","defaultBindingMode","twoWay","element","expanded","updatingInput","index","suggestionsUL","userInput","display","inputValue","service","collapse","notify","createCustomEvent","bubbles","autocomplete","dispatchEvent","valueChanged","inputValueChanged","splice","scroll","ul","li","children","offsetTop","offsetHeight","scrollTop","keydown","checks","quickNameFocus","quickScoreFocus","blur","suggestionClicked","focus","firstElementChild","TimePlotCustomAttribute","timePlot","type","parseTime","timeParse","scaleTime","valueline","line","_movingSum","forEach","extent","timeFormat","ticks","axisLeft","StudentReport","selected","first_day","reportGenerated","generate","end","scoreFilterValueConverter","toView","subjectid","DateFormatValueConverter","ScoreFormatValueConverter","meta","ApiService","http","withBaseUrl","withInterceptor","response","message","statusCode","JSON","parse","source","req","createRequest","asGet","withParams","q","stringify","send","newvals","asPut","withContent","newitem","asPost","asDelete","CurrentService","subjectList","localStorage","getItem","setSubject","assignmentList","setScores","assignId","setItem"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport {CurrentService} from 'shared/services/currentService';\n\n@inject(CurrentService)\nexport class App {\n  configureRouter(config, router) {\n    config.title = 'Marks';\n    config.map([\n      { route: '', redirect: 'gradebook' },\n      { route: 'gradebook', moduleId: './gradebook/index', nav: 1, title: 'Gradebook'},\n      { route: 'reports', moduleId: './reports/index', nav: 2, title: 'Reports'},\n      { route: 'admin',  moduleId: './admin/index', nav: 3, title: 'Administration'}\n    ]);\n\n    this.router = router;\n  }\n\n  constructor(current) {\n    this.current = current;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration();\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Admin {\n  constructor() {\n    this.addCats = ['Years', 'Students', 'Subjects'];\n    this.categorySelected = false;\n  }\n\n  setCategory(category) {\n    this.categorySelected = category;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\n\n@inject(CurrentService, ApiService, EventAggregator)\nexport class GradeBook {\n  constructor(current, api, eventaggregator) {\n    // Data Holders\n    this.current = current;\n    this.api = api;\n    this.ea = eventaggregator;\n\n    // Initalize Selection Indicators\n    this.quickEntry = false;\n    this.editMode = false;\n  }\n\n  created() {\n    if (this.current.year) {\n      this.current.setSubjectList();\n    }\n  }\n\n  addAssignment() {\n    // Flip on add assignment dialog\n    this.current.clearAssignment();\n    this.editMode = 'add';\n  }\n\n  editAssignment() {\n    this.editMode = 'edit';\n  }\n\n  deleteAssignment() {\n    // Confirm with User\n    let confirmed = confirm('Are you sure you want to delete ' + this.current.assignment.name + '?');\n\n    if (confirmed) {\n      this.api.delete('assignments', this.current.assignment.id)\n              .then(data => this.ea.publish('reloadAssignments'));\n\n      this.current.clearAssignment();\n    }\n  }\n\n  toggleQuick() {\n    this.quickEntry = !this.quickEntry;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from '../shared/services/currentService';\nimport {ApiService} from '../shared/services/apiService';\n\n@inject(CurrentService, ApiService)\nexport class Reports {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n  }\n\n  attached() {\n    this.reports = ['Student'];\n  }\n\n  setReport(report) {\n    this.selectedReport = report;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\n@inject(CurrentService, ApiService)\nexport class AddStudent {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n  }\n\n  attached() {\n    this.reset();\n    this.students = [];\n\n    // Get students\n    this.setStudentList();\n  }\n\n  reset() {\n    this.mode = 'add';\n    this.title = 'Add Student';\n    this.bttn = 'Add Student';\n    this.newStudent = {};\n  }\n\n  setStudentList() {\n    let query = {\n      filters: [{'name': 'year_id', 'op': 'eq', 'val': this.current.year.id}],\n      order_by: [{'field': 'first_name', 'direction': 'asc'}]\n    };\n\n    this.api.find('students', query)\n            .then(data => this.students = data.objects);\n  }\n\n  edit(student) {\n    this.newStudent = student;\n    this.mode = 'edit';\n\n    this.title = 'Edit Student';\n    this.bttn = 'Save Changes';\n  }\n\n  delete(student) {\n    let confirmed = confirm('Are you sure you want to delete ' + student.first_name + ' ' + student.last_name + '?');\n\n    if (confirmed) {\n      this.api.delete('students', student.id)\n              .then(data => this.setStudentList());\n    }\n  }\n\n  submit() {\n    if (this.mode === 'edit') {\n      this.api.update('students', this.newStudent.id, this.newStudent)\n              .then(resp => this.reset());\n    } else {\n      // Add Current year\n      this.newStudent.year_id = this.current.year.id;\n\n      this.api.add('students', this.newStudent)\n              .then(resp => this.attached());\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\n@inject(CurrentService, ApiService)\nexport class AddSubject {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n  }\n\n  attached() {\n    this.reset();\n  }\n\n  reset() {\n    this.mode = 'add';\n    this.title = 'Add Subject';\n    this.bttn = 'Add Subject';\n    this.newSubject = {};\n  }\n\n  edit(subject) {\n    this.mode = 'edit';\n    this.newSubject = subject;\n\n    this.title = 'Edit Subject';\n    this.bttn = 'Save Changes';\n  }\n\n  delete(subject) {\n    let confirmed = confirm('Are you sure you want to delete ' + subject.name  + '?');\n\n    if (confirmed) {\n      this.api.delete('subjects', subject.id)\n              .then(data => this.current.setSubjectList());\n    }\n  }\n\n  submit() {\n    if (this.mode === 'edit') {\n      this.api.update('subjects', this.newSubject.id, this.newSubject)\n              .then(resp => this.reset());\n    } else {\n      // Add Current year\n      this.newSubject.year_id = this.current.year.id;\n\n      this.api.add('subjects', this.newSubject)\n              .then(resp => {\n                this.current.setSubjectList();\n                this.reset();\n              });\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\n\n@inject(CurrentService, ApiService)\nexport class AddYear {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n    this.mode = 'add';\n  }\n\n  attached() {\n    this.reset();\n    this.setYearList();\n  }\n\n  reset() {\n    this.newYear = {};\n    this.mode = 'add';\n    this.title = 'Year';\n    this.bttn = 'Add Year';\n  }\n\n  setYearList() {\n    let query = {\n      order_by: [{'field': 'first_day', 'direction': 'desc'}]\n    };\n\n    this.api.find('years', query)\n            .then(data => this.years = data.objects);\n  }\n\n  edit(year) {\n    this.newYear = year;\n    this.mode = 'edit';\n    this.title = 'Edit Year';\n    this.bttn = 'Save Changes';\n  }\n\n  delete(year) {\n    let confirmed = confirm('Are you sure you want to delete ' + year.school + ' (' + year.year + ')' + '?');\n\n    if (confirmed) {\n      this.api.delete('years', year.id)\n              .then(data => this.setYearList());\n    }\n  }\n\n  submit() {\n    if (this.mode === 'edit') {\n      // Update Server\n      this.api.update('years', this.newYear.id, this.newYear)\n              .then(resp => {\n                if (this.newYear.id === this.current.year.id) {\n                  this.current.setYear(this.newYear);\n                }\n              });\n    } else {\n      this.api.add('years', this.newYear)\n              .then(resp => {\n                this.setYearList();\n                this.current.setYear(resp);\n              });\n    }\n\n    // reset\n    this.reset();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {bindable} from 'aurelia-templating';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport {ApiService} from 'shared/services/apiService';\nimport moment from 'moment';\n\n@inject(ApiService, CurrentService, EventAggregator)\nexport class AddAssignment {\n  @bindable mode;\n\n  constructor(api, current, eventaggregator) {\n    this.api = api;\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  created() {\n    this.newAssignment = {date: moment().format('YYYY-MM-DD')};\n  }\n\n  bind() {\n    // Set title\n    if (this.mode === 'edit') {\n      this.title = 'Edit Assignment';\n      this.btn = 'Save Changes';\n      this.newAssignment = this.current.assignment;\n    } else {\n      this.title = 'Add Assignment';\n      this.btn = this.title;\n    }\n  }\n\n  detached() {\n    this.newAssignment = {};\n  }\n\n  submitAssignment() {\n    if (this.mode === 'edit') {\n      // Update Assignment Information\n      this.api.update('assignments', this.current.assignment.id, this.current.assignment);\n\n      // Turn off edit mode\n      this.mode = false;\n    } else {\n      // Fill in subject ID\n      this.newAssignment.subject_id = this.current.subject.id;\n\n      // Add assignment information to database\n      this.api.add('assignments', this.newAssignment)\n              .then(data => {\n                this.ea.publish('reloadAssignments');\n\n                // Clear Binds and Select\n                this.current.setAssignment(data);\n                this.mode = false;\n              });\n    }\n  }\n\n  cancel() {\n    this.mode = false;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\n\n@inject(CurrentService, EventAggregator)\nexport class AssignmentList {\n  constructor(current, eventaggregator) {\n    // Injects\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  attached() {\n    // Populate List\n    this.current.setAssignmentList();\n\n    // Set up Subscriptions\n    this.subsub = this.ea.subscribe('subjectSet', resp => this.current.setAssignmentList());\n    this.reload = this.ea.subscribe('reloadAssignments', resp => this.current.setAssignmentList());\n  }\n\n  detached() {\n    this.subsub.dispose();\n    this.reload.dispose();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\n@inject(ApiService, CurrentService, EventAggregator)\nexport class QuickEntry {\n\n  constructor(api, current, eventaggregator) {\n    // Initalize http client\n    this.api = api;\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  attached() {\n    // Initalize variables\n    this.entered = [];\n    this.notEntered = this.current.scores;\n\n    // Set Flags\n    this.isPoints = this.current.isPoints;\n    this.nameFocus = true;\n    this.scoreFocus = false;\n  }\n\n  detached() {\n    this.entered = [];\n    this.notEntered = [];\n  }\n\n  // Provides autocomplete Suggestions\n  suggestionService = {\n    suggest: value => {\n      // Check if there is any input\n      if (value === '') {\n        return Promise.resolve([]);\n      }\n      value = value.toLowerCase();\n      const suggestions = this.notEntered\n        .filter(x => x.student.first_name.toLowerCase().indexOf(value) === 0)\n        .sort();\n      return Promise.resolve(suggestions);\n    },\n\n    getName: suggestion => suggestion.student.first_name\n  };\n\n  pushScore(score) {\n    // Add to the entered list\n    this.entered.push(score);\n\n    // Remove Score from future suggestions\n    this.notEntered = this.notEntered.filter(item => item.id !== score.id);\n\n    // clear forms and reset focus\n    this.score = null;\n    this.quickPoints = null;\n    this.scoreFocus = false;\n    this.nameFocus = true;\n  }\n\n  parseKey(key) {\n    if (key === 13) {\n      // If Checks type\n      if (!this.isPoints && key === 13) {\n        this.score.value = 1;\n        this.updateScore(this.score);\n        this.pushScore(this.score);\n      }\n\n      // If Points type\n      if (this.quickPoints) {\n        this.score.value = this.quickPoints;\n        this.updateScore(this.score);\n        this.pushScore(this.score);\n      }\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    // Update Scores\n    this.api.update('scores', score.id, {'value': score.value});\n\n    // Tell the app a score has been updated\n    this.ea.publish('scoreUpdate');\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from 'shared/services/currentService';\nimport * as d3 from 'd3';\n\n@inject(CurrentService, EventAggregator)\nexport class ReportAssignment {\n  constructor(current, eventaggregator) {\n    // Initalize http client\n    this.current = current;\n    this.ea = eventaggregator;\n  }\n\n  attached() {\n    this.makePlot();\n    this.subscriber = this.ea.subscribe('scoreUpdate', resp => this.makePlot());\n  }\n\n  detached() {\n    this.subscriber.dispose();\n  }\n\n  makePlot() {\n    // Remove Any Current Plots\n    d3.select('svg').remove();\n\n    // Render proper Plot\n    if (this.current.isPoints) {\n      this.renderHistogram(this.current.scores, '#content');\n    } else {\n      this.renderDonut(this.current.scores, '#content');\n    }\n  }\n\n  renderHistogram(data, divElement) {\n    let formatCount = d3.format(',.0f');\n\n    // Height and width\n    let margin = {top: 20, right: 20, bottom: 30, left: 50};\n    let width = 500 - margin.left - margin.right;\n    let height = 300 - margin.top - margin.bottom;\n\n    // Define Plot\n    let svg = d3.select(divElement)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom);\n\n    let g = svg.append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    let x = d3.scaleLinear()\n              .range([0, width]);\n\n    if (this.current.assignment.max !== 0) {\n      x.domain([0, this.current.assignment.max]);\n    } else {\n      x.domain([0, d3.max(data, (d) => d.value)]);\n    }\n\n    let bins = d3.histogram()\n                 .value((d) => d.value)\n                 .domain(x.domain())(data);\n\n    let y = d3.scaleLinear()\n              .domain([0, d3.max(bins, (d) => d.length)])\n              .range([height, 0]);\n\n    let div = d3.select('body')\n                .append('div')\n                .attr('class', 'tooltip')\n                .style('opacity', 0);\n\n\n    let bar = g.selectAll('.bar')\n               .data(bins)\n               .enter()\n               .append('g')\n               .attr('class', 'bar')\n               .attr('transform', (d) => 'translate(' + x(d.x0) + ',' + y(d.length) + ')')\n               .on('mouseover', (d) => {\n                 div.transition()\n                    .duration(200)\n                    .style('opacity', 0.9);\n\n                 div.html(d.map(item => item.student.first_name + ': ' + item.value + '<br>').join(''))\n                    .style('left', (d3.event.pageX) + 'px')\n                    .style('top', (d3.event.pageY - 28) + 'px');\n               })\n               .on('mouseout', function(d) {\n                 div.transition()\n                    .duration(500)\n                    .style('opacity', 0);\n               });\n\n    bar.append('rect')\n        .attr('x', 1)\n        .attr('width', x(bins[0].x1) - x(bins[0].x0) - 1)\n        .attr('height', (d) => height - y(d.length));\n\n    bar.append('text')\n        .attr('dy', '.75em')\n        .attr('y', 6)\n        .attr('x', (x(bins[0].x1) - x(bins[0].x0)) / 2)\n        .attr('text-anchor', 'middle')\n        .text((d) => formatCount(d.length));\n\n    if (this.current.assignment.max !== 0) {\n      g.append('g')\n          .attr('class', 'axis axis--x')\n          .attr('transform', 'translate(0,' + height + ')')\n          .call(d3.axisBottom(x)\n              .tickFormat((d) => Math.round((d / this.current.assignment.max) * 100) + '%'));\n    } else {\n      g.append('g')\n          .attr('class', 'axis axis--x')\n          .attr('transform', 'translate(0,' + height + ')')\n          .call(d3.axisBottom(x));\n    }\n  }\n\n  renderDonut(data, divElement) {\n    // Set Up Data\n    let nestdata = d3.nest()\n                     .key((d) => d.value)\n                     .rollup((g) => {\n                       return {'count': g.length,\n                               'names': g.map(item => item.student.first_name)\n                             };\n                     })\n                     .entries(data)\n                     .map(group => {\n                       return {\n                         'group': group.key === '1' ? 'Checked' : 'Missing',\n                         'count': group.value.count,\n                         'names': group.value.names\n                       };\n                     });\n\n    // Dimensions\n    let width = 500;\n    let height = 300;\n    let radius = Math.min(width, height) / 2;\n\n    // Set up Tool tip\n    let tooltip = d3.select(divElement)\n                    .append('div')\n                    .attr('class', 'tooltip2');\n\n    tooltip.append('div').attr('class', 'label');\n    tooltip.append('div').attr('class', 'count');\n    tooltip.append('div').attr('class', 'students');\n    tooltip.append('div').attr('class', 'percent');\n\n    // Color Scale\n    let color = d3.scaleOrdinal(d3.schemeCategory10.slice(2, 4));\n    if (nestdata.length === 1 && nestdata[0].group === 'Missing') {\n      color = d3.scaleOrdinal(d3.schemeCategory10.slice(3, 4));\n    }\n\n    let svg = d3.select(divElement)\n                .append('svg')\n                .attr('width', width)\n                .attr('height', height)\n                .append('g')\n                .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n\n    let donutWidth = 50;\n\n    let arc = d3.arc()\n                .innerRadius(radius - donutWidth)\n                .outerRadius(radius);\n\n    let pie = d3.pie()\n                .value(function(d) { return d.count; })\n                .sort((a, b) => a - b);\n\n    let legendRectSize = 18;\n    let legendSpacing = 4;\n\n    let path = svg.selectAll('path')\n                  .data(pie(nestdata))\n                  .enter()\n                  .append('path')\n                  .attr('d', arc)\n                  .attr('fill', function(d, i) {\n                    return color(d.data.group);\n                  });\n\n    path.on('mouseover', function(d) {\n      let percent = Math.round(1000 * d.data.count / data.length) / 10;\n      tooltip.select('.label').html(d.data.group);\n      tooltip.select('.count').html(d.data.count);\n      tooltip.select('.students').html(d.data.names.map(name => name + '<br>').join(''));\n      tooltip.select('.percent').html(percent + '%');\n      tooltip.style('display', 'block');\n    });\n\n    path.on('mouseout', function() {\n      tooltip.style('display', 'none');\n    });\n\n    let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function(d, i) {\n                      let height2 = legendRectSize + legendSpacing;\n                      let offset =  height2 * color.domain().length / 2;\n                      let horz = -2 * legendRectSize;\n                      let vert = i * height2 - offset;\n                      return 'translate(' + horz + ',' + vert + ')';\n                    });\n\n    legend.append('rect')\n          .attr('width', legendRectSize)\n          .attr('height', legendRectSize)\n          .style('fill', color)\n          .style('stroke', color);\n\n    legend.append('text')\n          .attr('x', legendRectSize + legendSpacing)\n          .attr('y', legendRectSize - legendSpacing)\n          .text(function(d, i) { return d; });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\n@inject(ApiService, CurrentService, EventAggregator)\nexport class ScoresList {\n  constructor(api, current, eventaggregator) {\n    // Initalize http client\n    this.api = api;\n    this.ea = eventaggregator;\n    this.current = current;\n\n    // Initalize variables\n    this.editScoreId = null;\n  }\n\n  editScore(score) {\n    if (this.current.isPoints) {\n      this.editScoreId = score.id;\n      this.editFocus = true;\n    } else {\n      score.value = 1 - score.value;\n      this.updateScore(score);\n    }\n  }\n\n  deFocus(key) {\n    if (key === 13) {\n      this.editFocus = false;\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    // Update Scores\n    this.api.update('scores', score.id, {'value': score.value});\n\n    // Update Current Scores\n    this.ea.publish('scoreUpdate');\n\n    // Reset edit\n    this.editScoreId = null;\n  }\n}\n","import {bindingMode, observable} from 'aurelia-binding';\nimport {bindable} from 'aurelia-templating';\nimport {inject} from 'aurelia-dependency-injection';\nimport {DOM} from 'aurelia-pal';\n\nlet nextID = 0;\n\n@inject(Element)\nexport class Autocomplete {\n  @bindable service;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) value;\n  @bindable placeholder = '';\n  @bindable delay = 300;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) nameFocus;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) scoreFocus;\n  @bindable isPoints;\n  @bindable checks;\n  id = nextID++;\n  expanded = false;\n  @observable inputValue = '';\n  updatingInput = false;\n  suggestions = [];\n  index = -1;\n  suggestionsUL = null;\n  userInput = '';\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  display(name) {\n    this.updatingInput = true;\n    this.inputValue = name;\n    this.updatingInput = false;\n  }\n\n  getName(suggestion) {\n    if (suggestion == null) {\n      return '';\n    }\n    return this.service.getName(suggestion);\n  }\n\n  collapse() {\n    this.expanded = false;\n    this.index = -1;\n  }\n\n  select(suggestion, notify) {\n    this.value = suggestion;\n    const name = this.getName(this.value);\n    this.userInput = name;\n    this.display(name);\n    this.collapse();\n    if (notify) {\n      const event = DOM.createCustomEvent('change', { bubbles: true });\n      event.value = suggestion;\n      event.autocomplete = this;\n      this.element.dispatchEvent(event);\n    }\n  }\n\n  valueChanged() {\n    this.select(this.value, false);\n  }\n\n  inputValueChanged(value) {\n    if (this.updatingInput) {\n      return;\n    }\n    this.userInput = value;\n    if (value === '') {\n      this.value = null;\n      this.collapse();\n      return;\n    }\n    this.service.suggest(value)\n      .then(suggestions => {\n        this.index = -1;\n        this.suggestions.splice(0, this.suggestions.length, ...suggestions);\n        if (suggestions.length === 1 && suggestions[0].student.first_name !== this.value) {\n          this.select(suggestions[0], true);\n        } else if (suggestions.length === 0) {\n          this.collapse();\n        } else {\n          this.expanded = true;\n        }\n      });\n  }\n\n  scroll() {\n    const ul = this.suggestionsUL;\n    const li = ul.children.item(this.index === -1 ? 0 : this.index);\n    if (li.offsetTop + li.offsetHeight > ul.offsetHeight) {\n      ul.scrollTop += li.offsetHeight;\n    } else if (li.offsetTop < ul.scrollTop) {\n      ul.scrollTop = li.offsetTop;\n    }\n  }\n\n  keydown(key) {\n    if (!this.expanded) {\n      if (key === 13) {\n        if (this.isPoints) {\n          this.nameFocus = false;\n          this.scoreFocus = true;\n        } else {\n          this.checks({key: key});\n        }\n      }\n      return true;\n    }\n\n    // down\n    if (key === 40) {\n      if (this.index < this.suggestions.length - 1) {\n        this.index++;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // up\n    if (key === 38) {\n      if (this.index === -1) {\n        this.index = this.suggestions.length - 1;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else if (this.index > 0) {\n        this.index--;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // escape\n    if (key === 27) {\n      this.display(this.userInput);\n      this.collapse();\n      return;\n    }\n\n    // enter\n    if (key === 13) {\n      if (this.index >= 0) {\n        this.select(this.suggestions[this.index], true);\n      }\n      this.quickNameFocus = false;\n      this.quickScoreFocus = true;\n      return;\n    }\n\n    return true;\n  }\n\n  blur() {\n    this.select(this.value, false);\n    this.element.dispatchEvent(DOM.createCustomEvent('blur'));\n  }\n\n  suggestionClicked(suggestion) {\n    this.select(suggestion, true);\n  }\n\n  focus() {\n    this.element.firstElementChild.focus();\n  }\n}\n\n// aria-activedescendant\n// https://webaccessibility.withgoogle.com/unit?unit=6&lesson=13\n// https://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n// https://www.w3.org/TR/wai-aria/roles#combobox\n","import {bindable, inject} from 'aurelia-framework';\nimport * as d3 from 'd3';\n\n@inject(Element)\nexport class TimePlotCustomAttribute {\n  @bindable scores;\n  @bindable type;\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  bind() {\n    this.timePlot(this.scores, this.type);\n  }\n\n  timePlot(data, type) {\n    // set the dimensions and margins of the graph\n    let margin = {top: 20, right: 20, bottom: 50, left: 50};\n    let width = 320 - margin.left - margin.right;\n    let height = 200 - margin.top - margin.bottom;\n\n    // parse the date / time\n    let parseTime = d3.timeParse('%Y-%m-%d');\n\n    // set the ranges\n    let x = d3.scaleTime().range([0, width]);\n    let y = d3.scaleLinear().range([height, 0]);\n\n    // define the line\n    let valueline = d3.line().x(d => x(d.assignment.date));\n\n    if (type === 'Points') {\n      valueline = valueline.y(d => y(Math.round((d.value / d.assignment.max) * 100)));\n    } else if (type === 'Checks') {\n      let _movingSum = 0;\n      valueline = valueline.y((d, i) => {\n        _movingSum += d.value;\n        return y(_movingSum / (i + 1));\n      });\n    }\n\n    // append the svg obgect\n    let svg = d3.select(this.element)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // Format the data\n    data = data.filter(d => d.assignment.type === type);\n    data.forEach(d => d.assignment.date = parseTime(d.assignment.date));\n\n    // Scale the range of the data\n    x.domain(d3.extent(data, d => d.assignment.date));\n    if (type === 'Points') {\n      y.domain([0, 100]);\n    } else {\n      y.domain([0, 1]);\n    }\n\n    // Add the valueline path.\n    svg.append('path')\n        .data([data])\n        .attr('class', 'line')\n        .attr('d', valueline);\n\n    // Add the X Axis\n    svg.append('g')\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(d3.axisBottom(x).tickFormat(d3.timeFormat('%m/%d')).ticks(data.length));\n\n    // Add the Y Axis\n    svg.append('g')\n       .call(d3.axisLeft(y));\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {CurrentService} from '../../shared/services/currentService';\nimport {ApiService} from '../../shared/services/apiService';\n\nimport moment from 'moment';\n\n@inject(CurrentService, ApiService)\nexport class StudentReport {\n  constructor(current, api) {\n    this.current = current;\n    this.api = api;\n  }\n\n  attached() {\n    this.setStudentList();\n    this.selected = {'start': this.current.year.first_day, 'end': moment().format('YYYY-MM-DD')};\n    this.reportGenerated = false;\n  }\n\n  setStudentList() {\n    let query = {\n      filters: [{'name': 'year_id', 'op': 'eq', 'val': this.current.year.id}],\n      order_by: [{'field': 'first_name', 'direction': 'asc'}]\n    };\n\n    this.api.find('students', query)\n            .then(data => this.students = data.objects);\n  }\n\n  generate() {\n    this.reportGenerated = false;\n\n    let query = {\n      filters: [{'name': 'student_id', 'op': 'eq', 'val': this.selected.student.id},\n                {'name': 'assignment', 'op': 'has', 'val': {\n                  'name': 'date', 'op': 'ge', 'val': this.selected.start}},\n                  {'name': 'assignment', 'op': 'has', 'val': {\n                    'name': 'date', 'op': 'le', 'val': this.selected.end}}],\n      order_by: [{'field': 'assignment__date', 'direction': 'asc'}]\n    };\n\n    // Get data\n    this.api.find('scores', query)\n            .then(data => {\n              this.scores = data.objects;\n              this.reportGenerated = true;\n            });\n  }\n}\n","export class scoreFilterValueConverter {\n  toView(scores, subjectid) {\n    return scores.filter(score => score.assignment.subject_id === subjectid);\n  }\n}\n","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value, format) {\n    return moment(value).format(format);\n  }\n}\n","export class ScoreFormatValueConverter {\n  toView(score, meta) {\n    if (meta.type === 'Checks') {\n      return this.checks(score);\n    } else if (meta.type === 'Points' & meta.max !== 0) {\n      return this.percent(score, meta);\n    }\n\n    return score;\n  }\n\n  checks(score) {\n    if (score === 1) {\n      return '<i class=\"fa fa-check-circle-o fa-2x\" aria-hidden=\"true\"></i>';\n    }\n\n    return '<i class=\"fa fa-circle-o fa-2x\" aria-hidden=\"true\"></i>';\n  }\n\n  percent(score, meta) {\n    return `${Math.round((score / meta.max) * 100)}%`;\n  }\n}\n","import {HttpClient} from 'aurelia-http-client';\nimport {inject} from 'aurelia-framework';\n\n@inject(HttpClient)\nexport class ApiService {\n  constructor(http) {\n    // Configure client\n    http.configure(config => {\n      config\n        .withBaseUrl('http://localhost:5000/api/')\n        .withInterceptor({\n          response(message) {\n            if (message.statusCode !== 204) {\n              return JSON.parse(message.response);\n            }\n          }\n        });\n    });\n\n    // Set\n    this.http = http;\n  }\n\n  find(source, query) {\n    let req = this.http.createRequest(source).asGet();\n\n    if (query) {\n      req = req.withParams({q: JSON.stringify(query)});\n    }\n\n    return req.send();\n  }\n\n  update(source, id, newvals) {\n    return this.http.createRequest(source + '/' + id)\n                    .asPut()\n                    .withContent(newvals)\n                    .send();\n  }\n\n  add(source, newitem) {\n    return this.http.createRequest(source)\n                    .asPost()\n                    .withContent(newitem)\n                    .send();\n  }\n\n  delete(source, id) {\n    return this.http.createRequest(source + '/' + id)\n                    .asDelete()\n                    .send();\n  }\n}\n","import {EventAggregator} from 'aurelia-event-aggregator';\nimport {ApiService} from './apiService';\nimport {inject} from 'aurelia-framework';\n\n@inject(ApiService, EventAggregator)\nexport class CurrentService {\n  constructor(api, eventaggregator) {\n    // Injects\n    this.api = api;\n    this.ea = eventaggregator;\n\n    this.subjectList = [];\n\n    // Check for year\n    this.year = JSON.parse(localStorage.getItem('currentYear'));\n  }\n\n  // Subject Methods\n  setSubjectList() {\n    // Define Query\n    let query = {\n      filters: [{'name': 'year_id', 'op': 'eq', 'val': this.year.id}]\n    };\n\n    this.api.find('subjects', query)\n            .then(data => this.subjectList = data.objects);\n  }\n\n  setSubject(subject) {\n    this.subject = subject;\n    this.clearAssignment();\n    this.ea.publish('subjectSet');\n  }\n\n  // Assignment Methods\n  setAssignmentList() {\n    // Define Query\n    let query = {\n      filters: [{'name': 'subject_id', 'op': 'eq', 'val': this.subject.id}],\n      order_by: [{'field': 'date', 'direction': 'desc'}]\n    };\n\n    // Request\n    this.api.find('assignments', query)\n            .then(data => this.assignmentList = data.objects);\n  }\n\n  setAssignment(assignment) {\n    this.assignment = assignment;\n    this.isPoints = assignment.type === 'Points';\n    this.setScores(assignment.id);\n  }\n\n  clearAssignment() {\n    this.assignment = false;\n    this.scores = false;\n  }\n\n  // Scores Methods\n  setScores(assignId) {\n    // Filter Object\n    let query = {\n      filters: [{'name': 'assignment_id', 'op': 'eq', 'val': assignId}],\n      order_by: [{'field': 'student__first_name', 'direction': 'asc'}]\n    };\n\n    // Get Data\n    this.api.find('scores', query)\n            .then(data => {\n              this.scores = data.objects;\n              this.ea.publish('scoreUpdate');\n            });\n  }\n\n  // Years Methods\n  setYear(year) {\n    this.year = year;\n    localStorage.setItem('currentYear', JSON.stringify(year));\n\n    // Clear Data of old year\n    this.clearAssignment();\n    this.subjectList = [];\n    this.assignmentList = [];\n  }\n}\n"],"sourceRoot":".."}