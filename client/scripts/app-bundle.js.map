{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/gradebook/index.js","src/resources/autocomplete.js","src/resources/index.js","src/gradebook/components/addAssignment.js","src/gradebook/components/assignmentlist.js","src/gradebook/components/quickEntry.js","src/gradebook/components/reportAssignment.js","src/gradebook/components/scoresList.js","src/gradebook/converters/score-format.js","src/gradebook/services/assignmentService.js"],"names":["App","configureRouter","config","router","title","map","route","redirect","moduleId","nav","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","GradeBook","assignment","http","subjectSelected","assignmentSelected","quickEntry","addingAssignment","editingAssignment","reloadAssignmentsFlag","created","get","subjects","JSON","parse","data","response","objects","addAssignment","clearAssignment","editAssignment","deleteAssignment","confirmed","confirm","name","createRequest","id","asDelete","send","reloadAssignments","resp","selectSubject","subject","selectAssignment","setAssignment","toggleQuick","nextID","Autocomplete","Element","defaultBindingMode","twoWay","element","expanded","updatingInput","suggestions","index","suggestionsUL","userInput","display","inputValue","getName","suggestion","service","collapse","select","notify","value","event","createCustomEvent","bubbles","autocomplete","dispatchEvent","valueChanged","inputValueChanged","suggest","splice","length","studref","first_name","scroll","ul","li","children","item","offsetTop","offsetHeight","scrollTop","keydown","key","isPoints","nameFocus","scoreFocus","checks","quickNameFocus","quickScoreFocus","blur","suggestionClicked","focus","firstElementChild","AddAssignment","bind","edit","btn","submitAssignment","asPut","withContent","subjid","asPost","cancelEdit","AssignmentList","selectedId","subjectChanged","getAssignments","reloadChanged","qobj","filters","order_by","asGet","withParams","q","stringify","assignments","chooseAssignment","QuickEntry","suggestionService","Promise","resolve","toLowerCase","notEntered","filter","x","indexOf","sort","entered","getScores","type","detached","pushScore","score","push","quickPoints","parseKey","updateScore","d3","ReportAssignment","bindingengine","attached","remove","preProcessData","scores","renderHistogram","render","divElement","console","log","margin","top","right","bottom","left","width","height","svg","append","attr","scaleLinear","range","domain","y","selectAll","enter","d","call","axisBottom","axisLeft","formatCount","format","g","meta","max","bins","histogram","div","style","bar","x0","on","transition","duration","html","pageX","pageY","x1","text","tickFormat","Math","round","ScoresList","editScoreId","editScore","editFocus","deFocus","flagNew","ScoreFormatValueConverter","toView","assignInfo","AssignmentService","newScores","scoresLoaded","setScores","assignId"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    config.title = 'Marks';\n    config.map([\n      { route: '', redirect: 'gradebook' },\n      { route: 'gradebook', moduleId: './gradebook/index', nav: 1, title: 'Gradebook'},\n      { route: 'admin',  moduleId: 'admin', nav: 2, title: 'Administration'}\n    ]);\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {AssignmentService} from './services/assignmentService';\n\n@inject(AssignmentService, HttpClient)\nexport class GradeBook {\n  constructor(assignment, http) {\n    // Data Holders\n    this.assignment = assignment;\n    this.http = http;\n\n    // Initalize Selection Indicators\n    this.subjectSelected = false;\n    this.assignmentSelected = false;\n    this.quickEntry = false;\n    this.addingAssignment = false;\n    this.editingAssignment = false;\n    this.reloadAssignmentsFlag = false;\n  }\n\n  created() {\n    // Get subjects\n    this.http.get('http://localhost:5000/api/subjects').then(data => {\n      this.subjects = JSON.parse(data.response).objects;\n    });\n  }\n\n  addAssignment() {\n    // Flip on add assignment dialog\n    this.assignmentSelected = false;\n    this.assignment.clearAssignment();\n    this.addingAssignment = true;\n  }\n\n  editAssignment(assignment) {\n    this.editingAssignment = true;\n  }\n\n  deleteAssignment(assignment) {\n    // Confirm with User\n    let confirmed = confirm('Are you sure you want to delete ' + assignment.name + '?');\n\n    // If confirmed, delete from database\n    if (confirmed) {\n      this.http.createRequest('http://localhost:5000/api/assignments/' + assignment.id)\n        .asDelete()\n        .send()\n        .then(resp => this.reloadAssignments(resp.response));\n\n      // Reset assignment selection\n      this.assignmentSelected = false;\n    }\n  }\n\n  selectSubject(subject) {\n    // Tell the rest of the app which subject is selected.\n    this.subjectSelected = subject;\n    this.assignmentSelected = false;  // Reset assignment when switching subs\n    this.addingAssignment = false;\n  }\n\n  selectAssignment(assignment) {\n    // Clear Current\n    this.assignmentSelected = false;\n    this.assignment.clearAssignment();\n\n    // Set Assignment\n    this.assignment.setAssignment(assignment);\n    this.assignmentSelected = true;\n  }\n\n  reloadAssignments(assignment) {\n    this.reloadAssignmentsFlag = !this.reloadAssignmentsFlag;\n    this.addingAssignment = false;  // Turn off add assignment\n    this.editingAssignment = false;\n    // this.selectAssignment(assignment);\n  }\n\n  toggleQuick() {\n    this.quickEntry = !this.quickEntry;\n  }\n}\n","import {bindingMode, observable} from 'aurelia-binding';\nimport {bindable} from 'aurelia-templating';\nimport {inject} from 'aurelia-dependency-injection';\nimport {DOM} from 'aurelia-pal';\n\nlet nextID = 0;\n\n@inject(Element)\nexport class Autocomplete {\n  @bindable service;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) value;\n  @bindable placeholder = '';\n  @bindable delay = 300;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) nameFocus;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) scoreFocus;\n  @bindable isPoints;\n  @bindable checks;\n  id = nextID++;\n  expanded = false;\n  @observable inputValue = '';\n  updatingInput = false;\n  suggestions = [];\n  index = -1;\n  suggestionsUL = null;\n  userInput = '';\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  display(name) {\n    this.updatingInput = true;\n    this.inputValue = name;\n    this.updatingInput = false;\n  }\n\n  getName(suggestion) {\n    if (suggestion == null) {\n      return '';\n    }\n    return this.service.getName(suggestion);\n  }\n\n  collapse() {\n    this.expanded = false;\n    this.index = -1;\n  }\n\n  select(suggestion, notify) {\n    this.value = suggestion;\n    const name = this.getName(this.value);\n    this.userInput = name;\n    this.display(name);\n    this.collapse();\n    if (notify) {\n      const event = DOM.createCustomEvent('change', { bubbles: true });\n      event.value = suggestion;\n      event.autocomplete = this;\n      this.element.dispatchEvent(event);\n    }\n  }\n\n  valueChanged() {\n    this.select(this.value, false);\n  }\n\n  inputValueChanged(value) {\n    if (this.updatingInput) {\n      return;\n    }\n    this.userInput = value;\n    if (value === '') {\n      this.value = null;\n      this.collapse();\n      return;\n    }\n    this.service.suggest(value)\n      .then(suggestions => {\n        this.index = -1;\n        this.suggestions.splice(0, this.suggestions.length, ...suggestions);\n        if (suggestions.length === 1 && suggestions[0].studref.first_name !== this.value) {\n          this.select(suggestions[0], true);\n        } else if (suggestions.length === 0) {\n          this.collapse();\n        } else {\n          this.expanded = true;\n        }\n      });\n  }\n\n  scroll() {\n    const ul = this.suggestionsUL;\n    const li = ul.children.item(this.index === -1 ? 0 : this.index);\n    if (li.offsetTop + li.offsetHeight > ul.offsetHeight) {\n      ul.scrollTop += li.offsetHeight;\n    } else if (li.offsetTop < ul.scrollTop) {\n      ul.scrollTop = li.offsetTop;\n    }\n  }\n\n  keydown(key) {\n    if (!this.expanded) {\n      if (key === 13) {\n        if (this.isPoints) {\n          this.nameFocus = false;\n          this.scoreFocus = true;\n        } else {\n          this.checks({key: key});\n        }\n      }\n      return true;\n    }\n\n    // down\n    if (key === 40) {\n      if (this.index < this.suggestions.length - 1) {\n        this.index++;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // up\n    if (key === 38) {\n      if (this.index === -1) {\n        this.index = this.suggestions.length - 1;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else if (this.index > 0) {\n        this.index--;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // escape\n    if (key === 27) {\n      this.display(this.userInput);\n      this.collapse();\n      return;\n    }\n\n    // enter\n    if (key === 13) {\n      if (this.index >= 0) {\n        this.select(this.suggestions[this.index], true);\n      }\n      this.quickNameFocus = false;\n      this.quickScoreFocus = true;\n      return;\n    }\n\n    return true;\n  }\n\n  blur() {\n    this.select(this.value, false);\n    this.element.dispatchEvent(DOM.createCustomEvent('blur'));\n  }\n\n  suggestionClicked(suggestion) {\n    this.select(suggestion, true);\n  }\n\n  focus() {\n    this.element.firstElementChild.focus();\n  }\n}\n\n// aria-activedescendant\n// https://webaccessibility.withgoogle.com/unit?unit=6&lesson=13\n// https://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n// https://www.w3.org/TR/wai-aria/roles#combobox\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\n\n@inject(HttpClient)\nexport class AddAssignment {\n  @bindable subject;\n  @bindable edit;\n  @bindable reloadAssignments;\n\n  constructor(http) {\n    this.http = http;\n    this.assignment = {};\n  }\n\n  bind() {\n    // Set title\n    if (this.edit) {\n      this.title = 'Edit Assignment';\n      this.btn = 'Save Changes'\n      this.assignment = this.edit;\n    } else {\n      this.title = 'Add Assignment';\n      this.btn = this.title;\n    }\n  }\n\n  submitAssignment() {\n    if (this.edit) {\n      // Update Assignment Information\n      this.http.createRequest('http://localhost:5000/api/assignments/' + this.assignment.id)\n        .asPut()\n        .withContent(this.assignment)\n        .send()\n        .then(resp => this.reloadAssignments({assignment: resp.response}));\n    } else {\n      // Fill in subject id\n      this.assignment.subjid = this.subject.id;\n\n      // Add assignment information to database\n      this.http.createRequest('http://localhost:5000/api/assignments')\n        .asPost()\n        .withContent(this.assignment)\n        .send()\n        .then(resp => this.reloadAssignments({assignment: resp.response}));\n\n      // Clear Binds\n      this.assignment = {};\n    }\n  }\n\n  cancelEdit() {\n    this.reloadAssignments();\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\n\n@inject(HttpClient)\nexport class AssignmentList {\n  @bindable subject;\n  @bindable reload;\n  @bindable selectAssignment;\n\n  constructor(http) {\n    // Initalize http client\n    this.http = http;\n\n    // Initalize Selection Indicators\n    this.selectedId = false;\n  }\n\n  subjectChanged() {\n    this.getAssignments(this.subject);\n    this.selectedId = false;\n  }\n\n  reloadChanged() {\n    this.getAssignments(this.subject);\n  }\n\n  getAssignments(subject) {\n    // Filter object\n    let qobj = {\n      filters: [{'name': 'subjid', 'op': 'eq', 'val': subject.id}],\n      order_by: [{'field': 'date', 'direction': 'desc'}]\n    };\n\n    // Request Assignments\n    this.http.createRequest('http://localhost:5000/api/assignments')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.assignments = JSON.parse(data.response).objects;\n      });\n  }\n\n  chooseAssignment(assignment) {\n    this.selectedId = assignment.id;\n    this.selectAssignment({assignment: assignment});\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\n\n@inject(HttpClient)\nexport class QuickEntry {\n  @bindable assignment;\n\n  constructor(http) {\n    // Initalize http client\n    this.http = http;\n\n    // Initalize variables\n    this.entered = [];\n  }\n\n  bind() {\n    this.getScores(this.assignment);\n    this.isPoints = this.assignment.type === 'Points';\n    this.nameFocus = true;\n    this.scoreFocus = false;\n  }\n\n  detached() {\n    this.entered = [];\n  }\n\n  // Provides autocomplete Suggestions\n  suggestionService = {\n    suggest: value => {\n      // Check if there is any input\n      if (value === '') {\n        return Promise.resolve([]);\n      }\n      value = value.toLowerCase();\n      const suggestions = this.notEntered\n        .filter(x => x.studref.first_name.toLowerCase().indexOf(value) === 0)\n        .sort();\n      return Promise.resolve(suggestions);\n    },\n\n    getName: suggestion => suggestion.studref.first_name\n  };\n\n  getScores(assignment) {\n    // Filter Object\n    let qobj = {\n      filters: [{'name': 'assignid', 'op': 'eq', 'val': assignment.id}],\n      order_by: [{'field': 'studref__first_name', 'direction': 'asc'}]\n    };\n\n    // Get Data\n    this.http.createRequest('http://localhost:5000/api/scores')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.notEntered = JSON.parse(data.response).objects;\n      });\n  }\n\n  pushScore(score) {\n    // Add to the entered list\n    this.entered.push(score);\n\n    // Remove Score from future suggestions\n    this.notEntered = this.notEntered.filter(item => item.id !== score.id);\n\n    // clear forms and reset focus\n    this.score = null;\n    this.quickPoints = null;\n    this.scoreFocus = false;\n    this.nameFocus = true;\n  }\n\n  parseKey(key) {\n    if (key === 13) {\n      // If Checks type\n      if (!this.isPoints && key === 13) {\n        this.score.value = 1;\n        this.updateScore(this.score);\n        this.pushScore(this.score);\n      }\n\n      // If Points type\n      if (this.quickPoints) {\n        this.score.value = this.quickPoints;\n        this.updateScore(this.score);\n        this.pushScore(this.score);\n      }\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    this.http.createRequest('http://localhost:5000/api/scores/' + score.id)\n      .asPut()\n      .withContent({'value': score.value})\n      .send();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\nimport {BindingEngine} from 'aurelia-framework';\nimport {AssignmentService} from '../services/assignmentService';\nimport * as d3 from 'd3';\n\n@inject(HttpClient, AssignmentService, BindingEngine)\nexport class ReportAssignment {\n  @bindable reload;\n\n  constructor(http, assignment, bindingengine) {\n    // Initalize http client\n    this.http = http;\n    this.assignment = assignment;\n    this.bindingengine = bindingengine;\n  }\n\n  attached() {\n    d3.select('svg').remove();\n    this.preProcessData(this.assignment.scores);\n    this.renderHistogram(this.assignment.scores, '#content');\n    // this.subscription = this.bindingengine.propertyObserver(this.assignment, 'newScores').subscribe(console.log(\"Change\"));\n  }\n\n  reloadChanged() {\n    // Make New Chat\n    this.attached();\n  }\n\n  preProcessData(data) {\n    return data;\n  }\n\n  render(data, divElement) {\n    console.log(data);\n    data = this.preProcessData(data);\n\n    // Height and width\n    let margin = {top: 20, right: 20, bottom: 30, left: 50};\n    let width = 500 - margin.left - margin.right;\n    let height = 400 - margin.top - margin.bottom;\n\n    // Define Plot\n    let svg = d3.select(divElement)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    //Axes\n    let x = d3.scaleLinear()\n              .range([0, width])\n              .domain([0, 40]);\n\n    let y = d3.scaleLinear()\n              .range([height, 0])\n              .domain([0, 40]);\n\n    // // Scale the range of the data\n    // x.domain(d3.extent(data, function(d) { return d.stuid; }));\n    // y.domain([0, d3.max(data, function(d) { return d.value; })]);\n\n    // Add the scatter\n    svg.selectAll('dot')\n       .data(data)\n       .enter()\n       .append('circle')\n       .attr('r', 10)\n       .attr('cx', (d) => x(d.value))\n       .attr('cy', (d) => y(d.value));\n\n    // Add the Axes\n    svg.append('g').attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x));\n    svg.append('g').call(d3.axisLeft(y));\n  }\n\n  renderHistogram(data, divElement) {\n    let formatCount = d3.format(',.0f');\n\n    // Height and width\n    let margin = {top: 20, right: 20, bottom: 30, left: 50};\n    let width = 500 - margin.left - margin.right;\n    let height = 300 - margin.top - margin.bottom;\n\n    // Define Plot\n    let svg = d3.select(divElement)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom);\n\n    let g = svg.append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    let x = d3.scaleLinear()\n              .domain([0, this.assignment.meta.max])\n              .range([0, width]);\n\n    let bins = d3.histogram()\n                 .value((d) => d.value)\n                 .domain(x.domain())\n                 (data);\n    console.log(bins);\n\n    let y = d3.scaleLinear()\n              .domain([0, d3.max(bins, (d) => d.length)])\n              .range([height, 0]);\n\n    var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n\n\n    let bar = g.selectAll('.bar')\n               .data(bins)\n               .enter()\n               .append('g')\n               .attr('class', 'bar')\n               .attr('transform', (d) => 'translate(' + x(d.x0) + ',' + y(d.length) + ')')\n               .on(\"mouseover\", (d) => {\n                  div.transition()\n                     .duration(200)\n                     .style(\"opacity\", .9);\n\n                  div.html(d.map(item => item.studref.first_name + ': ' + item.value + '<br>'))\n                  .style(\"left\", (d3.event.pageX) + \"px\")\n                  .style(\"top\", (d3.event.pageY - 28) + \"px\");\n                })\n               .on(\"mouseout\", function(d) {\n                 div.transition()\n                .duration(500)\n                .style(\"opacity\", 0);\n                });\n\n\n\n    bar.append('rect')\n        .attr('x', 1)\n        .attr('width', x(bins[0].x1) - x(bins[0].x0) - 1)\n        .attr('height', (d) => height - y(d.length));\n\n    bar.append('text')\n        .attr('dy', '.75em')\n        .attr('y', 6)\n        .attr('x', (x(bins[0].x1) - x(bins[0].x0)) / 2)\n        .attr('text-anchor', 'middle')\n        .text((d) => formatCount(d.length));\n\n    g.append('g')\n        .attr('class', 'axis axis--x')\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(d3.axisBottom(x)\n                .tickFormat((d) => Math.round((d / this.assignment.meta.max) * 100) + '%')\n                );\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {AssignmentService} from '../services/assignmentService';\n\n@inject(HttpClient, AssignmentService)\nexport class ScoresList {\n  constructor(http, assignment) {\n    // Initalize http client\n    this.http = http;\n    this.assignment = assignment;\n\n    // Initalize variables\n    this.editScoreId = null;\n  }\n\n  editScore(score) {\n    if (this.assignment.isPoints) {\n      this.editScoreId = score.id;\n      this.editFocus = true;\n    } else {\n      score.value = 1 - score.value;\n      this.updateScore(score);\n    }\n  }\n\n  deFocus(key) {\n    if (key === 13) {\n      this.editFocus = false;\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    this.http.createRequest('http://localhost:5000/api/scores/' + score.id)\n      .asPut()\n      .withContent({'value': score.value})\n      .send();\n\n    // Update Current Scores\n    this.assignment.flagNew();\n\n    // Reset edit\n    this.editScoreId = null;\n  }\n}\n","export class ScoreFormatValueConverter {\n  toView(value, assignInfo) {\n    if (assignInfo.type === 'Points') {\n      return `${Math.round((value / assignInfo.max) * 100)}%`\n    }\n  }\n}\n","import {HttpClient} from 'aurelia-http-client';\nimport {inject} from 'aurelia-framework';\n\n@inject(HttpClient)\nexport class AssignmentService {\n  constructor(http) {\n    // Injects\n    this.http = http;\n\n    // Data Holders\n    this.meta = {};\n    this.scores = [];\n\n    // Initalize Flags\n    this.newScores = false;\n    this.scoresLoaded = false;\n  }\n\n  setAssignment(assignment) {\n    this.meta = assignment;\n    this.scoresLoaded = false;\n    this.isPoints = assignment.type === 'Points';\n    this.setScores(assignment.id);\n  }\n\n  clearAssignment() {\n    this.meta = {};\n    this.scores = [];\n    this.scoresLoaded = false;\n  }\n\n  setScores(assignId) {\n    // Filter Object\n    let qobj = {\n      filters: [{'name': 'assignid', 'op': 'eq', 'val': assignId}],\n      order_by: [{'field': 'studref__first_name', 'direction': 'asc'}]\n    };\n\n    // Get Data\n    this.http.createRequest('http://localhost:5000/api/scores')\n             .asGet()\n             .withParams({q: JSON.stringify(qobj)})\n             .send()\n             .then(data => {\n               this.scores = JSON.parse(data.response).objects;\n               this.scoresLoaded = true;\n             });\n  }\n\n  flagNew() {\n    this.newScores = !this.newScores;\n  }\n}\n"],"sourceRoot":".."}