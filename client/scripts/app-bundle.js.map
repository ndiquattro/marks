{"version":3,"sources":["src/app.js","src/assignmentlist.js","src/environment.js","src/gradebook.js","src/main.js","src/subjectlist.js","src/converters/score-format.js","src/resources/autocomplete.js","src/resources/index.js"],"names":["App","configureRouter","config","router","title","map","route","redirect","moduleId","nav","AssignmentList","http","assignments","activate","curSub","console","log","created","get","then","JSON","parse","data","response","debug","testing","gradebook","suggestionService","suggest","value","Promise","resolve","toLowerCase","suggestions","notEntered","filter","x","studref","first_name","indexOf","sort","getName","suggestion","subjects","scores","editScoreId","entered","quickmode","quickNameFocus","quickScoreFocus","quickPoints","objects","getAssignments","id","qobj","filters","order_by","createRequest","asGet","withParams","q","stringify","send","assignmentMeta","getScores","assref","editScore","score","type","editFocus","updateScore","key","asPut","withContent","toggleQuick","quickUpdate","quickName","push","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","SubjectList","select","contact","selectedId","ScoreFormatValueConverter","toView","assignInfo","Math","round","max","nextID","Autocomplete","Element","defaultBindingMode","twoWay","element","expanded","updatingInput","index","suggestionsUL","userInput","display","name","inputValue","service","collapse","notify","event","createCustomEvent","bubbles","autocomplete","dispatchEvent","valueChanged","inputValueChanged","splice","length","scroll","ul","li","children","item","offsetTop","offsetHeight","scrollTop","keydown","assmType","checks","blur","suggestionClicked","focus","firstElementChild"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router){\n    config.title = 'Marks';\n    config.map([\n      { route: '', redirect: 'gradebook' },\n      { route: 'gradebook', moduleId: 'gradebook', nav: 1, title: 'Gradebook'},\n      { route: 'admin',  moduleId: 'admin', nav: 2, title: 'Administration'}\n    ]);\n\n    this.router = router;\n  }\n}\n","import {HttpClient} from 'aurelia-http-client';\nimport {bindable} from \"aurelia-framework\";\n\nexport class AssignmentList {\n  @bindable curSub;\n\n  constructor() {\n    this.http = new HttpClient();\n    this.assignments = [];\n  }\n\n  activate(curSub){\n    this.assignments = [curSub, curSub];\n    console.log(curSub);\n  }\n\n    created() {\n      this.http.get('http://localhost:5000/api/assignments').then(data => {\n        // this.assignments = JSON.parse(data.response).objects;\n        this.assignments = JSON.parse(data.response);\n    });\n    };\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import {HttpClient} from 'aurelia-http-client';\n\nexport class gradebook {\n  constructor() {\n    this.http = new HttpClient();\n    this.subjects = [];\n    this.assignments = null;\n    this.scores = null;\n    this.editScoreId = null;\n\n    // Quick Entry Mode\n    this.entered = [];\n    this.quickmode = false;\n    this.quickNameFocus = true;\n    this.quickScoreFocus = false;\n    this.quickPoints = null;\n  }\n\n  created() {\n    // Get subjects\n    this.http.get('http://localhost:5000/api/subjects').then(data => {\n      this.subjects = JSON.parse(data.response).objects;\n    });\n  }\n\n  getAssignments(id) {\n    // Filter object\n    var qobj = {\n      filters: [{\"name\": \"subjid\", \"op\": \"eq\", \"val\": id}],\n      order_by: [{\"field\": \"date\", \"direction\": \"desc\"}]\n    };\n\n    // Get Assignments\n    this.http.createRequest('http://localhost:5000/api/assignments')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.assignments = JSON.parse(data.response).objects;\n      });\n\n    // Reset Scores\n    this.scores = null;\n    this.assignmentMeta = null;\n  }\n\n  getScores(id) {\n    // Filter Object\n    var qobj = {\n      filters: [{\"name\": \"assignid\", \"op\": \"eq\", \"val\": id}],\n      order_by: [{\"field\": \"studref__first_name\", \"direction\": \"asc\"}]\n    }\n\n    // Get Data\n    this.http.createRequest('http://localhost:5000/api/scores')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.scores = JSON.parse(data.response).objects;\n        this.assignmentMeta = this.scores[0].assref;\n      });\n  }\n\n  editScore(score) {\n    if (this.assignmentMeta.type === 'Points') {\n      this.editScoreId = score.id;\n      this.editFocus = true;\n    } else {\n      score.value = 1 - score.value\n      this.updateScore('blurred', score.id, score.value)\n    }\n  }\n\n  updateScore(key, id, value) {\n    if(key === 13 || key === 'blurred') {\n      this.http.createRequest('http://localhost:5000/api/scores/' + id)\n        .asPut()\n        .withContent({\"value\": value})\n        .send()\n\n      // Reset edits\n      this.editScoreId = null;\n    }\n    // Return True for non-enter key presses\n    return true;\n  }\n\n  toggleQuick() {\n    this.quickmode = !this.quickmode;\n    if (this.quickmode) {\n      // this.notEntered = this.scores.map(score => score.studref.first_name);\n      this.notEntered = this.scores\n    }\n  }\n\n  suggestionService = {\n    suggest: value => {\n      // Check if there is any input\n      if (value === '') {\n        return Promise.resolve([]);\n      }\n      value = value.toLowerCase();\n      const suggestions = this.notEntered\n        .filter(x => x.studref.first_name.toLowerCase().indexOf(value) === 0)\n        .sort();\n      return Promise.resolve(suggestions) },\n\n    getName: suggestion => suggestion.studref.first_name\n  };\n\n  quickUpdate(key) {\n    if (key === 13) {\n      if (this.assignmentMeta.type !== 'Checks') {\n        this.updateScore(key, this.quickName.id, this.quickPoints);\n        this.quickName.value = this.quickPoints;\n        this.entered.push(this.quickName);\n      } else {\n        this.updateScore(key, this.quickName.id, 1);\n        this.quickName.value = 1;\n        this.entered.push(this.quickName);\n      }\n\n      // clear forms\n      this.quickName = null;\n      this.quickPoints = null;\n      this.quickScoreFocus = false;\n      this.quickNameFocus = true;\n\n    } else {\n      return true;\n    }\n  }\n}\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {HttpClient} from 'aurelia-http-client';\n\nexport class SubjectList {\n  constructor() {\n    this.http = new HttpClient();\n    this.subjects = [];\n  }\n\n    created() {\n      this.http.get('http://localhost:5000/api/subjects').then(data => {\n        this.subjects = JSON.parse(data.response).objects;\n        // this.subjects = items.objects;\n    });\n    };\n\n    select(contact) {\n      this.selectedId = contact.id;\n      return true;\n    }\n}\n","export class ScoreFormatValueConverter {\n  toView(value, assignInfo) {\n    if (assignInfo.type === 'Points') {\n      return `${Math.round((value / assignInfo.max) * 100)}%`\n    }\n  }\n}\n","import {bindingMode, observable} from 'aurelia-binding';\nimport {bindable} from 'aurelia-templating';\nimport {inject} from 'aurelia-dependency-injection';\nimport {DOM} from 'aurelia-pal';\n\nlet nextID = 0;\n\n@inject(Element)\nexport class Autocomplete {\n  @bindable service;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) value;\n  @bindable placeholder = '';\n  @bindable delay = 300;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) quickNameFocus;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) quickScoreFocus;\n  @bindable assmType;\n  @bindable checks;\n  id = nextID++;\n  expanded = false;\n  @observable inputValue = '';\n  updatingInput = false;\n  suggestions = [];\n  index = -1;\n  suggestionsUL = null;\n  userInput = '';\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  display(name) {\n    this.updatingInput = true;\n    this.inputValue = name;\n    this.updatingInput = false;\n  }\n\n  getName(suggestion) {\n    if (suggestion == null) {\n      return '';\n    }\n    return this.service.getName(suggestion);\n  }\n\n  collapse() {\n    this.expanded = false;\n    this.index = -1;\n  }\n\n  select(suggestion, notify) {\n    this.value = suggestion;\n    const name = this.getName(this.value);\n    this.userInput = name;\n    this.display(name);\n    this.collapse();\n    if (notify) {\n      const event = DOM.createCustomEvent('change', { bubbles: true });\n      event.value = suggestion;\n      event.autocomplete = this;\n      this.element.dispatchEvent(event);\n    }\n  }\n\n  valueChanged() {\n    this.select(this.value, false);\n  }\n\n  inputValueChanged(value) {\n    if (this.updatingInput) {\n      return;\n    }\n    this.userInput = value;\n    if (value === '') {\n      this.value = null;\n      this.collapse();\n      return;\n    }\n    this.service.suggest(value)\n      .then(suggestions => {\n        this.index = -1;\n        this.suggestions.splice(0, this.suggestions.length, ...suggestions);\n        if (suggestions.length === 1 && suggestions[0].studref.first_name !== this.value) {\n          this.select(suggestions[0], true);\n        } else if (suggestions.length === 0) {\n          this.collapse();\n        } else {\n          this.expanded = true;\n        }\n      });\n  }\n\n  scroll() {\n    const ul = this.suggestionsUL;\n    const li = ul.children.item(this.index === -1 ? 0 : this.index);\n    if (li.offsetTop + li.offsetHeight > ul.offsetHeight) {\n      ul.scrollTop += li.offsetHeight;\n    } else if(li.offsetTop < ul.scrollTop) {\n      ul.scrollTop = li.offsetTop;\n    }\n  }\n\n  keydown(key) {\n    if (!this.expanded) {\n      if (key === 13) {\n        if (this.assmType === 'Points') {\n          this.quickNameFocus = false;\n          this.quickScoreFocus = true;\n          return;\n        } else {\n          console.log(\"this is running\")\n          this.checks({key: key});\n          return;\n        }\n      }\n      return true;\n    }\n\n    // down\n    if (key === 40) {\n      if (this.index < this.suggestions.length - 1) {\n        this.index++;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // up\n    if (key === 38) {\n      if (this.index === -1) {\n        this.index = this.suggestions.length - 1;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else if (this.index > 0) {\n        this.index--;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // escape\n    if (key === 27) {\n      this.display(this.userInput);\n      this.collapse();\n      return;\n    }\n\n    // enter\n    if (key === 13) {\n      if (this.index >= 0) {\n        this.select(this.suggestions[this.index], true);\n      }\n      this.quickNameFocus = false;\n      this.quickScoreFocus = true;\n      return;\n    }\n\n    return true;\n  }\n\n  blur() {\n    this.select(this.value, false);\n    this.element.dispatchEvent(DOM.createCustomEvent('blur'));\n  }\n\n  suggestionClicked(suggestion) {\n    this.select(suggestion, true);\n  }\n\n  focus() {\n    this.element.firstElementChild.focus();\n  }\n}\n\n// aria-activedescendant\n// https://webaccessibility.withgoogle.com/unit?unit=6&lesson=13\n// https://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n// https://www.w3.org/TR/wai-aria/roles#combobox\n","export function configure(config) {\n  //config.globalResources([]);\n}\n"],"sourceRoot":".."}