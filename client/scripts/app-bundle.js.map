{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/gradebook/index.js","src/resources/autocomplete.js","src/resources/index.js","src/gradebook/components/assignmentlist.js","src/gradebook/components/quickEntry.js","src/gradebook/components/scoresList.js","src/gradebook/converters/score-format.js"],"names":["App","configureRouter","config","router","title","map","route","redirect","moduleId","nav","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","GradeBook","http","subjectSelected","assignmentSelected","quickEntry","created","get","subjects","JSON","parse","data","response","objects","selectSubject","subject","selectAssignment","assignment","toggleQuick","nextID","Autocomplete","Element","defaultBindingMode","twoWay","element","id","expanded","updatingInput","suggestions","index","suggestionsUL","userInput","display","name","inputValue","getName","suggestion","service","collapse","select","notify","value","event","createCustomEvent","bubbles","autocomplete","dispatchEvent","valueChanged","inputValueChanged","suggest","splice","length","studref","first_name","scroll","ul","li","children","item","offsetTop","offsetHeight","scrollTop","keydown","key","isPoints","nameFocus","scoreFocus","checks","quickNameFocus","quickScoreFocus","blur","suggestionClicked","focus","firstElementChild","AssignmentList","selectedId","subjectChanged","getAssignments","qobj","filters","order_by","createRequest","asGet","withParams","q","stringify","send","assignments","chooseAssignment","QuickEntry","suggestionService","Promise","resolve","toLowerCase","notEntered","filter","x","indexOf","sort","entered","bind","getScores","type","detached","parseKey","score","quickPoints","updateScore","push","asPut","withContent","ScoresList","editScoreId","scores","editScore","editFocus","ScoreFormatValueConverter","toView","assignInfo","Math","round","max"],"mappings":";;;;;;;;;;;;;MAAaA,cAAAA;;;;;kBACXC,2CAAgBC,QAAQC,QAAQ;AAC9BD,aAAOE,KAAP,GAAe,OAAf;AACAF,aAAOG,GAAP,CAAW,CACT,EAAEC,OAAO,EAAT,EAAaC,UAAU,WAAvB,EADS,EAET,EAAED,OAAO,WAAT,EAAsBE,UAAU,mBAAhC,EAAqDC,KAAK,CAA1D,EAA6DL,OAAO,WAApE,EAFS,EAGT,EAAEE,OAAO,OAAT,EAAmBE,UAAU,OAA7B,EAAsCC,KAAK,CAA3C,EAA8CL,OAAO,gBAArD,EAHS,CAAX;;AAMA,WAAKD,MAAL,GAAcA,MAAd;AACD;;;;;;;;;;;oBCVY;AACbO,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCECC,YAAAA;;;;;;;;;;AAAT,WAASA,SAAT,CAAmBC,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAYN,KAAhB,EAAuB;AACrBG,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAYN,OAAhB,EAAyB;AACvBE,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMP,QAAQQ,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;;;;;;;;;;;MCZYC,oBAAAA,oBADZ;AAEC,uBAAYC,IAAZ,EAAkB;AAAA;;AAEhB,WAAKA,IAAL,GAAYA,IAAZ;;AAGA,WAAKC,eAAL,GAAuB,KAAvB;AACA,WAAKC,kBAAL,GAA0B,KAA1B;AACA,WAAKC,UAAL,GAAkB,KAAlB;AACD;;wBAEDC,6BAAU;AAAA;;AAER,WAAKJ,IAAL,CAAUK,GAAV,CAAc,oCAAd,EAAoDR,IAApD,CAAyD,gBAAQ;AAC/D,cAAKS,QAAL,GAAgBC,KAAKC,KAAL,CAAWC,KAAKC,QAAhB,EAA0BC,OAA1C;AACD,OAFD;AAGD;;wBAEDC,uCAAcC,SAAS;AAErB,WAAKZ,eAAL,GAAuBY,OAAvB;AACA,WAAKX,kBAAL,GAA0B,KAA1B;AACD;;wBAEDY,6CAAiBC,YAAY;AAC3B,WAAKb,kBAAL,GAA0Ba,UAA1B;AACD;;wBAEDC,qCAAc;AACZ,WAAKb,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BH,MAAIc,SAAS,CAAb;;MAGaC,uBAAAA,uBADZ,wCAAOC,OAAP,WAGE,iCAAS,EAAEC,oBAAoB,4BAAYC,MAAlC,EAAT,WAGA,iCAAS,EAAED,oBAAoB,4BAAYC,MAAlC,EAAT,WACA,iCAAS,EAAED,oBAAoB,4BAAYC,MAAlC,EAAT;AAYD,0BAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,WATrBC,EASqB,GAThBN,QASgB;AAAA,WARrBO,QAQqB,GARV,KAQU;;AAAA;;AAAA,WANrBC,aAMqB,GANL,KAMK;AAAA,WALrBC,WAKqB,GALP,EAKO;AAAA,WAJrBC,KAIqB,GAJb,CAAC,CAIY;AAAA,WAHrBC,aAGqB,GAHL,IAGK;AAAA,WAFrBC,SAEqB,GAFT,EAES;;AACnB,WAAKP,OAAL,GAAeA,OAAf;AACD;;2BAEDQ,2BAAQC,MAAM;AACZ,WAAKN,aAAL,GAAqB,IAArB;AACA,WAAKO,UAAL,GAAkBD,IAAlB;AACA,WAAKN,aAAL,GAAqB,KAArB;AACD;;2BAEDQ,2BAAQC,YAAY;AAClB,UAAIA,cAAc,IAAlB,EAAwB;AACtB,eAAO,EAAP;AACD;AACD,aAAO,KAAKC,OAAL,CAAaF,OAAb,CAAqBC,UAArB,CAAP;AACD;;2BAEDE,+BAAW;AACT,WAAKZ,QAAL,GAAgB,KAAhB;AACA,WAAKG,KAAL,GAAa,CAAC,CAAd;AACD;;2BAEDU,yBAAOH,YAAYI,QAAQ;AACzB,WAAKC,KAAL,GAAaL,UAAb;AACA,UAAMH,OAAO,KAAKE,OAAL,CAAa,KAAKM,KAAlB,CAAb;AACA,WAAKV,SAAL,GAAiBE,IAAjB;AACA,WAAKD,OAAL,CAAaC,IAAb;AACA,WAAKK,QAAL;AACA,UAAIE,MAAJ,EAAY;AACV,YAAME,QAAQ,gBAAIC,iBAAJ,CAAsB,QAAtB,EAAgC,EAAEC,SAAS,IAAX,EAAhC,CAAd;AACAF,cAAMD,KAAN,GAAcL,UAAd;AACAM,cAAMG,YAAN,GAAqB,IAArB;AACA,aAAKrB,OAAL,CAAasB,aAAb,CAA2BJ,KAA3B;AACD;AACF;;2BAEDK,uCAAe;AACb,WAAKR,MAAL,CAAY,KAAKE,KAAjB,EAAwB,KAAxB;AACD;;2BAEDO,+CAAkBP,OAAO;AAAA;;AACvB,UAAI,KAAKd,aAAT,EAAwB;AACtB;AACD;AACD,WAAKI,SAAL,GAAiBU,KAAjB;AACA,UAAIA,UAAU,EAAd,EAAkB;AAChB,aAAKA,KAAL,GAAa,IAAb;AACA,aAAKH,QAAL;AACA;AACD;AACD,WAAKD,OAAL,CAAaY,OAAb,CAAqBR,KAArB,EACG1C,IADH,CACQ,uBAAe;AAAA;;AACnB,cAAK8B,KAAL,GAAa,CAAC,CAAd;AACA,8BAAKD,WAAL,EAAiBsB,MAAjB,sBAAwB,CAAxB,EAA2B,MAAKtB,WAAL,CAAiBuB,MAA5C,SAAuDvB,WAAvD;AACA,YAAIA,YAAYuB,MAAZ,KAAuB,CAAvB,IAA4BvB,YAAY,CAAZ,EAAewB,OAAf,CAAuBC,UAAvB,KAAsC,MAAKZ,KAA3E,EAAkF;AAChF,gBAAKF,MAAL,CAAYX,YAAY,CAAZ,CAAZ,EAA4B,IAA5B;AACD,SAFD,MAEO,IAAIA,YAAYuB,MAAZ,KAAuB,CAA3B,EAA8B;AACnC,gBAAKb,QAAL;AACD,SAFM,MAEA;AACL,gBAAKZ,QAAL,GAAgB,IAAhB;AACD;AACF,OAXH;AAYD;;2BAED4B,2BAAS;AACP,UAAMC,KAAK,KAAKzB,aAAhB;AACA,UAAM0B,KAAKD,GAAGE,QAAH,CAAYC,IAAZ,CAAiB,KAAK7B,KAAL,KAAe,CAAC,CAAhB,GAAoB,CAApB,GAAwB,KAAKA,KAA9C,CAAX;AACA,UAAI2B,GAAGG,SAAH,GAAeH,GAAGI,YAAlB,GAAiCL,GAAGK,YAAxC,EAAsD;AACpDL,WAAGM,SAAH,IAAgBL,GAAGI,YAAnB;AACD,OAFD,MAEO,IAAIJ,GAAGG,SAAH,GAAeJ,GAAGM,SAAtB,EAAiC;AACtCN,WAAGM,SAAH,GAAeL,GAAGG,SAAlB;AACD;AACF;;2BAEDG,2BAAQC,KAAK;AACX,UAAI,CAAC,KAAKrC,QAAV,EAAoB;AAClB,YAAIqC,QAAQ,EAAZ,EAAgB;AACd,cAAI,KAAKC,QAAT,EAAmB;AACjB,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,UAAL,GAAkB,IAAlB;AACD,WAHD,MAGO;AACL,iBAAKC,MAAL,CAAY,EAACJ,KAAKA,GAAN,EAAZ;AACD;AACF;AACD,eAAO,IAAP;AACD;;AAGD,UAAIA,QAAQ,EAAZ,EAAgB;AACd,YAAI,KAAKlC,KAAL,GAAa,KAAKD,WAAL,CAAiBuB,MAAjB,GAA0B,CAA3C,EAA8C;AAC5C,eAAKtB,KAAL;AACA,eAAKG,OAAL,CAAa,KAAKG,OAAL,CAAa,KAAKP,WAAL,CAAiB,KAAKC,KAAtB,CAAb,CAAb;AACD,SAHD,MAGO;AACL,eAAKA,KAAL,GAAa,CAAC,CAAd;AACA,eAAKG,OAAL,CAAa,KAAKD,SAAlB;AACD;AACD,aAAKuB,MAAL;AACA;AACD;;AAGD,UAAIS,QAAQ,EAAZ,EAAgB;AACd,YAAI,KAAKlC,KAAL,KAAe,CAAC,CAApB,EAAuB;AACrB,eAAKA,KAAL,GAAa,KAAKD,WAAL,CAAiBuB,MAAjB,GAA0B,CAAvC;AACA,eAAKnB,OAAL,CAAa,KAAKG,OAAL,CAAa,KAAKP,WAAL,CAAiB,KAAKC,KAAtB,CAAb,CAAb;AACD,SAHD,MAGO,IAAI,KAAKA,KAAL,GAAa,CAAjB,EAAoB;AACzB,eAAKA,KAAL;AACA,eAAKG,OAAL,CAAa,KAAKG,OAAL,CAAa,KAAKP,WAAL,CAAiB,KAAKC,KAAtB,CAAb,CAAb;AACD,SAHM,MAGA;AACL,eAAKA,KAAL,GAAa,CAAC,CAAd;AACA,eAAKG,OAAL,CAAa,KAAKD,SAAlB;AACD;AACD,aAAKuB,MAAL;AACA;AACD;;AAGD,UAAIS,QAAQ,EAAZ,EAAgB;AACd,aAAK/B,OAAL,CAAa,KAAKD,SAAlB;AACA,aAAKO,QAAL;AACA;AACD;;AAGD,UAAIyB,QAAQ,EAAZ,EAAgB;AACd,YAAI,KAAKlC,KAAL,IAAc,CAAlB,EAAqB;AACnB,eAAKU,MAAL,CAAY,KAAKX,WAAL,CAAiB,KAAKC,KAAtB,CAAZ,EAA0C,IAA1C;AACD;AACD,aAAKuC,cAAL,GAAsB,KAAtB;AACA,aAAKC,eAAL,GAAuB,IAAvB;AACA;AACD;;AAED,aAAO,IAAP;AACD;;2BAEDC,uBAAO;AACL,WAAK/B,MAAL,CAAY,KAAKE,KAAjB,EAAwB,KAAxB;AACA,WAAKjB,OAAL,CAAasB,aAAb,CAA2B,gBAAIH,iBAAJ,CAAsB,MAAtB,CAA3B;AACD;;2BAED4B,+CAAkBnC,YAAY;AAC5B,WAAKG,MAAL,CAAYH,UAAZ,EAAwB,IAAxB;AACD;;2BAEDoC,yBAAQ;AACN,WAAKhD,OAAL,CAAaiD,iBAAb,CAA+BD,KAA/B;AACD;;;;;;;;;;;;aAlKuB;;;;;aACN;;;;;;;;;;;;;;;;;aAOO;;;;;;;;;;UCnBXjF,YAAAA;AAAT,WAASA,SAAT,CAAmBV,MAAnB,EAA2B,CAEjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCGY6F,yBAAAA,yBADZ;AAKC,4BAAYxE,IAAZ,EAAkB;AAAA;;AAAA;;AAAA;;AAEhB,WAAKA,IAAL,GAAYA,IAAZ;;AAGA,WAAKyE,UAAL,GAAkB,KAAlB;AACD;;6BAEDC,2CAAiB;AACf,WAAKC,cAAL,CAAoB,KAAK9D,OAAzB;AACA,WAAK4D,UAAL,GAAkB,KAAlB;AACD;;6BAEDE,yCAAe9D,SAAS;AAAA;;AAEtB,UAAI+D,OAAO;AACTC,iBAAS,CAAC,EAAC,QAAQ,QAAT,EAAmB,MAAM,IAAzB,EAA+B,OAAOhE,QAAQU,EAA9C,EAAD,CADA;AAETuD,kBAAU,CAAC,EAAC,SAAS,MAAV,EAAkB,aAAa,MAA/B,EAAD;AAFD,OAAX;;AAMA,WAAK9E,IAAL,CAAU+E,aAAV,CAAwB,uCAAxB,EACGC,KADH,GAEGC,UAFH,CAEc,EAACC,GAAG3E,KAAK4E,SAAL,CAAeP,IAAf,CAAJ,EAFd,EAGGQ,IAHH,GAIGvF,IAJH,CAIQ,gBAAQ;AACZ,cAAKwF,WAAL,GAAmB9E,KAAKC,KAAL,CAAWC,KAAKC,QAAhB,EAA0BC,OAA7C;AACD,OANH;AAOD;;6BAED2E,6CAAiBvE,YAAY;AAC3B,WAAK0D,UAAL,GAAkB1D,WAAWQ,EAA7B;AACA,WAAKT,gBAAL,CAAsB,EAACC,YAAYA,UAAb,EAAtB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCrCUwE,qBAAAA,qBADZ;AAIC,wBAAYvF,IAAZ,EAAkB;AAAA;;AAAA;;AAAA;;AAAA,WAmBlBwF,iBAnBkB,GAmBE;AAClBzC,iBAAS,wBAAS;AAEhB,cAAIR,UAAU,EAAd,EAAkB;AAChB,mBAAOkD,QAAQC,OAAR,CAAgB,EAAhB,CAAP;AACD;AACDnD,kBAAQA,MAAMoD,WAAN,EAAR;AACA,cAAMjE,cAAc,MAAKkE,UAAL,CACjBC,MADiB,CACV;AAAA,mBAAKC,EAAE5C,OAAF,CAAUC,UAAV,CAAqBwC,WAArB,GAAmCI,OAAnC,CAA2CxD,KAA3C,MAAsD,CAA3D;AAAA,WADU,EAEjByD,IAFiB,EAApB;AAGA,iBAAOP,QAAQC,OAAR,CAAgBhE,WAAhB,CAAP;AACD,SAXiB;;AAalBO,iBAAS;AAAA,iBAAcC,WAAWgB,OAAX,CAAmBC,UAAjC;AAAA;AAbS,OAnBF;;AAEhB,WAAKnD,IAAL,GAAYA,IAAZ;;AAGA,WAAKiG,OAAL,GAAe,EAAf;AACD;;yBAEDC,uBAAO;AACL,WAAKC,SAAL,CAAe,KAAKpF,UAApB;AACA,WAAK+C,QAAL,GAAgB,KAAK/C,UAAL,CAAgBqF,IAAhB,KAAyB,QAAzC;AACA,WAAKrC,SAAL,GAAiB,IAAjB;AACD;;yBAEDsC,+BAAW;AACT,WAAKJ,OAAL,GAAe,EAAf;AACD;;yBAmBDE,+BAAUpF,YAAY;AAAA;;AAEpB,UAAI6D,OAAO;AACTC,iBAAS,CAAC,EAAC,QAAQ,UAAT,EAAqB,MAAM,IAA3B,EAAiC,OAAO9D,WAAWQ,EAAnD,EAAD,CADA;AAETuD,kBAAU,CAAC,EAAC,SAAS,qBAAV,EAAiC,aAAa,KAA9C,EAAD;AAFD,OAAX;;AAMA,WAAK9E,IAAL,CAAU+E,aAAV,CAAwB,kCAAxB,EACGC,KADH,GAEGC,UAFH,CAEc,EAACC,GAAG3E,KAAK4E,SAAL,CAAeP,IAAf,CAAJ,EAFd,EAGGQ,IAHH,GAIGvF,IAJH,CAIQ,gBAAQ;AACZ,eAAK+F,UAAL,GAAkBrF,KAAKC,KAAL,CAAWC,KAAKC,QAAhB,EAA0BC,OAA5C;AACD,OANH;AAOD;;yBAED2F,6BAASzC,KAAK;AAAA;;AACZ,UAAIA,QAAQ,EAAZ,EAAgB;AACd,YAAI,KAAKC,QAAT,EAAmB;AACjB,eAAKyC,KAAL,CAAWhE,KAAX,GAAmB,KAAKiE,WAAxB;AACA,eAAKC,WAAL,CAAiB,KAAKF,KAAtB;AACD,SAHD,MAGO;AACL,eAAKA,KAAL,CAAWhE,KAAX,GAAmB,CAAnB;AACA,eAAKkE,WAAL,CAAiB,KAAKF,KAAtB;AACD;;AAGD,aAAKN,OAAL,CAAaS,IAAb,CAAkB,KAAKH,KAAvB;;AAGA,aAAKX,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,MAAhB,CAAuB;AAAA,iBAAQrC,KAAKjC,EAAL,KAAY,OAAKgF,KAAL,CAAWhF,EAA/B;AAAA,SAAvB,CAAlB;;AAGA,aAAKgF,KAAL,GAAa,IAAb;AACA,aAAKC,WAAL,GAAmB,IAAnB;AACA,aAAKxC,UAAL,GAAkB,KAAlB;AACA,aAAKD,SAAL,GAAiB,IAAjB;AACD,OApBD,MAoBO;AACL,eAAO,IAAP;AACD;AACF;;yBAED0C,mCAAYF,OAAO;AACjB,WAAKvG,IAAL,CAAU+E,aAAV,CAAwB,sCAAsCwB,MAAMhF,EAApE,EACGoF,KADH,GAEGC,WAFH,CAEe,EAAC,SAASL,MAAMhE,KAAhB,EAFf,EAGG6C,IAHH;AAID;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCtFUyB,qBAAAA,qBADZ;AAIC,wBAAY7G,IAAZ,EAAkB;AAAA;;AAAA;;AAEhB,WAAKA,IAAL,GAAYA,IAAZ;;AAGA,WAAK8G,WAAL,GAAmB,IAAnB;AACD;;yBAEDZ,uBAAO;AACL,WAAKC,SAAL,CAAe,KAAKpF,UAApB;AACA,WAAK+C,QAAL,GAAgB,KAAK/C,UAAL,CAAgBqF,IAAhB,KAAyB,QAAzC;AACD;;yBAEDD,+BAAUpF,YAAY;AAAA;;AAEpB,UAAI6D,OAAO;AACTC,iBAAS,CAAC,EAAC,QAAQ,UAAT,EAAqB,MAAM,IAA3B,EAAiC,OAAO9D,WAAWQ,EAAnD,EAAD,CADA;AAETuD,kBAAU,CAAC,EAAC,SAAS,qBAAV,EAAiC,aAAa,KAA9C,EAAD;AAFD,OAAX;;AAMA,WAAK9E,IAAL,CAAU+E,aAAV,CAAwB,kCAAxB,EACGC,KADH,GAEGC,UAFH,CAEc,EAACC,GAAG3E,KAAK4E,SAAL,CAAeP,IAAf,CAAJ,EAFd,EAGGQ,IAHH,GAIGvF,IAJH,CAIQ,gBAAQ;AACZ,cAAKkH,MAAL,GAAcxG,KAAKC,KAAL,CAAWC,KAAKC,QAAhB,EAA0BC,OAAxC;AACD,OANH;AAOD;;yBAEDqG,+BAAUT,OAAO;AACf,UAAI,KAAKzC,QAAT,EAAmB;AACjB,aAAKgD,WAAL,GAAmBP,MAAMhF,EAAzB;AACA,aAAK0F,SAAL,GAAiB,IAAjB;AACD,OAHD,MAGO;AACLV,cAAMhE,KAAN,GAAc,IAAIgE,MAAMhE,KAAxB;AACA,aAAKkE,WAAL,CAAiB,SAAjB,EAA4BF,KAA5B;AACD;AACF;;yBAEDE,mCAAY5C,KAAK0C,OAAO;AACtB,UAAI1C,QAAQ,EAAR,IAAcA,QAAQ,SAA1B,EAAqC;AACnC,aAAK7D,IAAL,CAAU+E,aAAV,CAAwB,sCAAsCwB,MAAMhF,EAApE,EACGoF,KADH,GAEGC,WAFH,CAEe,EAAC,SAASL,MAAMhE,KAAhB,EAFf,EAGG6C,IAHH;;AAMA,aAAK0B,WAAL,GAAmB,IAAnB;AACD;;AAED,aAAO,IAAP;AACD;;;;;;;;;;;;;;;;;;;;;MC5DUI,oCAAAA;;;;;wCACXC,yBAAO5E,OAAO6E,YAAY;AACxB,UAAIA,WAAWhB,IAAX,KAAoB,QAAxB,EAAkC;AAChC,eAAUiB,KAAKC,KAAL,CAAY/E,QAAQ6E,WAAWG,GAApB,GAA2B,GAAtC,CAAV;AACD;AACF","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    config.title = 'Marks';\n    config.map([\n      { route: '', redirect: 'gradebook' },\n      { route: 'gradebook', moduleId: './gradebook/index', nav: 1, title: 'Gradebook'},\n      { route: 'admin',  moduleId: 'admin', nav: 2, title: 'Administration'}\n    ]);\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {HttpClient} from 'aurelia-http-client';\nimport {inject} from 'aurelia-framework';\n\n@inject(HttpClient)\nexport class GradeBook {\n  constructor(http) {\n    // Initalize Client\n    this.http = http;\n\n    // Initalize Selection Indicators\n    this.subjectSelected = false;\n    this.assignmentSelected = false;\n    this.quickEntry = false;\n  }\n\n  created() {\n    // Get subjects\n    this.http.get('http://localhost:5000/api/subjects').then(data => {\n      this.subjects = JSON.parse(data.response).objects;\n    });\n  }\n\n  selectSubject(subject) {\n    // Tell the rest of the app which subject is selected.\n    this.subjectSelected = subject;\n    this.assignmentSelected = false;  // Reset assignment when switching subs\n  }\n\n  selectAssignment(assignment) {\n    this.assignmentSelected = assignment;\n  }\n\n  toggleQuick() {\n    this.quickEntry = !this.quickEntry;\n  }\n}\n","import {bindingMode, observable} from 'aurelia-binding';\nimport {bindable} from 'aurelia-templating';\nimport {inject} from 'aurelia-dependency-injection';\nimport {DOM} from 'aurelia-pal';\n\nlet nextID = 0;\n\n@inject(Element)\nexport class Autocomplete {\n  @bindable service;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) value;\n  @bindable placeholder = '';\n  @bindable delay = 300;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) nameFocus;\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) scoreFocus;\n  @bindable isPoints;\n  @bindable checks;\n  id = nextID++;\n  expanded = false;\n  @observable inputValue = '';\n  updatingInput = false;\n  suggestions = [];\n  index = -1;\n  suggestionsUL = null;\n  userInput = '';\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  display(name) {\n    this.updatingInput = true;\n    this.inputValue = name;\n    this.updatingInput = false;\n  }\n\n  getName(suggestion) {\n    if (suggestion == null) {\n      return '';\n    }\n    return this.service.getName(suggestion);\n  }\n\n  collapse() {\n    this.expanded = false;\n    this.index = -1;\n  }\n\n  select(suggestion, notify) {\n    this.value = suggestion;\n    const name = this.getName(this.value);\n    this.userInput = name;\n    this.display(name);\n    this.collapse();\n    if (notify) {\n      const event = DOM.createCustomEvent('change', { bubbles: true });\n      event.value = suggestion;\n      event.autocomplete = this;\n      this.element.dispatchEvent(event);\n    }\n  }\n\n  valueChanged() {\n    this.select(this.value, false);\n  }\n\n  inputValueChanged(value) {\n    if (this.updatingInput) {\n      return;\n    }\n    this.userInput = value;\n    if (value === '') {\n      this.value = null;\n      this.collapse();\n      return;\n    }\n    this.service.suggest(value)\n      .then(suggestions => {\n        this.index = -1;\n        this.suggestions.splice(0, this.suggestions.length, ...suggestions);\n        if (suggestions.length === 1 && suggestions[0].studref.first_name !== this.value) {\n          this.select(suggestions[0], true);\n        } else if (suggestions.length === 0) {\n          this.collapse();\n        } else {\n          this.expanded = true;\n        }\n      });\n  }\n\n  scroll() {\n    const ul = this.suggestionsUL;\n    const li = ul.children.item(this.index === -1 ? 0 : this.index);\n    if (li.offsetTop + li.offsetHeight > ul.offsetHeight) {\n      ul.scrollTop += li.offsetHeight;\n    } else if (li.offsetTop < ul.scrollTop) {\n      ul.scrollTop = li.offsetTop;\n    }\n  }\n\n  keydown(key) {\n    if (!this.expanded) {\n      if (key === 13) {\n        if (this.isPoints) {\n          this.nameFocus = false;\n          this.scoreFocus = true;\n        } else {\n          this.checks({key: key});\n        }\n      }\n      return true;\n    }\n\n    // down\n    if (key === 40) {\n      if (this.index < this.suggestions.length - 1) {\n        this.index++;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // up\n    if (key === 38) {\n      if (this.index === -1) {\n        this.index = this.suggestions.length - 1;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else if (this.index > 0) {\n        this.index--;\n        this.display(this.getName(this.suggestions[this.index]));\n      } else {\n        this.index = -1;\n        this.display(this.userInput);\n      }\n      this.scroll();\n      return;\n    }\n\n    // escape\n    if (key === 27) {\n      this.display(this.userInput);\n      this.collapse();\n      return;\n    }\n\n    // enter\n    if (key === 13) {\n      if (this.index >= 0) {\n        this.select(this.suggestions[this.index], true);\n      }\n      this.quickNameFocus = false;\n      this.quickScoreFocus = true;\n      return;\n    }\n\n    return true;\n  }\n\n  blur() {\n    this.select(this.value, false);\n    this.element.dispatchEvent(DOM.createCustomEvent('blur'));\n  }\n\n  suggestionClicked(suggestion) {\n    this.select(suggestion, true);\n  }\n\n  focus() {\n    this.element.firstElementChild.focus();\n  }\n}\n\n// aria-activedescendant\n// https://webaccessibility.withgoogle.com/unit?unit=6&lesson=13\n// https://www.w3.org/TR/wai-aria/states_and_properties#aria-autocomplete\n// https://www.w3.org/TR/wai-aria/roles#combobox\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\n\n@inject(HttpClient)\nexport class AssignmentList {\n  @bindable subject;\n  @bindable selectAssignment;\n\n  constructor(http) {\n    // Initalize http client\n    this.http = http;\n\n    // Initalize Selection Indicators\n    this.selectedId = false;\n  }\n\n  subjectChanged() {\n    this.getAssignments(this.subject);\n    this.selectedId = false;\n  }\n\n  getAssignments(subject) {\n    // Filter object\n    let qobj = {\n      filters: [{'name': 'subjid', 'op': 'eq', 'val': subject.id}],\n      order_by: [{'field': 'date', 'direction': 'desc'}]\n    };\n\n    // Request Assignments\n    this.http.createRequest('http://localhost:5000/api/assignments')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.assignments = JSON.parse(data.response).objects;\n      });\n  }\n\n  chooseAssignment(assignment) {\n    this.selectedId = assignment.id;\n    this.selectAssignment({assignment: assignment});\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\n\n@inject(HttpClient)\nexport class QuickEntry {\n  @bindable assignment;\n\n  constructor(http) {\n    // Initalize http client\n    this.http = http;\n\n    // Initalize variables\n    this.entered = [];\n  }\n\n  bind() {\n    this.getScores(this.assignment);\n    this.isPoints = this.assignment.type === 'Points';\n    this.nameFocus = true;\n  }\n\n  detached() {\n    this.entered = [];\n  }\n\n  // Provides autocomplete Suggestions\n  suggestionService = {\n    suggest: value => {\n      // Check if there is any input\n      if (value === '') {\n        return Promise.resolve([]);\n      }\n      value = value.toLowerCase();\n      const suggestions = this.notEntered\n        .filter(x => x.studref.first_name.toLowerCase().indexOf(value) === 0)\n        .sort();\n      return Promise.resolve(suggestions);\n    },\n\n    getName: suggestion => suggestion.studref.first_name\n  };\n\n  getScores(assignment) {\n    // Filter Object\n    let qobj = {\n      filters: [{'name': 'assignid', 'op': 'eq', 'val': assignment.id}],\n      order_by: [{'field': 'studref__first_name', 'direction': 'asc'}]\n    };\n\n    // Get Data\n    this.http.createRequest('http://localhost:5000/api/scores')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.notEntered = JSON.parse(data.response).objects;\n      });\n  }\n\n  parseKey(key) {\n    if (key === 13) {\n      if (this.isPoints) {\n        this.score.value = this.quickPoints;\n        this.updateScore(this.score);\n      } else {\n        this.score.value = 1;\n        this.updateScore(this.score);\n      }\n\n      // Add to the entered list\n      this.entered.push(this.score);\n\n      // Remove Score from future suggestions\n      this.notEntered = this.notEntered.filter(item => item.id !== this.score.id);\n\n      // clear forms\n      this.score = null;\n      this.quickPoints = null;\n      this.scoreFocus = false;\n      this.nameFocus = true;\n    } else {\n      return true;\n    }\n  }\n\n  updateScore(score) {\n    this.http.createRequest('http://localhost:5000/api/scores/' + score.id)\n      .asPut()\n      .withContent({'value': score.value})\n      .send();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport {bindable} from 'aurelia-templating';\n\n@inject(HttpClient)\nexport class ScoresList {\n  @bindable assignment;\n\n  constructor(http) {\n    // Initalize http client\n    this.http = http;\n\n    // Initalize variables\n    this.editScoreId = null;\n  }\n\n  bind() {\n    this.getScores(this.assignment);\n    this.isPoints = this.assignment.type === 'Points';\n  }\n\n  getScores(assignment) {\n    // Filter Object\n    let qobj = {\n      filters: [{'name': 'assignid', 'op': 'eq', 'val': assignment.id}],\n      order_by: [{'field': 'studref__first_name', 'direction': 'asc'}]\n    };\n\n    // Get Data\n    this.http.createRequest('http://localhost:5000/api/scores')\n      .asGet()\n      .withParams({q: JSON.stringify(qobj)})\n      .send()\n      .then(data => {\n        this.scores = JSON.parse(data.response).objects;\n      });\n  }\n\n  editScore(score) {\n    if (this.isPoints) {\n      this.editScoreId = score.id;\n      this.editFocus = true;\n    } else {\n      score.value = 1 - score.value;\n      this.updateScore('blurred', score);\n    }\n  }\n\n  updateScore(key, score) {\n    if (key === 13 || key === 'blurred') {\n      this.http.createRequest('http://localhost:5000/api/scores/' + score.id)\n        .asPut()\n        .withContent({'value': score.value})\n        .send();\n\n      // Reset edit\n      this.editScoreId = null;\n    }\n    // Return True for non-enter key presses\n    return true;\n  }\n}\n","export class ScoreFormatValueConverter {\n  toView(value, assignInfo) {\n    if (assignInfo.type === 'Points') {\n      return `${Math.round((value / assignInfo.max) * 100)}%`\n    }\n  }\n}\n"],"sourceRoot":".."}